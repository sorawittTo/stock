(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ih={exports:{}},Yo={},ah={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=Symbol.for("react.element"),gp=Symbol.for("react.portal"),mp=Symbol.for("react.fragment"),yp=Symbol.for("react.strict_mode"),wp=Symbol.for("react.profiler"),_p=Symbol.for("react.provider"),Ep=Symbol.for("react.context"),Ap=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),Sp=Symbol.for("react.memo"),bp=Symbol.for("react.lazy"),zc=Symbol.iterator;function Np(t){return t===null||typeof t!="object"?null:(t=zc&&t[zc]||t["@@iterator"],typeof t=="function"?t:null)}var oh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sh=Object.assign,lh={};function fi(t,e,r){this.props=t,this.context=e,this.refs=lh,this.updater=r||oh}fi.prototype.isReactComponent={};fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uh(){}uh.prototype=fi.prototype;function Ou(t,e,r){this.props=t,this.context=e,this.refs=lh,this.updater=r||oh}var ju=Ou.prototype=new uh;ju.constructor=Ou;sh(ju,fi.prototype);ju.isPureReactComponent=!0;var Vc=Array.isArray,ch=Object.prototype.hasOwnProperty,Ru={current:null},dh={key:!0,ref:!0,__self:!0,__source:!0};function fh(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)ch.call(e,n)&&!dh.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:wa,type:t,key:a,ref:o,props:i,_owner:Ru.current}}function Ip(t,e){return{$$typeof:wa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ku(t){return typeof t=="object"&&t!==null&&t.$$typeof===wa}function Tp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Hc=/\/+/g;function bs(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tp(""+t.key):e.toString(36)}function ao(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wa:case gp:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+bs(o,0):n,Vc(i)?(r="",t!=null&&(r=t.replace(Hc,"$&/")+"/"),ao(i,e,r,"",function(u){return u})):i!=null&&(ku(i)&&(i=Ip(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Vc(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+bs(a,s);o+=ao(a,e,r,l,i)}else if(l=Np(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+bs(a,s++),o+=ao(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ka(t,e,r){if(t==null)return t;var n=[],i=0;return ao(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Op(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},oo={transition:null},jp={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:oo,ReactCurrentOwner:Ru};function hh(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:ka,forEach:function(t,e,r){ka(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ka(t,function(){e++}),e},toArray:function(t){return ka(t,function(e){return e})||[]},only:function(t){if(!ku(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=fi;K.Fragment=mp;K.Profiler=wp;K.PureComponent=Ou;K.StrictMode=yp;K.Suspense=Cp;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jp;K.act=hh;K.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=sh({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Ru.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)ch.call(e,l)&&!dh.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:wa,type:t.type,key:i,ref:a,props:n,_owner:o}};K.createContext=function(t){return t={$$typeof:Ep,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_p,_context:t},t.Consumer=t};K.createElement=fh;K.createFactory=function(t){var e=fh.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:Ap,render:t}};K.isValidElement=ku;K.lazy=function(t){return{$$typeof:bp,_payload:{_status:-1,_result:t},_init:Op}};K.memo=function(t,e){return{$$typeof:Sp,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=oo.transition;oo.transition={};try{t()}finally{oo.transition=e}};K.unstable_act=hh;K.useCallback=function(t,e){return ut.current.useCallback(t,e)};K.useContext=function(t){return ut.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};K.useEffect=function(t,e){return ut.current.useEffect(t,e)};K.useId=function(){return ut.current.useId()};K.useImperativeHandle=function(t,e,r){return ut.current.useImperativeHandle(t,e,r)};K.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return ut.current.useMemo(t,e)};K.useReducer=function(t,e,r){return ut.current.useReducer(t,e,r)};K.useRef=function(t){return ut.current.useRef(t)};K.useState=function(t){return ut.current.useState(t)};K.useSyncExternalStore=function(t,e,r){return ut.current.useSyncExternalStore(t,e,r)};K.useTransition=function(){return ut.current.useTransition()};K.version="18.3.1";ah.exports=K;var k=ah.exports;const Rp=vp(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=k,Pp=Symbol.for("react.element"),Dp=Symbol.for("react.fragment"),Mp=Object.prototype.hasOwnProperty,Lp=kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bp={key:!0,ref:!0,__self:!0,__source:!0};function ph(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Mp.call(e,n)&&!Bp.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Pp,type:t,key:a,ref:o,props:i,_owner:Lp.current}}Yo.Fragment=Dp;Yo.jsx=ph;Yo.jsxs=ph;ih.exports=Yo;var c=ih.exports,vh={exports:{}},St={},xh={exports:{}},gh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,z){var W=P.length;P.push(z);e:for(;0<W;){var Ee=W-1>>>1,ke=P[Ee];if(0<i(ke,z))P[Ee]=z,P[W]=ke,W=Ee;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var z=P[0],W=P.pop();if(W!==z){P[0]=W;e:for(var Ee=0,ke=P.length,ja=ke>>>1;Ee<ja;){var Jr=2*(Ee+1)-1,Ss=P[Jr],en=Jr+1,Ra=P[en];if(0>i(Ss,W))en<ke&&0>i(Ra,Ss)?(P[Ee]=Ra,P[en]=W,Ee=en):(P[Ee]=Ss,P[Jr]=W,Ee=Jr);else if(en<ke&&0>i(Ra,W))P[Ee]=Ra,P[en]=W,Ee=en;else break e}}return z}function i(P,z){var W=P.sortIndex-z.sortIndex;return W!==0?W:P.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=P)n(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=r(u)}}function _(P){if(g=!1,y(P),!v)if(r(l)!==null)v=!0,Zr(w);else{var z=r(u);z!==null&&Qr(_,z.startTime-P)}}function w(P,z){v=!1,g&&(g=!1,m(N),N=-1),p=!0;var W=h;try{for(y(z),f=r(l);f!==null&&(!(f.expirationTime>z)||P&&!Y());){var Ee=f.callback;if(typeof Ee=="function"){f.callback=null,h=f.priorityLevel;var ke=Ee(f.expirationTime<=z);z=t.unstable_now(),typeof ke=="function"?f.callback=ke:f===r(l)&&n(l),y(z)}else n(l);f=r(l)}if(f!==null)var ja=!0;else{var Jr=r(u);Jr!==null&&Qr(_,Jr.startTime-z),ja=!1}return ja}finally{f=null,h=W,p=!1}}var C=!1,S=null,N=-1,R=5,O=-1;function Y(){return!(t.unstable_now()-O<R)}function H(){if(S!==null){var P=t.unstable_now();O=P;var z=!0;try{z=S(!0,P)}finally{z?ie():(C=!1,S=null)}}else C=!1}var ie;if(typeof x=="function")ie=function(){x(H)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Yt=rt.port2;rt.port1.onmessage=H,ie=function(){Yt.postMessage(null)}}else ie=function(){E(H,0)};function Zr(P){S=P,C||(C=!0,ie())}function Qr(P,z){N=E(function(){P(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,Zr(w))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var W=h;h=z;try{return P()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=h;h=P;try{return z()}finally{h=W}},t.unstable_scheduleCallback=function(P,z,W){var Ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ee+W:Ee):W=Ee,P){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=W+ke,P={id:d++,callback:z,priorityLevel:P,startTime:W,expirationTime:ke,sortIndex:-1},W>Ee?(P.sortIndex=W,e(u,P),r(l)===null&&P===r(u)&&(g?(m(N),N=-1):g=!0,Qr(_,W-Ee))):(P.sortIndex=ke,e(l,P),v||p||(v=!0,Zr(w))),P},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(P){var z=h;return function(){var W=h;h=z;try{return P.apply(this,arguments)}finally{h=W}}}})(gh);xh.exports=gh;var Fp=xh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up=k,Ct=Fp;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mh=new Set,ea={};function Sn(t,e){ni(t,e),ni(t+"Capture",e)}function ni(t,e){for(ea[t]=e,t=0;t<e.length;t++)mh.add(e[t])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pl=Object.prototype.hasOwnProperty,$p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gc={},Wc={};function zp(t){return pl.call(Wc,t)?!0:pl.call(Gc,t)?!1:$p.test(t)?Wc[t]=!0:(Gc[t]=!0,!1)}function Vp(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hp(t,e,r,n){if(e===null||typeof e>"u"||Vp(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ct(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xe[t]=new ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xe[e]=new ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xe[t]=new ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xe[t]=new ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xe[t]=new ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xe[t]=new ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xe[t]=new ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xe[t]=new ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xe[t]=new ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pu=/[\-:]([a-z])/g;function Du(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pu,Du);Xe[e]=new ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pu,Du);Xe[e]=new ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pu,Du);Xe[e]=new ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xe[t]=new ct(t,1,!1,t.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xe[t]=new ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mu(t,e,r,n){var i=Xe.hasOwnProperty(e)?Xe[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hp(e,r,i,n)&&(r=null),n||i===null?zp(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var yr=Up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pa=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),Bn=Symbol.for("react.fragment"),Lu=Symbol.for("react.strict_mode"),vl=Symbol.for("react.profiler"),yh=Symbol.for("react.provider"),wh=Symbol.for("react.context"),Bu=Symbol.for("react.forward_ref"),xl=Symbol.for("react.suspense"),gl=Symbol.for("react.suspense_list"),Fu=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),_h=Symbol.for("react.offscreen"),Xc=Symbol.iterator;function wi(t){return t===null||typeof t!="object"?null:(t=Xc&&t[Xc]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,Ns;function ki(t){if(Ns===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ns=e&&e[1]||""}return`
`+Ns+t}var Is=!1;function Ts(t,e){if(!t||Is)return"";Is=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Is=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ki(t):""}function Gp(t){switch(t.tag){case 5:return ki(t.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 2:case 15:return t=Ts(t.type,!1),t;case 11:return t=Ts(t.type.render,!1),t;case 1:return t=Ts(t.type,!0),t;default:return""}}function ml(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bn:return"Fragment";case Ln:return"Portal";case vl:return"Profiler";case Lu:return"StrictMode";case xl:return"Suspense";case gl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wh:return(t.displayName||"Context")+".Consumer";case yh:return(t._context.displayName||"Context")+".Provider";case Bu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fu:return e=t.displayName||null,e!==null?e:ml(t.type)||"Memo";case Sr:e=t._payload,t=t._init;try{return ml(t(e))}catch{}}return null}function Wp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ml(e);case 8:return e===Lu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Eh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xp(t){var e=Eh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Da(t){t._valueTracker||(t._valueTracker=Xp(t))}function Ah(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Eh(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function _o(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yl(t,e){var r=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function qc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Gr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ch(t,e){e=e.checked,e!=null&&Mu(t,"checked",e,!1)}function wl(t,e){Ch(t,e);var r=Gr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_l(t,e.type,r):e.hasOwnProperty("defaultValue")&&_l(t,e.type,Gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function _l(t,e,r){(e!=="number"||_o(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Pi=Array.isArray;function Zn(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Gr(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function El(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(T(92));if(Pi(r)){if(1<r.length)throw Error(T(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Gr(r)}}function Sh(t,e){var r=Gr(e.value),n=Gr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Zc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Al(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ma,Nh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ma=Ma||document.createElement("div"),Ma.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ma.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ta(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qp=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(t){qp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vi[e]=Vi[t]})});function Ih(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Vi.hasOwnProperty(t)&&Vi[t]?(""+e).trim():e+"px"}function Th(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Ih(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Kp=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cl(t,e){if(e){if(Kp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Sl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bl=null;function Uu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nl=null,Qn=null,Jn=null;function Qc(t){if(t=Aa(t)){if(typeof Nl!="function")throw Error(T(280));var e=t.stateNode;e&&(e=ts(e),Nl(t.stateNode,t.type,e))}}function Oh(t){Qn?Jn?Jn.push(t):Jn=[t]:Qn=t}function jh(){if(Qn){var t=Qn,e=Jn;if(Jn=Qn=null,Qc(t),e)for(t=0;t<e.length;t++)Qc(e[t])}}function Rh(t,e){return t(e)}function kh(){}var Os=!1;function Ph(t,e,r){if(Os)return t(e,r);Os=!0;try{return Rh(t,e,r)}finally{Os=!1,(Qn!==null||Jn!==null)&&(kh(),jh())}}function ra(t,e){var r=t.stateNode;if(r===null)return null;var n=ts(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(T(231,e,typeof r));return r}var Il=!1;if(pr)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){Il=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{Il=!1}function Yp(t,e,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Hi=!1,Eo=null,Ao=!1,Tl=null,Zp={onError:function(t){Hi=!0,Eo=t}};function Qp(t,e,r,n,i,a,o,s,l){Hi=!1,Eo=null,Yp.apply(Zp,arguments)}function Jp(t,e,r,n,i,a,o,s,l){if(Qp.apply(this,arguments),Hi){if(Hi){var u=Eo;Hi=!1,Eo=null}else throw Error(T(198));Ao||(Ao=!0,Tl=u)}}function bn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Dh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jc(t){if(bn(t)!==t)throw Error(T(188))}function ev(t){var e=t.alternate;if(!e){if(e=bn(t),e===null)throw Error(T(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Jc(i),t;if(a===n)return Jc(i),e;a=a.sibling}throw Error(T(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?t:e}function Mh(t){return t=ev(t),t!==null?Lh(t):null}function Lh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lh(t);if(e!==null)return e;t=t.sibling}return null}var Bh=Ct.unstable_scheduleCallback,ed=Ct.unstable_cancelCallback,tv=Ct.unstable_shouldYield,rv=Ct.unstable_requestPaint,Ae=Ct.unstable_now,nv=Ct.unstable_getCurrentPriorityLevel,$u=Ct.unstable_ImmediatePriority,Fh=Ct.unstable_UserBlockingPriority,Co=Ct.unstable_NormalPriority,iv=Ct.unstable_LowPriority,Uh=Ct.unstable_IdlePriority,Zo=null,tr=null;function av(t){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Zo,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:lv,ov=Math.log,sv=Math.LN2;function lv(t){return t>>>=0,t===0?32:31-(ov(t)/sv|0)|0}var La=64,Ba=4194304;function Di(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function So(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Di(s):(a&=o,a!==0&&(n=Di(a)))}else o=r&~i,o!==0?n=Di(o):a!==0&&(n=Di(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xt(e),i=1<<r,n|=t[r],e&=~i;return n}function uv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cv(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Xt(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=uv(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Ol(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $h(){var t=La;return La<<=1,!(La&4194240)&&(La=64),t}function js(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function _a(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xt(e),t[e]=r}function dv(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Xt(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function zu(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var se=0;function zh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vh,Vu,Hh,Gh,Wh,jl=!1,Fa=[],Dr=null,Mr=null,Lr=null,na=new Map,ia=new Map,Or=[],fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function td(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":na.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(e.pointerId)}}function Ei(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Aa(e),e!==null&&Vu(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hv(t,e,r,n,i){switch(e){case"focusin":return Dr=Ei(Dr,t,e,r,n,i),!0;case"dragenter":return Mr=Ei(Mr,t,e,r,n,i),!0;case"mouseover":return Lr=Ei(Lr,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return na.set(a,Ei(na.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ia.set(a,Ei(ia.get(a)||null,t,e,r,n,i)),!0}return!1}function Xh(t){var e=dn(t.target);if(e!==null){var r=bn(e);if(r!==null){if(e=r.tag,e===13){if(e=Dh(r),e!==null){t.blockedOn=e,Wh(t.priority,function(){Hh(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function so(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Rl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);bl=n,r.target.dispatchEvent(n),bl=null}else return e=Aa(r),e!==null&&Vu(e),t.blockedOn=r,!1;e.shift()}return!0}function rd(t,e,r){so(t)&&r.delete(e)}function pv(){jl=!1,Dr!==null&&so(Dr)&&(Dr=null),Mr!==null&&so(Mr)&&(Mr=null),Lr!==null&&so(Lr)&&(Lr=null),na.forEach(rd),ia.forEach(rd)}function Ai(t,e){t.blockedOn===e&&(t.blockedOn=null,jl||(jl=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,pv)))}function aa(t){function e(i){return Ai(i,t)}if(0<Fa.length){Ai(Fa[0],t);for(var r=1;r<Fa.length;r++){var n=Fa[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Dr!==null&&Ai(Dr,t),Mr!==null&&Ai(Mr,t),Lr!==null&&Ai(Lr,t),na.forEach(e),ia.forEach(e),r=0;r<Or.length;r++)n=Or[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Or.length&&(r=Or[0],r.blockedOn===null);)Xh(r),r.blockedOn===null&&Or.shift()}var ei=yr.ReactCurrentBatchConfig,bo=!0;function vv(t,e,r,n){var i=se,a=ei.transition;ei.transition=null;try{se=1,Hu(t,e,r,n)}finally{se=i,ei.transition=a}}function xv(t,e,r,n){var i=se,a=ei.transition;ei.transition=null;try{se=4,Hu(t,e,r,n)}finally{se=i,ei.transition=a}}function Hu(t,e,r,n){if(bo){var i=Rl(t,e,r,n);if(i===null)$s(t,e,n,No,r),td(t,n);else if(hv(i,t,e,r,n))n.stopPropagation();else if(td(t,n),e&4&&-1<fv.indexOf(t)){for(;i!==null;){var a=Aa(i);if(a!==null&&Vh(a),a=Rl(t,e,r,n),a===null&&$s(t,e,n,No,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else $s(t,e,n,null,r)}}var No=null;function Rl(t,e,r,n){if(No=null,t=Uu(n),t=dn(t),t!==null)if(e=bn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Dh(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return No=t,null}function qh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nv()){case $u:return 1;case Fh:return 4;case Co:case iv:return 16;case Uh:return 536870912;default:return 16}default:return 16}}var kr=null,Gu=null,lo=null;function Kh(){if(lo)return lo;var t,e=Gu,r=e.length,n,i="value"in kr?kr.value:kr.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return lo=i.slice(t,1<n?1-n:void 0)}function uo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ua(){return!0}function nd(){return!1}function bt(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ua:nd,this.isPropagationStopped=nd,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),e}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=bt(hi),Ea=we({},hi,{view:0,detail:0}),gv=bt(Ea),Rs,ks,Ci,Qo=we({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Rs=t.screenX-Ci.screenX,ks=t.screenY-Ci.screenY):ks=Rs=0,Ci=t),Rs)},movementY:function(t){return"movementY"in t?t.movementY:ks}}),id=bt(Qo),mv=we({},Qo,{dataTransfer:0}),yv=bt(mv),wv=we({},Ea,{relatedTarget:0}),Ps=bt(wv),_v=we({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ev=bt(_v),Av=we({},hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cv=bt(Av),Sv=we({},hi,{data:0}),ad=bt(Sv),bv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Iv[t])?!!e[t]:!1}function Xu(){return Tv}var Ov=we({},Ea,{key:function(t){if(t.key){var e=bv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(t){return t.type==="keypress"?uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jv=bt(Ov),Rv=we({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=bt(Rv),kv=we({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),Pv=bt(kv),Dv=we({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mv=bt(Dv),Lv=we({},Qo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bv=bt(Lv),Fv=[9,13,27,32],qu=pr&&"CompositionEvent"in window,Gi=null;pr&&"documentMode"in document&&(Gi=document.documentMode);var Uv=pr&&"TextEvent"in window&&!Gi,Yh=pr&&(!qu||Gi&&8<Gi&&11>=Gi),sd=" ",ld=!1;function Zh(t,e){switch(t){case"keyup":return Fv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fn=!1;function $v(t,e){switch(t){case"compositionend":return Qh(e);case"keypress":return e.which!==32?null:(ld=!0,sd);case"textInput":return t=e.data,t===sd&&ld?null:t;default:return null}}function zv(t,e){if(Fn)return t==="compositionend"||!qu&&Zh(t,e)?(t=Kh(),lo=Gu=kr=null,Fn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yh&&e.locale!=="ko"?null:e.data;default:return null}}var Vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ud(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Vv[t.type]:e==="textarea"}function Jh(t,e,r,n){Oh(n),e=Io(e,"onChange"),0<e.length&&(r=new Wu("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wi=null,oa=null;function Hv(t){c0(t,0)}function Jo(t){var e=zn(t);if(Ah(e))return t}function Gv(t,e){if(t==="change")return e}var e0=!1;if(pr){var Ds;if(pr){var Ms="oninput"in document;if(!Ms){var cd=document.createElement("div");cd.setAttribute("oninput","return;"),Ms=typeof cd.oninput=="function"}Ds=Ms}else Ds=!1;e0=Ds&&(!document.documentMode||9<document.documentMode)}function dd(){Wi&&(Wi.detachEvent("onpropertychange",t0),oa=Wi=null)}function t0(t){if(t.propertyName==="value"&&Jo(oa)){var e=[];Jh(e,oa,t,Uu(t)),Ph(Hv,e)}}function Wv(t,e,r){t==="focusin"?(dd(),Wi=e,oa=r,Wi.attachEvent("onpropertychange",t0)):t==="focusout"&&dd()}function Xv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jo(oa)}function qv(t,e){if(t==="click")return Jo(e)}function Kv(t,e){if(t==="input"||t==="change")return Jo(e)}function Yv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kt=typeof Object.is=="function"?Object.is:Yv;function sa(t,e){if(Kt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!pl.call(e,i)||!Kt(t[i],e[i]))return!1}return!0}function fd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hd(t,e){var r=fd(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fd(r)}}function r0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function n0(){for(var t=window,e=_o();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=_o(t.document)}return e}function Ku(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zv(t){var e=n0(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&r0(r.ownerDocument.documentElement,r)){if(n!==null&&Ku(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=hd(r,a);var o=hd(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qv=pr&&"documentMode"in document&&11>=document.documentMode,Un=null,kl=null,Xi=null,Pl=!1;function pd(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pl||Un==null||Un!==_o(n)||(n=Un,"selectionStart"in n&&Ku(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xi&&sa(Xi,n)||(Xi=n,n=Io(kl,"onSelect"),0<n.length&&(e=new Wu("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Un)))}function $a(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var $n={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},Ls={},i0={};pr&&(i0=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function es(t){if(Ls[t])return Ls[t];if(!$n[t])return t;var e=$n[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in i0)return Ls[t]=e[r];return t}var a0=es("animationend"),o0=es("animationiteration"),s0=es("animationstart"),l0=es("transitionend"),u0=new Map,vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(t,e){u0.set(t,e),Sn(e,[t])}for(var Bs=0;Bs<vd.length;Bs++){var Fs=vd[Bs],Jv=Fs.toLowerCase(),ex=Fs[0].toUpperCase()+Fs.slice(1);Xr(Jv,"on"+ex)}Xr(a0,"onAnimationEnd");Xr(o0,"onAnimationIteration");Xr(s0,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr(l0,"onTransitionEnd");ni("onMouseEnter",["mouseout","mouseover"]);ni("onMouseLeave",["mouseout","mouseover"]);ni("onPointerEnter",["pointerout","pointerover"]);ni("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function xd(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Jp(n,e,void 0,t),t.currentTarget=null}function c0(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;xd(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;xd(i,s,u),a=l}}}if(Ao)throw t=Tl,Ao=!1,Tl=null,t}function fe(t,e){var r=e[Fl];r===void 0&&(r=e[Fl]=new Set);var n=t+"__bubble";r.has(n)||(d0(e,t,2,!1),r.add(n))}function Us(t,e,r){var n=0;e&&(n|=4),d0(r,t,n,e)}var za="_reactListening"+Math.random().toString(36).slice(2);function la(t){if(!t[za]){t[za]=!0,mh.forEach(function(r){r!=="selectionchange"&&(tx.has(r)||Us(r,!1,t),Us(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[za]||(e[za]=!0,Us("selectionchange",!1,e))}}function d0(t,e,r,n){switch(qh(e)){case 1:var i=vv;break;case 4:i=xv;break;default:i=Hu}r=i.bind(null,e,r,t),i=void 0,!Il||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function $s(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=dn(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}Ph(function(){var u=a,d=Uu(r),f=[];e:{var h=u0.get(t);if(h!==void 0){var p=Wu,v=t;switch(t){case"keypress":if(uo(r)===0)break e;case"keydown":case"keyup":p=jv;break;case"focusin":v="focus",p=Ps;break;case"focusout":v="blur",p=Ps;break;case"beforeblur":case"afterblur":p=Ps;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Pv;break;case a0:case o0:case s0:p=Ev;break;case l0:p=Mv;break;case"scroll":p=gv;break;case"wheel":p=Bv;break;case"copy":case"cut":case"paste":p=Cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=od}var g=(e&4)!==0,E=!g&&t==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,y;x!==null;){y=x;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,m!==null&&(_=ra(x,m),_!=null&&g.push(ua(x,_,y)))),E)break;x=x.return}0<g.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==bl&&(v=r.relatedTarget||r.fromElement)&&(dn(v)||v[vr]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?dn(v):null,v!==null&&(E=bn(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=id,_="onMouseLeave",m="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=od,_="onPointerLeave",m="onPointerEnter",x="pointer"),E=p==null?h:zn(p),y=v==null?h:zn(v),h=new g(_,x+"leave",p,r,d),h.target=E,h.relatedTarget=y,_=null,dn(d)===u&&(g=new g(m,x+"enter",v,r,d),g.target=y,g.relatedTarget=E,_=g),E=_,p&&v)t:{for(g=p,m=v,x=0,y=g;y;y=In(y))x++;for(y=0,_=m;_;_=In(_))y++;for(;0<x-y;)g=In(g),x--;for(;0<y-x;)m=In(m),y--;for(;x--;){if(g===m||m!==null&&g===m.alternate)break t;g=In(g),m=In(m)}g=null}else g=null;p!==null&&gd(f,h,p,g,!1),v!==null&&E!==null&&gd(f,E,v,g,!0)}}e:{if(h=u?zn(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=Gv;else if(ud(h))if(e0)w=Kv;else{w=Xv;var C=Wv}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=qv);if(w&&(w=w(t,u))){Jh(f,w,r,d);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&_l(h,"number",h.value)}switch(C=u?zn(u):window,t){case"focusin":(ud(C)||C.contentEditable==="true")&&(Un=C,kl=u,Xi=null);break;case"focusout":Xi=kl=Un=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,pd(f,r,d);break;case"selectionchange":if(Qv)break;case"keydown":case"keyup":pd(f,r,d)}var S;if(qu)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Fn?Zh(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Yh&&r.locale!=="ko"&&(Fn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Fn&&(S=Kh()):(kr=d,Gu="value"in kr?kr.value:kr.textContent,Fn=!0)),C=Io(u,N),0<C.length&&(N=new ad(N,t,null,r,d),f.push({event:N,listeners:C}),S?N.data=S:(S=Qh(r),S!==null&&(N.data=S)))),(S=Uv?$v(t,r):zv(t,r))&&(u=Io(u,"onBeforeInput"),0<u.length&&(d=new ad("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}c0(f,e)})}function ua(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Io(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ra(t,r),a!=null&&n.unshift(ua(t,a,i)),a=ra(t,e),a!=null&&n.push(ua(t,a,i))),t=t.return}return n}function In(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gd(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=ra(r,a),l!=null&&o.unshift(ua(r,l,s))):i||(l=ra(r,a),l!=null&&o.push(ua(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var rx=/\r\n?/g,nx=/\u0000|\uFFFD/g;function md(t){return(typeof t=="string"?t:""+t).replace(rx,`
`).replace(nx,"")}function Va(t,e,r){if(e=md(e),md(t)!==e&&r)throw Error(T(425))}function To(){}var Dl=null,Ml=null;function Ll(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bl=typeof setTimeout=="function"?setTimeout:void 0,ix=typeof clearTimeout=="function"?clearTimeout:void 0,yd=typeof Promise=="function"?Promise:void 0,ax=typeof queueMicrotask=="function"?queueMicrotask:typeof yd<"u"?function(t){return yd.resolve(null).then(t).catch(ox)}:Bl;function ox(t){setTimeout(function(){throw t})}function zs(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),aa(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);aa(e)}function Br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var pi=Math.random().toString(36).slice(2),Jt="__reactFiber$"+pi,ca="__reactProps$"+pi,vr="__reactContainer$"+pi,Fl="__reactEvents$"+pi,sx="__reactListeners$"+pi,lx="__reactHandles$"+pi;function dn(t){var e=t[Jt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[vr]||r[Jt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=wd(t);t!==null;){if(r=t[Jt])return r;t=wd(t)}return e}t=r,r=t.parentNode}return null}function Aa(t){return t=t[Jt]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function ts(t){return t[ca]||null}var Ul=[],Vn=-1;function qr(t){return{current:t}}function ve(t){0>Vn||(t.current=Ul[Vn],Ul[Vn]=null,Vn--)}function ce(t,e){Vn++,Ul[Vn]=t.current,t.current=e}var Wr={},et=qr(Wr),gt=qr(!1),mn=Wr;function ii(t,e){var r=t.type.contextTypes;if(!r)return Wr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mt(t){return t=t.childContextTypes,t!=null}function Oo(){ve(gt),ve(et)}function _d(t,e,r){if(et.current!==Wr)throw Error(T(168));ce(et,e),ce(gt,r)}function f0(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(T(108,Wp(t)||"Unknown",i));return we({},r,n)}function jo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wr,mn=et.current,ce(et,t),ce(gt,gt.current),!0}function Ed(t,e,r){var n=t.stateNode;if(!n)throw Error(T(169));r?(t=f0(t,e,mn),n.__reactInternalMemoizedMergedChildContext=t,ve(gt),ve(et),ce(et,t)):ve(gt),ce(gt,r)}var ur=null,rs=!1,Vs=!1;function h0(t){ur===null?ur=[t]:ur.push(t)}function ux(t){rs=!0,h0(t)}function Kr(){if(!Vs&&ur!==null){Vs=!0;var t=0,e=se;try{var r=ur;for(se=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ur=null,rs=!1}catch(i){throw ur!==null&&(ur=ur.slice(t+1)),Bh($u,Kr),i}finally{se=e,Vs=!1}}return null}var Hn=[],Gn=0,Ro=null,ko=0,It=[],Tt=0,yn=null,cr=1,dr="";function on(t,e){Hn[Gn++]=ko,Hn[Gn++]=Ro,Ro=t,ko=e}function p0(t,e,r){It[Tt++]=cr,It[Tt++]=dr,It[Tt++]=yn,yn=t;var n=cr;t=dr;var i=32-Xt(n)-1;n&=~(1<<i),r+=1;var a=32-Xt(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,cr=1<<32-Xt(e)+i|r<<i|n,dr=a+t}else cr=1<<a|r<<i|n,dr=t}function Yu(t){t.return!==null&&(on(t,1),p0(t,1,0))}function Zu(t){for(;t===Ro;)Ro=Hn[--Gn],Hn[Gn]=null,ko=Hn[--Gn],Hn[Gn]=null;for(;t===yn;)yn=It[--Tt],It[Tt]=null,dr=It[--Tt],It[Tt]=null,cr=It[--Tt],It[Tt]=null}var At=null,Et=null,xe=!1,Ht=null;function v0(t,e){var r=Ot(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ad(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,At=t,Et=Br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,At=t,Et=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yn!==null?{id:cr,overflow:dr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ot(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,At=t,Et=null,!0):!1;default:return!1}}function $l(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zl(t){if(xe){var e=Et;if(e){var r=e;if(!Ad(t,e)){if($l(t))throw Error(T(418));e=Br(r.nextSibling);var n=At;e&&Ad(t,e)?v0(n,r):(t.flags=t.flags&-4097|2,xe=!1,At=t)}}else{if($l(t))throw Error(T(418));t.flags=t.flags&-4097|2,xe=!1,At=t}}}function Cd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;At=t}function Ha(t){if(t!==At)return!1;if(!xe)return Cd(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ll(t.type,t.memoizedProps)),e&&(e=Et)){if($l(t))throw x0(),Error(T(418));for(;e;)v0(t,e),e=Br(e.nextSibling)}if(Cd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Et=Br(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Et=null}}else Et=At?Br(t.stateNode.nextSibling):null;return!0}function x0(){for(var t=Et;t;)t=Br(t.nextSibling)}function ai(){Et=At=null,xe=!1}function Qu(t){Ht===null?Ht=[t]:Ht.push(t)}var cx=yr.ReactCurrentBatchConfig;function Si(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,t))}return t}function Ga(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sd(t){var e=t._init;return e(t._payload)}function g0(t){function e(m,x){if(t){var y=m.deletions;y===null?(m.deletions=[x],m.flags|=16):y.push(x)}}function r(m,x){if(!t)return null;for(;x!==null;)e(m,x),x=x.sibling;return null}function n(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=zr(m,x),m.index=0,m.sibling=null,m}function a(m,x,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<x?(m.flags|=2,x):y):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function s(m,x,y,_){return x===null||x.tag!==6?(x=Ys(y,m.mode,_),x.return=m,x):(x=i(x,y),x.return=m,x)}function l(m,x,y,_){var w=y.type;return w===Bn?d(m,x,y.props.children,_,y.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Sr&&Sd(w)===x.type)?(_=i(x,y.props),_.ref=Si(m,x,y),_.return=m,_):(_=go(y.type,y.key,y.props,null,m.mode,_),_.ref=Si(m,x,y),_.return=m,_)}function u(m,x,y,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Zs(y,m.mode,_),x.return=m,x):(x=i(x,y.children||[]),x.return=m,x)}function d(m,x,y,_,w){return x===null||x.tag!==7?(x=xn(y,m.mode,_,w),x.return=m,x):(x=i(x,y),x.return=m,x)}function f(m,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ys(""+x,m.mode,y),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Pa:return y=go(x.type,x.key,x.props,null,m.mode,y),y.ref=Si(m,null,x),y.return=m,y;case Ln:return x=Zs(x,m.mode,y),x.return=m,x;case Sr:var _=x._init;return f(m,_(x._payload),y)}if(Pi(x)||wi(x))return x=xn(x,m.mode,y,null),x.return=m,x;Ga(m,x)}return null}function h(m,x,y,_){var w=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:s(m,x,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pa:return y.key===w?l(m,x,y,_):null;case Ln:return y.key===w?u(m,x,y,_):null;case Sr:return w=y._init,h(m,x,w(y._payload),_)}if(Pi(y)||wi(y))return w!==null?null:d(m,x,y,_,null);Ga(m,y)}return null}function p(m,x,y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(y)||null,s(x,m,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pa:return m=m.get(_.key===null?y:_.key)||null,l(x,m,_,w);case Ln:return m=m.get(_.key===null?y:_.key)||null,u(x,m,_,w);case Sr:var C=_._init;return p(m,x,y,C(_._payload),w)}if(Pi(_)||wi(_))return m=m.get(y)||null,d(x,m,_,w,null);Ga(x,_)}return null}function v(m,x,y,_){for(var w=null,C=null,S=x,N=x=0,R=null;S!==null&&N<y.length;N++){S.index>N?(R=S,S=null):R=S.sibling;var O=h(m,S,y[N],_);if(O===null){S===null&&(S=R);break}t&&S&&O.alternate===null&&e(m,S),x=a(O,x,N),C===null?w=O:C.sibling=O,C=O,S=R}if(N===y.length)return r(m,S),xe&&on(m,N),w;if(S===null){for(;N<y.length;N++)S=f(m,y[N],_),S!==null&&(x=a(S,x,N),C===null?w=S:C.sibling=S,C=S);return xe&&on(m,N),w}for(S=n(m,S);N<y.length;N++)R=p(S,m,N,y[N],_),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?N:R.key),x=a(R,x,N),C===null?w=R:C.sibling=R,C=R);return t&&S.forEach(function(Y){return e(m,Y)}),xe&&on(m,N),w}function g(m,x,y,_){var w=wi(y);if(typeof w!="function")throw Error(T(150));if(y=w.call(y),y==null)throw Error(T(151));for(var C=w=null,S=x,N=x=0,R=null,O=y.next();S!==null&&!O.done;N++,O=y.next()){S.index>N?(R=S,S=null):R=S.sibling;var Y=h(m,S,O.value,_);if(Y===null){S===null&&(S=R);break}t&&S&&Y.alternate===null&&e(m,S),x=a(Y,x,N),C===null?w=Y:C.sibling=Y,C=Y,S=R}if(O.done)return r(m,S),xe&&on(m,N),w;if(S===null){for(;!O.done;N++,O=y.next())O=f(m,O.value,_),O!==null&&(x=a(O,x,N),C===null?w=O:C.sibling=O,C=O);return xe&&on(m,N),w}for(S=n(m,S);!O.done;N++,O=y.next())O=p(S,m,N,O.value,_),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?N:O.key),x=a(O,x,N),C===null?w=O:C.sibling=O,C=O);return t&&S.forEach(function(H){return e(m,H)}),xe&&on(m,N),w}function E(m,x,y,_){if(typeof y=="object"&&y!==null&&y.type===Bn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Pa:e:{for(var w=y.key,C=x;C!==null;){if(C.key===w){if(w=y.type,w===Bn){if(C.tag===7){r(m,C.sibling),x=i(C,y.props.children),x.return=m,m=x;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Sr&&Sd(w)===C.type){r(m,C.sibling),x=i(C,y.props),x.ref=Si(m,C,y),x.return=m,m=x;break e}r(m,C);break}else e(m,C);C=C.sibling}y.type===Bn?(x=xn(y.props.children,m.mode,_,y.key),x.return=m,m=x):(_=go(y.type,y.key,y.props,null,m.mode,_),_.ref=Si(m,x,y),_.return=m,m=_)}return o(m);case Ln:e:{for(C=y.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(m,x.sibling),x=i(x,y.children||[]),x.return=m,m=x;break e}else{r(m,x);break}else e(m,x);x=x.sibling}x=Zs(y,m.mode,_),x.return=m,m=x}return o(m);case Sr:return C=y._init,E(m,x,C(y._payload),_)}if(Pi(y))return v(m,x,y,_);if(wi(y))return g(m,x,y,_);Ga(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(m,x.sibling),x=i(x,y),x.return=m,m=x):(r(m,x),x=Ys(y,m.mode,_),x.return=m,m=x),o(m)):r(m,x)}return E}var oi=g0(!0),m0=g0(!1),Po=qr(null),Do=null,Wn=null,Ju=null;function ec(){Ju=Wn=Do=null}function tc(t){var e=Po.current;ve(Po),t._currentValue=e}function Vl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ti(t,e){Do=t,Ju=Wn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xt=!0),t.firstContext=null)}function Dt(t){var e=t._currentValue;if(Ju!==t)if(t={context:t,memoizedValue:e,next:null},Wn===null){if(Do===null)throw Error(T(308));Wn=t,Do.dependencies={lanes:0,firstContext:t}}else Wn=Wn.next=t;return e}var fn=null;function rc(t){fn===null?fn=[t]:fn.push(t)}function y0(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,rc(e)):(r.next=i.next,i.next=r),e.interleaved=r,xr(t,n)}function xr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var br=!1;function nc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,J&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,xr(t,r)}return i=n.interleaved,i===null?(e.next=e,rc(n)):(e.next=i.next,i.next=e),n.interleaved=e,xr(t,r)}function co(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zu(t,r)}}function bd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Mo(t,e,r,n){var i=t.updateQueue;br=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,d=u=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,g=s;switch(h=e,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=we({},f,h);break e;case 2:br=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);_n|=o,t.lanes=o,t.memoizedState=f}}function Nd(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(T(191,i));i.call(n)}}}var Ca={},rr=qr(Ca),da=qr(Ca),fa=qr(Ca);function hn(t){if(t===Ca)throw Error(T(174));return t}function ic(t,e){switch(ce(fa,e),ce(da,t),ce(rr,Ca),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Al(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Al(e,t)}ve(rr),ce(rr,e)}function si(){ve(rr),ve(da),ve(fa)}function _0(t){hn(fa.current);var e=hn(rr.current),r=Al(e,t.type);e!==r&&(ce(da,t),ce(rr,r))}function ac(t){da.current===t&&(ve(rr),ve(da))}var me=qr(0);function Lo(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hs=[];function oc(){for(var t=0;t<Hs.length;t++)Hs[t]._workInProgressVersionPrimary=null;Hs.length=0}var fo=yr.ReactCurrentDispatcher,Gs=yr.ReactCurrentBatchConfig,wn=0,ye=null,Ne=null,Le=null,Bo=!1,qi=!1,ha=0,dx=0;function qe(){throw Error(T(321))}function sc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Kt(t[r],e[r]))return!1;return!0}function lc(t,e,r,n,i,a){if(wn=a,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fo.current=t===null||t.memoizedState===null?vx:xx,t=r(n,i),qi){a=0;do{if(qi=!1,ha=0,25<=a)throw Error(T(301));a+=1,Le=Ne=null,e.updateQueue=null,fo.current=gx,t=r(n,i)}while(qi)}if(fo.current=Fo,e=Ne!==null&&Ne.next!==null,wn=0,Le=Ne=ye=null,Bo=!1,e)throw Error(T(300));return t}function uc(){var t=ha!==0;return ha=0,t}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ye.memoizedState=Le=t:Le=Le.next=t,Le}function Mt(){if(Ne===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var e=Le===null?ye.memoizedState:Le.next;if(e!==null)Le=e,Ne=t;else{if(t===null)throw Error(T(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Le===null?ye.memoizedState=Le=t:Le=Le.next=t}return Le}function pa(t,e){return typeof e=="function"?e(t):e}function Ws(t){var e=Mt(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=Ne,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var d=u.lane;if((wn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,ye.lanes|=d,_n|=d}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,Kt(n,e.memoizedState)||(xt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,ye.lanes|=a,_n|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Xs(t){var e=Mt(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Kt(a,e.memoizedState)||(xt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function E0(){}function A0(t,e){var r=ye,n=Mt(),i=e(),a=!Kt(n.memoizedState,i);if(a&&(n.memoizedState=i,xt=!0),n=n.queue,cc(b0.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Le!==null&&Le.memoizedState.tag&1){if(r.flags|=2048,va(9,S0.bind(null,r,n,i,e),void 0,null),Ue===null)throw Error(T(349));wn&30||C0(r,e,i)}return i}function C0(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function S0(t,e,r,n){e.value=r,e.getSnapshot=n,N0(e)&&I0(t)}function b0(t,e,r){return r(function(){N0(e)&&I0(t)})}function N0(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Kt(t,r)}catch{return!0}}function I0(t){var e=xr(t,1);e!==null&&qt(e,t,1,-1)}function Id(t){var e=Qt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:t},e.queue=t,t=t.dispatch=px.bind(null,ye,t),[e.memoizedState,t]}function va(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function T0(){return Mt().memoizedState}function ho(t,e,r,n){var i=Qt();ye.flags|=t,i.memoizedState=va(1|e,r,void 0,n===void 0?null:n)}function ns(t,e,r,n){var i=Mt();n=n===void 0?null:n;var a=void 0;if(Ne!==null){var o=Ne.memoizedState;if(a=o.destroy,n!==null&&sc(n,o.deps)){i.memoizedState=va(e,r,a,n);return}}ye.flags|=t,i.memoizedState=va(1|e,r,a,n)}function Td(t,e){return ho(8390656,8,t,e)}function cc(t,e){return ns(2048,8,t,e)}function O0(t,e){return ns(4,2,t,e)}function j0(t,e){return ns(4,4,t,e)}function R0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k0(t,e,r){return r=r!=null?r.concat([t]):null,ns(4,4,R0.bind(null,e,t),r)}function dc(){}function P0(t,e){var r=Mt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function D0(t,e){var r=Mt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function M0(t,e,r){return wn&21?(Kt(r,e)||(r=$h(),ye.lanes|=r,_n|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=r)}function fx(t,e){var r=se;se=r!==0&&4>r?r:4,t(!0);var n=Gs.transition;Gs.transition={};try{t(!1),e()}finally{se=r,Gs.transition=n}}function L0(){return Mt().memoizedState}function hx(t,e,r){var n=$r(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},B0(t))F0(e,r);else if(r=y0(t,e,r,n),r!==null){var i=lt();qt(r,t,n,i),U0(r,e,n)}}function px(t,e,r){var n=$r(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(B0(t))F0(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Kt(s,o)){var l=e.interleaved;l===null?(i.next=i,rc(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=y0(t,e,i,n),r!==null&&(i=lt(),qt(r,t,n,i),U0(r,e,n))}}function B0(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function F0(t,e){qi=Bo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function U0(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zu(t,r)}}var Fo={readContext:Dt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},vx={readContext:Dt,useCallback:function(t,e){return Qt().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:Td,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ho(4194308,4,R0.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ho(4194308,4,t,e)},useInsertionEffect:function(t,e){return ho(4,2,t,e)},useMemo:function(t,e){var r=Qt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Qt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=hx.bind(null,ye,t),[n.memoizedState,t]},useRef:function(t){var e=Qt();return t={current:t},e.memoizedState=t},useState:Id,useDebugValue:dc,useDeferredValue:function(t){return Qt().memoizedState=t},useTransition:function(){var t=Id(!1),e=t[0];return t=fx.bind(null,t[1]),Qt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ye,i=Qt();if(xe){if(r===void 0)throw Error(T(407));r=r()}else{if(r=e(),Ue===null)throw Error(T(349));wn&30||C0(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Td(b0.bind(null,n,a,t),[t]),n.flags|=2048,va(9,S0.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Qt(),e=Ue.identifierPrefix;if(xe){var r=dr,n=cr;r=(n&~(1<<32-Xt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ha++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=dx++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xx={readContext:Dt,useCallback:P0,useContext:Dt,useEffect:cc,useImperativeHandle:k0,useInsertionEffect:O0,useLayoutEffect:j0,useMemo:D0,useReducer:Ws,useRef:T0,useState:function(){return Ws(pa)},useDebugValue:dc,useDeferredValue:function(t){var e=Mt();return M0(e,Ne.memoizedState,t)},useTransition:function(){var t=Ws(pa)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:E0,useSyncExternalStore:A0,useId:L0,unstable_isNewReconciler:!1},gx={readContext:Dt,useCallback:P0,useContext:Dt,useEffect:cc,useImperativeHandle:k0,useInsertionEffect:O0,useLayoutEffect:j0,useMemo:D0,useReducer:Xs,useRef:T0,useState:function(){return Xs(pa)},useDebugValue:dc,useDeferredValue:function(t){var e=Mt();return Ne===null?e.memoizedState=t:M0(e,Ne.memoizedState,t)},useTransition:function(){var t=Xs(pa)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:E0,useSyncExternalStore:A0,useId:L0,unstable_isNewReconciler:!1};function $t(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Hl(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:we({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var is={isMounted:function(t){return(t=t._reactInternals)?bn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=lt(),i=$r(t),a=fr(n,i);a.payload=e,r!=null&&(a.callback=r),e=Fr(t,a,i),e!==null&&(qt(e,t,i,n),co(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=lt(),i=$r(t),a=fr(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Fr(t,a,i),e!==null&&(qt(e,t,i,n),co(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=lt(),n=$r(t),i=fr(r,n);i.tag=2,e!=null&&(i.callback=e),e=Fr(t,i,n),e!==null&&(qt(e,t,n,r),co(e,t,n))}};function Od(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!sa(r,n)||!sa(i,a):!0}function $0(t,e,r){var n=!1,i=Wr,a=e.contextType;return typeof a=="object"&&a!==null?a=Dt(a):(i=mt(e)?mn:et.current,n=e.contextTypes,a=(n=n!=null)?ii(t,i):Wr),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=is,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function jd(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&is.enqueueReplaceState(e,e.state,null)}function Gl(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},nc(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Dt(a):(a=mt(e)?mn:et.current,i.context=ii(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Hl(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&is.enqueueReplaceState(i,i.state,null),Mo(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function li(t,e){try{var r="",n=e;do r+=Gp(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function qs(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Wl(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var mx=typeof WeakMap=="function"?WeakMap:Map;function z0(t,e,r){r=fr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){$o||($o=!0,ru=n),Wl(t,e)},r}function V0(t,e,r){r=fr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Wl(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Wl(t,e),typeof n!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Rd(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new mx;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Rx.bind(null,t,e,r),e.then(t,t))}function kd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pd(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fr(-1,1),e.tag=2,Fr(r,e,1))),r.lanes|=1),t)}var yx=yr.ReactCurrentOwner,xt=!1;function ot(t,e,r,n){e.child=t===null?m0(e,null,r,n):oi(e,t.child,r,n)}function Dd(t,e,r,n,i){r=r.render;var a=e.ref;return ti(e,i),n=lc(t,e,r,n,a,i),r=uc(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(xe&&r&&Yu(e),e.flags|=1,ot(t,e,n,i),e.child)}function Md(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!yc(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,H0(t,e,a,n,i)):(t=go(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:sa,r(o,n)&&t.ref===e.ref)return gr(t,e,i)}return e.flags|=1,t=zr(a,n),t.ref=e.ref,t.return=e,e.child=t}function H0(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(sa(a,n)&&t.ref===e.ref)if(xt=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(xt=!0);else return e.lanes=t.lanes,gr(t,e,i)}return Xl(t,e,r,n,i)}function G0(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(qn,_t),_t|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(qn,_t),_t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ce(qn,_t),_t|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,ce(qn,_t),_t|=n;return ot(t,e,i,r),e.child}function W0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Xl(t,e,r,n,i){var a=mt(r)?mn:et.current;return a=ii(e,a),ti(e,i),r=lc(t,e,r,n,a,i),n=uc(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(xe&&n&&Yu(e),e.flags|=1,ot(t,e,r,i),e.child)}function Ld(t,e,r,n,i){if(mt(r)){var a=!0;jo(e)}else a=!1;if(ti(e,i),e.stateNode===null)po(t,e),$0(e,r,n),Gl(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Dt(u):(u=mt(r)?mn:et.current,u=ii(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&jd(e,o,n,u),br=!1;var h=e.memoizedState;o.state=h,Mo(e,n,o,i),l=e.memoizedState,s!==n||h!==l||gt.current||br?(typeof d=="function"&&(Hl(e,r,d,n),l=e.memoizedState),(s=br||Od(e,r,s,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,w0(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:$t(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Dt(l):(l=mt(r)?mn:et.current,l=ii(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&jd(e,o,n,l),br=!1,h=e.memoizedState,o.state=h,Mo(e,n,o,i);var v=e.memoizedState;s!==f||h!==v||gt.current||br?(typeof p=="function"&&(Hl(e,r,p,n),v=e.memoizedState),(u=br||Od(e,r,u,n,h,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return ql(t,e,r,n,a,i)}function ql(t,e,r,n,i,a){W0(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Ed(e,r,!1),gr(t,e,a);n=e.stateNode,yx.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=oi(e,t.child,null,a),e.child=oi(e,null,s,a)):ot(t,e,s,a),e.memoizedState=n.state,i&&Ed(e,r,!0),e.child}function X0(t){var e=t.stateNode;e.pendingContext?_d(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_d(t,e.context,!1),ic(t,e.containerInfo)}function Bd(t,e,r,n,i){return ai(),Qu(i),e.flags|=256,ot(t,e,r,n),e.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Yl(t){return{baseLanes:t,cachePool:null,transitions:null}}function q0(t,e,r){var n=e.pendingProps,i=me.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(me,i&1),t===null)return zl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=ss(o,n,0,null),t=xn(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Yl(r),e.memoizedState=Kl,t):fc(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return wx(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=zr(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=zr(s,a):(a=xn(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Yl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Kl,n}return a=t.child,t=a.sibling,n=zr(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function fc(t,e){return e=ss({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wa(t,e,r,n){return n!==null&&Qu(n),oi(e,t.child,null,r),t=fc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wx(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=qs(Error(T(422))),Wa(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=ss({mode:"visible",children:n.children},i,0,null),a=xn(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&oi(e,t.child,null,o),e.child.memoizedState=Yl(o),e.memoizedState=Kl,a);if(!(e.mode&1))return Wa(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(T(419)),n=qs(a,n,void 0),Wa(t,e,o,n)}if(s=(o&t.childLanes)!==0,xt||s){if(n=Ue,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,xr(t,i),qt(n,t,i,-1))}return mc(),n=qs(Error(T(421))),Wa(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kx.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Et=Br(i.nextSibling),At=e,xe=!0,Ht=null,t!==null&&(It[Tt++]=cr,It[Tt++]=dr,It[Tt++]=yn,cr=t.id,dr=t.overflow,yn=e),e=fc(e,n.children),e.flags|=4096,e)}function Fd(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Vl(t.return,e,r)}function Ks(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function K0(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ot(t,e,n.children,r),n=me.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fd(t,r,e);else if(t.tag===19)Fd(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ce(me,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Lo(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Ks(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lo(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Ks(e,!0,r,null,a);break;case"together":Ks(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function po(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),_n|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,r=zr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=zr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function _x(t,e,r){switch(e.tag){case 3:X0(e),ai();break;case 5:_0(e);break;case 1:mt(e.type)&&jo(e);break;case 4:ic(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ce(Po,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ce(me,me.current&1),e.flags|=128,null):r&e.child.childLanes?q0(t,e,r):(ce(me,me.current&1),t=gr(t,e,r),t!==null?t.sibling:null);ce(me,me.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return K0(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(me,me.current),n)break;return null;case 22:case 23:return e.lanes=0,G0(t,e,r)}return gr(t,e,r)}var Y0,Zl,Z0,Q0;Y0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zl=function(){};Z0=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,hn(rr.current);var a=null;switch(r){case"input":i=yl(t,i),n=yl(t,n),a=[];break;case"select":i=we({},i,{value:void 0}),n=we({},n,{value:void 0}),a=[];break;case"textarea":i=El(t,i),n=El(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=To)}Cl(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ea.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ea.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fe("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};Q0=function(t,e,r,n){r!==n&&(e.flags|=4)};function bi(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Ex(t,e,r){var n=e.pendingProps;switch(Zu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return mt(e.type)&&Oo(),Ke(e),null;case 3:return n=e.stateNode,si(),ve(gt),ve(et),oc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ha(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ht!==null&&(au(Ht),Ht=null))),Zl(t,e),Ke(e),null;case 5:ac(e);var i=hn(fa.current);if(r=e.type,t!==null&&e.stateNode!=null)Z0(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(T(166));return Ke(e),null}if(t=hn(rr.current),Ha(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Jt]=e,n[ca]=a,t=(e.mode&1)!==0,r){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(i=0;i<Mi.length;i++)fe(Mi[i],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":qc(n,a),fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},fe("invalid",n);break;case"textarea":Yc(n,a),fe("invalid",n)}Cl(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Va(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Va(n.textContent,s,t),i=["children",""+s]):ea.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&fe("scroll",n)}switch(r){case"input":Da(n),Kc(n,a,!0);break;case"textarea":Da(n),Zc(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=To)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bh(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Jt]=e,t[ca]=n,Y0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sl(r,n),r){case"dialog":fe("cancel",t),fe("close",t),i=n;break;case"iframe":case"object":case"embed":fe("load",t),i=n;break;case"video":case"audio":for(i=0;i<Mi.length;i++)fe(Mi[i],t);i=n;break;case"source":fe("error",t),i=n;break;case"img":case"image":case"link":fe("error",t),fe("load",t),i=n;break;case"details":fe("toggle",t),i=n;break;case"input":qc(t,n),i=yl(t,n),fe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=we({},n,{value:void 0}),fe("invalid",t);break;case"textarea":Yc(t,n),i=El(t,n),fe("invalid",t);break;default:i=n}Cl(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?Th(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Nh(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ta(t,l):typeof l=="number"&&ta(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ea.hasOwnProperty(a)?l!=null&&a==="onScroll"&&fe("scroll",t):l!=null&&Mu(t,a,l,o))}switch(r){case"input":Da(t),Kc(t,n,!1);break;case"textarea":Da(t),Zc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Gr(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Zn(t,!!n.multiple,a,!1):n.defaultValue!=null&&Zn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=To)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ke(e),null;case 6:if(t&&e.stateNode!=null)Q0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(T(166));if(r=hn(fa.current),hn(rr.current),Ha(e)){if(n=e.stateNode,r=e.memoizedProps,n[Jt]=e,(a=n.nodeValue!==r)&&(t=At,t!==null))switch(t.tag){case 3:Va(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Va(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jt]=e,e.stateNode=n}return Ke(e),null;case 13:if(ve(me),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&Et!==null&&e.mode&1&&!(e.flags&128))x0(),ai(),e.flags|=98560,a=!1;else if(a=Ha(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(T(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(T(317));a[Jt]=e}else ai(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ke(e),a=!1}else Ht!==null&&(au(Ht),Ht=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||me.current&1?je===0&&(je=3):mc())),e.updateQueue!==null&&(e.flags|=4),Ke(e),null);case 4:return si(),Zl(t,e),t===null&&la(e.stateNode.containerInfo),Ke(e),null;case 10:return tc(e.type._context),Ke(e),null;case 17:return mt(e.type)&&Oo(),Ke(e),null;case 19:if(ve(me),a=e.memoizedState,a===null)return Ke(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)bi(a,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lo(t),o!==null){for(e.flags|=128,bi(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ce(me,me.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ae()>ui&&(e.flags|=128,n=!0,bi(a,!1),e.lanes=4194304)}else{if(!n)if(t=Lo(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),bi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!xe)return Ke(e),null}else 2*Ae()-a.renderingStartTime>ui&&r!==1073741824&&(e.flags|=128,n=!0,bi(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ae(),e.sibling=null,r=me.current,ce(me,n?r&1|2:r&1),e):(Ke(e),null);case 22:case 23:return gc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?_t&1073741824&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Ax(t,e){switch(Zu(e),e.tag){case 1:return mt(e.type)&&Oo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return si(),ve(gt),ve(et),oc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ac(e),null;case 13:if(ve(me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));ai()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(me),null;case 4:return si(),null;case 10:return tc(e.type._context),null;case 22:case 23:return gc(),null;case 24:return null;default:return null}}var Xa=!1,Qe=!1,Cx=typeof WeakSet=="function"?WeakSet:Set,D=null;function Xn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_e(t,e,n)}else r.current=null}function Ql(t,e,r){try{r()}catch(n){_e(t,e,n)}}var Ud=!1;function Sx(t,e){if(Dl=bo,t=n0(),Ku(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(s=o),h===a&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ml={focusedElem:t,selectionRange:r},bo=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,E=v.memoizedState,m=e.stateNode,x=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:$t(e.type,g),E);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){_e(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return v=Ud,Ud=!1,v}function Ki(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ql(e,r,a)}i=i.next}while(i!==n)}}function as(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Jl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function J0(t){var e=t.alternate;e!==null&&(t.alternate=null,J0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jt],delete e[ca],delete e[Fl],delete e[sx],delete e[lx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e1(t){return t.tag===5||t.tag===3||t.tag===4}function $d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=To));else if(n!==4&&(t=t.child,t!==null))for(eu(t,e,r),t=t.sibling;t!==null;)eu(t,e,r),t=t.sibling}function tu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(tu(t,e,r),t=t.sibling;t!==null;)tu(t,e,r),t=t.sibling}var Ve=null,zt=!1;function wr(t,e,r){for(r=r.child;r!==null;)t1(t,e,r),r=r.sibling}function t1(t,e,r){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Zo,r)}catch{}switch(r.tag){case 5:Qe||Xn(r,e);case 6:var n=Ve,i=zt;Ve=null,wr(t,e,r),Ve=n,zt=i,Ve!==null&&(zt?(t=Ve,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(zt?(t=Ve,r=r.stateNode,t.nodeType===8?zs(t.parentNode,r):t.nodeType===1&&zs(t,r),aa(t)):zs(Ve,r.stateNode));break;case 4:n=Ve,i=zt,Ve=r.stateNode.containerInfo,zt=!0,wr(t,e,r),Ve=n,zt=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Ql(r,e,o),i=i.next}while(i!==n)}wr(t,e,r);break;case 1:if(!Qe&&(Xn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){_e(r,e,s)}wr(t,e,r);break;case 21:wr(t,e,r);break;case 22:r.mode&1?(Qe=(n=Qe)||r.memoizedState!==null,wr(t,e,r),Qe=n):wr(t,e,r);break;default:wr(t,e,r)}}function zd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Cx),e.forEach(function(n){var i=Px.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Lt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ve=s.stateNode,zt=!1;break e;case 3:Ve=s.stateNode.containerInfo,zt=!0;break e;case 4:Ve=s.stateNode.containerInfo,zt=!0;break e}s=s.return}if(Ve===null)throw Error(T(160));t1(a,o,i),Ve=null,zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){_e(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r1(e,t),e=e.sibling}function r1(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lt(e,t),Zt(t),n&4){try{Ki(3,t,t.return),as(3,t)}catch(g){_e(t,t.return,g)}try{Ki(5,t,t.return)}catch(g){_e(t,t.return,g)}}break;case 1:Lt(e,t),Zt(t),n&512&&r!==null&&Xn(r,r.return);break;case 5:if(Lt(e,t),Zt(t),n&512&&r!==null&&Xn(r,r.return),t.flags&32){var i=t.stateNode;try{ta(i,"")}catch(g){_e(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&Ch(i,a),Sl(s,o);var u=Sl(s,a);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Th(i,f):d==="dangerouslySetInnerHTML"?Nh(i,f):d==="children"?ta(i,f):Mu(i,d,f,u)}switch(s){case"input":wl(i,a);break;case"textarea":Sh(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Zn(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Zn(i,!!a.multiple,a.defaultValue,!0):Zn(i,!!a.multiple,a.multiple?[]:"",!1))}i[ca]=a}catch(g){_e(t,t.return,g)}}break;case 6:if(Lt(e,t),Zt(t),n&4){if(t.stateNode===null)throw Error(T(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){_e(t,t.return,g)}}break;case 3:if(Lt(e,t),Zt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{aa(e.containerInfo)}catch(g){_e(t,t.return,g)}break;case 4:Lt(e,t),Zt(t);break;case 13:Lt(e,t),Zt(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(vc=Ae())),n&4&&zd(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Qe=(u=Qe)||d,Lt(e,t),Qe=u):Lt(e,t),Zt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(f=D=d;D!==null;){switch(h=D,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ki(4,h,h.return);break;case 1:Xn(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){_e(n,r,g)}}break;case 5:Xn(h,h.return);break;case 22:if(h.memoizedState!==null){Hd(f);continue}}p!==null?(p.return=h,D=p):Hd(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Ih("display",o))}catch(g){_e(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){_e(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lt(e,t),Zt(t),n&4&&zd(t);break;case 21:break;default:Lt(e,t),Zt(t)}}function Zt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(e1(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ta(i,""),n.flags&=-33);var a=$d(t);tu(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=$d(t);eu(t,s,o);break;default:throw Error(T(161))}}catch(l){_e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bx(t,e,r){D=t,n1(t)}function n1(t,e,r){for(var n=(t.mode&1)!==0;D!==null;){var i=D,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Xa;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Qe;s=Xa;var u=Qe;if(Xa=o,(Qe=l)&&!u)for(D=i;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Gd(i):l!==null?(l.return=o,D=l):Gd(i);for(;a!==null;)D=a,n1(a),a=a.sibling;D=i,Xa=s,Qe=u}Vd(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,D=a):Vd(t)}}function Vd(t){for(;D!==null;){var e=D;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qe||as(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Qe)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:$t(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Nd(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Nd(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&aa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Qe||e.flags&512&&Jl(e)}catch(h){_e(e,e.return,h)}}if(e===t){D=null;break}if(r=e.sibling,r!==null){r.return=e.return,D=r;break}D=e.return}}function Hd(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var r=e.sibling;if(r!==null){r.return=e.return,D=r;break}D=e.return}}function Gd(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{as(4,e)}catch(l){_e(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){_e(e,i,l)}}var a=e.return;try{Jl(e)}catch(l){_e(e,a,l)}break;case 5:var o=e.return;try{Jl(e)}catch(l){_e(e,o,l)}}}catch(l){_e(e,e.return,l)}if(e===t){D=null;break}var s=e.sibling;if(s!==null){s.return=e.return,D=s;break}D=e.return}}var Nx=Math.ceil,Uo=yr.ReactCurrentDispatcher,hc=yr.ReactCurrentOwner,Rt=yr.ReactCurrentBatchConfig,J=0,Ue=null,Ce=null,We=0,_t=0,qn=qr(0),je=0,xa=null,_n=0,os=0,pc=0,Yi=null,ht=null,vc=0,ui=1/0,sr=null,$o=!1,ru=null,Ur=null,qa=!1,Pr=null,zo=0,Zi=0,nu=null,vo=-1,xo=0;function lt(){return J&6?Ae():vo!==-1?vo:vo=Ae()}function $r(t){return t.mode&1?J&2&&We!==0?We&-We:cx.transition!==null?(xo===0&&(xo=$h()),xo):(t=se,t!==0||(t=window.event,t=t===void 0?16:qh(t.type)),t):1}function qt(t,e,r,n){if(50<Zi)throw Zi=0,nu=null,Error(T(185));_a(t,r,n),(!(J&2)||t!==Ue)&&(t===Ue&&(!(J&2)&&(os|=r),je===4&&jr(t,We)),yt(t,n),r===1&&J===0&&!(e.mode&1)&&(ui=Ae()+500,rs&&Kr()))}function yt(t,e){var r=t.callbackNode;cv(t,e);var n=So(t,t===Ue?We:0);if(n===0)r!==null&&ed(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ed(r),e===1)t.tag===0?ux(Wd.bind(null,t)):h0(Wd.bind(null,t)),ax(function(){!(J&6)&&Kr()}),r=null;else{switch(zh(n)){case 1:r=$u;break;case 4:r=Fh;break;case 16:r=Co;break;case 536870912:r=Uh;break;default:r=Co}r=d1(r,i1.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function i1(t,e){if(vo=-1,xo=0,J&6)throw Error(T(327));var r=t.callbackNode;if(ri()&&t.callbackNode!==r)return null;var n=So(t,t===Ue?We:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Vo(t,n);else{e=n;var i=J;J|=2;var a=o1();(Ue!==t||We!==e)&&(sr=null,ui=Ae()+500,vn(t,e));do try{Ox();break}catch(s){a1(t,s)}while(!0);ec(),Uo.current=a,J=i,Ce!==null?e=0:(Ue=null,We=0,e=je)}if(e!==0){if(e===2&&(i=Ol(t),i!==0&&(n=i,e=iu(t,i))),e===1)throw r=xa,vn(t,0),jr(t,n),yt(t,Ae()),r;if(e===6)jr(t,n);else{if(i=t.current.alternate,!(n&30)&&!Ix(i)&&(e=Vo(t,n),e===2&&(a=Ol(t),a!==0&&(n=a,e=iu(t,a))),e===1))throw r=xa,vn(t,0),jr(t,n),yt(t,Ae()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(T(345));case 2:sn(t,ht,sr);break;case 3:if(jr(t,n),(n&130023424)===n&&(e=vc+500-Ae(),10<e)){if(So(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bl(sn.bind(null,t,ht,sr),e);break}sn(t,ht,sr);break;case 4:if(jr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Xt(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nx(n/1960))-n,10<n){t.timeoutHandle=Bl(sn.bind(null,t,ht,sr),n);break}sn(t,ht,sr);break;case 5:sn(t,ht,sr);break;default:throw Error(T(329))}}}return yt(t,Ae()),t.callbackNode===r?i1.bind(null,t):null}function iu(t,e){var r=Yi;return t.current.memoizedState.isDehydrated&&(vn(t,e).flags|=256),t=Vo(t,e),t!==2&&(e=ht,ht=r,e!==null&&au(e)),t}function au(t){ht===null?ht=t:ht.push.apply(ht,t)}function Ix(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Kt(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(t,e){for(e&=~pc,e&=~os,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xt(e),n=1<<r;t[r]=-1,e&=~n}}function Wd(t){if(J&6)throw Error(T(327));ri();var e=So(t,0);if(!(e&1))return yt(t,Ae()),null;var r=Vo(t,e);if(t.tag!==0&&r===2){var n=Ol(t);n!==0&&(e=n,r=iu(t,n))}if(r===1)throw r=xa,vn(t,0),jr(t,e),yt(t,Ae()),r;if(r===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sn(t,ht,sr),yt(t,Ae()),null}function xc(t,e){var r=J;J|=1;try{return t(e)}finally{J=r,J===0&&(ui=Ae()+500,rs&&Kr())}}function En(t){Pr!==null&&Pr.tag===0&&!(J&6)&&ri();var e=J;J|=1;var r=Rt.transition,n=se;try{if(Rt.transition=null,se=1,t)return t()}finally{se=n,Rt.transition=r,J=e,!(J&6)&&Kr()}}function gc(){_t=qn.current,ve(qn)}function vn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,ix(r)),Ce!==null)for(r=Ce.return;r!==null;){var n=r;switch(Zu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Oo();break;case 3:si(),ve(gt),ve(et),oc();break;case 5:ac(n);break;case 4:si();break;case 13:ve(me);break;case 19:ve(me);break;case 10:tc(n.type._context);break;case 22:case 23:gc()}r=r.return}if(Ue=t,Ce=t=zr(t.current,null),We=_t=e,je=0,xa=null,pc=os=_n=0,ht=Yi=null,fn!==null){for(e=0;e<fn.length;e++)if(r=fn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}fn=null}return t}function a1(t,e){do{var r=Ce;try{if(ec(),fo.current=Fo,Bo){for(var n=ye.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Bo=!1}if(wn=0,Le=Ne=ye=null,qi=!1,ha=0,hc.current=null,r===null||r.return===null){je=1,xa=e,Ce=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=We,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=kd(o);if(p!==null){p.flags&=-257,Pd(p,o,s,a,e),p.mode&1&&Rd(a,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){Rd(a,u,e),mc();break e}l=Error(T(426))}}else if(xe&&s.mode&1){var E=kd(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Pd(E,o,s,a,e),Qu(li(l,s));break e}}a=l=li(l,s),je!==4&&(je=2),Yi===null?Yi=[a]:Yi.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var m=z0(a,l,e);bd(a,m);break e;case 1:s=l;var x=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ur===null||!Ur.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=V0(a,s,e);bd(a,_);break e}}a=a.return}while(a!==null)}l1(r)}catch(w){e=w,Ce===r&&r!==null&&(Ce=r=r.return);continue}break}while(!0)}function o1(){var t=Uo.current;return Uo.current=Fo,t===null?Fo:t}function mc(){(je===0||je===3||je===2)&&(je=4),Ue===null||!(_n&268435455)&&!(os&268435455)||jr(Ue,We)}function Vo(t,e){var r=J;J|=2;var n=o1();(Ue!==t||We!==e)&&(sr=null,vn(t,e));do try{Tx();break}catch(i){a1(t,i)}while(!0);if(ec(),J=r,Uo.current=n,Ce!==null)throw Error(T(261));return Ue=null,We=0,je}function Tx(){for(;Ce!==null;)s1(Ce)}function Ox(){for(;Ce!==null&&!tv();)s1(Ce)}function s1(t){var e=c1(t.alternate,t,_t);t.memoizedProps=t.pendingProps,e===null?l1(t):Ce=e,hc.current=null}function l1(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ax(r,e),r!==null){r.flags&=32767,Ce=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{je=6,Ce=null;return}}else if(r=Ex(r,e,_t),r!==null){Ce=r;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);je===0&&(je=5)}function sn(t,e,r){var n=se,i=Rt.transition;try{Rt.transition=null,se=1,jx(t,e,r,n)}finally{Rt.transition=i,se=n}return null}function jx(t,e,r,n){do ri();while(Pr!==null);if(J&6)throw Error(T(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(dv(t,a),t===Ue&&(Ce=Ue=null,We=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qa||(qa=!0,d1(Co,function(){return ri(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Rt.transition,Rt.transition=null;var o=se;se=1;var s=J;J|=4,hc.current=null,Sx(t,r),r1(r,t),Zv(Ml),bo=!!Dl,Ml=Dl=null,t.current=r,bx(r),rv(),J=s,se=o,Rt.transition=a}else t.current=r;if(qa&&(qa=!1,Pr=t,zo=i),a=t.pendingLanes,a===0&&(Ur=null),av(r.stateNode),yt(t,Ae()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if($o)throw $o=!1,t=ru,ru=null,t;return zo&1&&t.tag!==0&&ri(),a=t.pendingLanes,a&1?t===nu?Zi++:(Zi=0,nu=t):Zi=0,Kr(),null}function ri(){if(Pr!==null){var t=zh(zo),e=Rt.transition,r=se;try{if(Rt.transition=null,se=16>t?16:t,Pr===null)var n=!1;else{if(t=Pr,Pr=null,zo=0,J&6)throw Error(T(331));var i=J;for(J|=4,D=t.current;D!==null;){var a=D,o=a.child;if(D.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Ki(8,d,a)}var f=d.child;if(f!==null)f.return=d,D=f;else for(;D!==null;){d=D;var h=d.sibling,p=d.return;if(J0(d),d===u){D=null;break}if(h!==null){h.return=p,D=h;break}D=p}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}D=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,D=o;else e:for(;D!==null;){if(a=D,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ki(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,D=m;break e}D=a.return}}var x=t.current;for(D=x;D!==null;){o=D;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,D=y;else e:for(o=x;D!==null;){if(s=D,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:as(9,s)}}catch(w){_e(s,s.return,w)}if(s===o){D=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,D=_;break e}D=s.return}}if(J=i,Kr(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Zo,t)}catch{}n=!0}return n}finally{se=r,Rt.transition=e}}return!1}function Xd(t,e,r){e=li(r,e),e=z0(t,e,1),t=Fr(t,e,1),e=lt(),t!==null&&(_a(t,1,e),yt(t,e))}function _e(t,e,r){if(t.tag===3)Xd(t,t,r);else for(;e!==null;){if(e.tag===3){Xd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ur===null||!Ur.has(n))){t=li(r,t),t=V0(e,t,1),e=Fr(e,t,1),t=lt(),e!==null&&(_a(e,1,t),yt(e,t));break}}e=e.return}}function Rx(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=lt(),t.pingedLanes|=t.suspendedLanes&r,Ue===t&&(We&r)===r&&(je===4||je===3&&(We&130023424)===We&&500>Ae()-vc?vn(t,0):pc|=r),yt(t,e)}function u1(t,e){e===0&&(t.mode&1?(e=Ba,Ba<<=1,!(Ba&130023424)&&(Ba=4194304)):e=1);var r=lt();t=xr(t,e),t!==null&&(_a(t,e,r),yt(t,r))}function kx(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),u1(t,r)}function Px(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(e),u1(t,r)}var c1;c1=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||gt.current)xt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xt=!1,_x(t,e,r);xt=!!(t.flags&131072)}else xt=!1,xe&&e.flags&1048576&&p0(e,ko,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;po(t,e),t=e.pendingProps;var i=ii(e,et.current);ti(e,r),i=lc(null,e,n,t,i,r);var a=uc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(n)?(a=!0,jo(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nc(e),i.updater=is,e.stateNode=i,i._reactInternals=e,Gl(e,n,t,r),e=ql(null,e,n,!0,a,r)):(e.tag=0,xe&&a&&Yu(e),ot(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(po(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Mx(n),t=$t(n,t),i){case 0:e=Xl(null,e,n,t,r);break e;case 1:e=Ld(null,e,n,t,r);break e;case 11:e=Dd(null,e,n,t,r);break e;case 14:e=Md(null,e,n,$t(n.type,t),r);break e}throw Error(T(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$t(n,i),Xl(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$t(n,i),Ld(t,e,n,i,r);case 3:e:{if(X0(e),t===null)throw Error(T(387));n=e.pendingProps,a=e.memoizedState,i=a.element,w0(t,e),Mo(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=li(Error(T(423)),e),e=Bd(t,e,n,r,i);break e}else if(n!==i){i=li(Error(T(424)),e),e=Bd(t,e,n,r,i);break e}else for(Et=Br(e.stateNode.containerInfo.firstChild),At=e,xe=!0,Ht=null,r=m0(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ai(),n===i){e=gr(t,e,r);break e}ot(t,e,n,r)}e=e.child}return e;case 5:return _0(e),t===null&&zl(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Ll(n,i)?o=null:a!==null&&Ll(n,a)&&(e.flags|=32),W0(t,e),ot(t,e,o,r),e.child;case 6:return t===null&&zl(e),null;case 13:return q0(t,e,r);case 4:return ic(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=oi(e,null,n,r):ot(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$t(n,i),Dd(t,e,n,i,r);case 7:return ot(t,e,e.pendingProps,r),e.child;case 8:return ot(t,e,e.pendingProps.children,r),e.child;case 12:return ot(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,ce(Po,n._currentValue),n._currentValue=o,a!==null)if(Kt(a.value,o)){if(a.children===i.children&&!gt.current){e=gr(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=fr(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Vl(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(T(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Vl(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ot(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ti(e,r),i=Dt(i),n=n(i),e.flags|=1,ot(t,e,n,r),e.child;case 14:return n=e.type,i=$t(n,e.pendingProps),i=$t(n.type,i),Md(t,e,n,i,r);case 15:return H0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$t(n,i),po(t,e),e.tag=1,mt(n)?(t=!0,jo(e)):t=!1,ti(e,r),$0(e,n,i),Gl(e,n,i,r),ql(null,e,n,!0,t,r);case 19:return K0(t,e,r);case 22:return G0(t,e,r)}throw Error(T(156,e.tag))};function d1(t,e){return Bh(t,e)}function Dx(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,r,n){return new Dx(t,e,r,n)}function yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mx(t){if(typeof t=="function")return yc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bu)return 11;if(t===Fu)return 14}return 2}function zr(t,e){var r=t.alternate;return r===null?(r=Ot(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function go(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")yc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bn:return xn(r.children,i,a,e);case Lu:o=8,i|=8;break;case vl:return t=Ot(12,r,e,i|2),t.elementType=vl,t.lanes=a,t;case xl:return t=Ot(13,r,e,i),t.elementType=xl,t.lanes=a,t;case gl:return t=Ot(19,r,e,i),t.elementType=gl,t.lanes=a,t;case _h:return ss(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yh:o=10;break e;case wh:o=9;break e;case Bu:o=11;break e;case Fu:o=14;break e;case Sr:o=16,n=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=Ot(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function xn(t,e,r,n){return t=Ot(7,t,n,e),t.lanes=r,t}function ss(t,e,r,n){return t=Ot(22,t,n,e),t.elementType=_h,t.lanes=r,t.stateNode={isHidden:!1},t}function Ys(t,e,r){return t=Ot(6,t,null,e),t.lanes=r,t}function Zs(t,e,r){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lx(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=js(0),this.expirationTimes=js(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wc(t,e,r,n,i,a,o,s,l){return t=new Lx(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ot(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nc(a),t}function Bx(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function f1(t){if(!t)return Wr;t=t._reactInternals;e:{if(bn(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var r=t.type;if(mt(r))return f0(t,r,e)}return e}function h1(t,e,r,n,i,a,o,s,l){return t=wc(r,n,!0,t,i,a,o,s,l),t.context=f1(null),r=t.current,n=lt(),i=$r(r),a=fr(n,i),a.callback=e??null,Fr(r,a,i),t.current.lanes=i,_a(t,i,n),yt(t,n),t}function ls(t,e,r,n){var i=e.current,a=lt(),o=$r(i);return r=f1(r),e.context===null?e.context=r:e.pendingContext=r,e=fr(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Fr(i,e,o),t!==null&&(qt(t,i,o,a),co(t,i,o)),o}function Ho(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function _c(t,e){qd(t,e),(t=t.alternate)&&qd(t,e)}function Fx(){return null}var p1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ec(t){this._internalRoot=t}us.prototype.render=Ec.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));ls(t,e,null,null)};us.prototype.unmount=Ec.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;En(function(){ls(null,t,null,null)}),e[vr]=null}};function us(t){this._internalRoot=t}us.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gh();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Or.length&&e!==0&&e<Or[r].priority;r++);Or.splice(r,0,t),r===0&&Xh(t)}};function Ac(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function Ux(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Ho(o);a.call(u)}}var o=h1(e,n,t,0,null,!1,!1,"",Kd);return t._reactRootContainer=o,t[vr]=o.current,la(t.nodeType===8?t.parentNode:t),En(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Ho(l);s.call(u)}}var l=wc(t,0,!1,null,null,!1,!1,"",Kd);return t._reactRootContainer=l,t[vr]=l.current,la(t.nodeType===8?t.parentNode:t),En(function(){ls(e,l,r,n)}),l}function ds(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Ho(o);s.call(l)}}ls(e,o,t,i)}else o=Ux(r,e,t,i,n);return Ho(o)}Vh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Di(e.pendingLanes);r!==0&&(zu(e,r|1),yt(e,Ae()),!(J&6)&&(ui=Ae()+500,Kr()))}break;case 13:En(function(){var n=xr(t,1);if(n!==null){var i=lt();qt(n,t,1,i)}}),_c(t,1)}};Vu=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var r=lt();qt(e,t,134217728,r)}_c(t,134217728)}};Hh=function(t){if(t.tag===13){var e=$r(t),r=xr(t,e);if(r!==null){var n=lt();qt(r,t,e,n)}_c(t,e)}};Gh=function(){return se};Wh=function(t,e){var r=se;try{return se=t,e()}finally{se=r}};Nl=function(t,e,r){switch(e){case"input":if(wl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ts(n);if(!i)throw Error(T(90));Ah(n),wl(n,i)}}}break;case"textarea":Sh(t,r);break;case"select":e=r.value,e!=null&&Zn(t,!!r.multiple,e,!1)}};Rh=xc;kh=En;var $x={usingClientEntryPoint:!1,Events:[Aa,zn,ts,Oh,jh,xc]},Ni={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zx={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mh(t),t===null?null:t.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||Fx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{Zo=Ka.inject(zx),tr=Ka}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$x;St.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ac(e))throw Error(T(200));return Bx(t,e,null,r)};St.createRoot=function(t,e){if(!Ac(t))throw Error(T(299));var r=!1,n="",i=p1;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wc(t,1,!1,null,null,r,!1,n,i),t[vr]=e.current,la(t.nodeType===8?t.parentNode:t),new Ec(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Mh(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return En(t)};St.hydrate=function(t,e,r){if(!cs(e))throw Error(T(200));return ds(null,t,e,!0,r)};St.hydrateRoot=function(t,e,r){if(!Ac(t))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=p1;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=h1(e,null,t,1,r??null,i,!1,a,o),t[vr]=e.current,la(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new us(e)};St.render=function(t,e,r){if(!cs(e))throw Error(T(200));return ds(null,t,e,!1,r)};St.unmountComponentAtNode=function(t){if(!cs(t))throw Error(T(40));return t._reactRootContainer?(En(function(){ds(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};St.unstable_batchedUpdates=xc;St.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!cs(r))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return ds(t,e,r,!1,n)};St.version="18.3.1-next-f1338f8080-20240426";function v1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v1)}catch(t){console.error(t)}}v1(),vh.exports=St;var Vx=vh.exports,x1,Yd=Vx;x1=Yd.createRoot,Yd.hydrateRoot;const Hx={currentUser:null,users:[],materials:[],requests:[],notifications:[],dashboardStats:{totalRequests:0,pendingRequests:0,approvedRequests:0,completedRequests:0,totalMaterials:0,lowStockItems:0,totalValue:0,monthlyTrend:[]},isLoading:!1,error:null};function Gx(t,e){switch(e.type){case"SET_LOADING":return{...t,isLoading:e.payload};case"SET_ERROR":return{...t,error:e.payload};case"SET_CURRENT_USER":return{...t,currentUser:e.payload};case"SET_USERS":return{...t,users:e.payload};case"ADD_USER":return{...t,users:[...t.users,e.payload]};case"UPDATE_USER":return{...t,users:t.users.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_USER":return{...t,users:t.users.filter(r=>r.id!==e.payload)};case"SET_MATERIALS":return{...t,materials:e.payload};case"ADD_MATERIAL":return{...t,materials:[...t.materials,e.payload]};case"UPDATE_MATERIAL":return{...t,materials:t.materials.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_MATERIAL":return{...t,materials:t.materials.filter(r=>r.id!==e.payload)};case"SET_REQUESTS":return{...t,requests:e.payload};case"ADD_REQUEST":return{...t,requests:[...t.requests,e.payload]};case"UPDATE_REQUEST":return{...t,requests:t.requests.map(r=>r.id===e.payload.id?e.payload:r)};case"SET_NOTIFICATIONS":return{...t,notifications:e.payload};case"ADD_NOTIFICATION":return{...t,notifications:[e.payload,...t.notifications]};case"MARK_NOTIFICATION_READ":return{...t,notifications:t.notifications.map(r=>r.id===e.payload?{...r,isRead:!0}:r)};case"SET_DASHBOARD_STATS":return{...t,dashboardStats:e.payload};default:return t}}const g1=k.createContext(null);function Wx({children:t}){const[e,r]=k.useReducer(Gx,Hx);k.useEffect(()=>{n()},[]);const n=()=>{const i={id:"1",name:"John Doe",email:"john.doe@company.com",role:"manager",department:"IT",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1",isActive:!0,createdAt:new Date},a=[{id:"1",barcode:"1234567890123",name:"กระดาษ A4",category:"เครื่องเขียน",description:"กระดาษ A4 คุณภาพสูงสำหรับการพิมพ์",unit:"รีม",stockQuantity:50,minStockLevel:10,pricePerUnit:120,supplier:"บริษัท ออฟฟิศ พลัส จำกัด",imageUrl:"https://images.pexels.com/photos/518244/pexels-photo-518244.jpeg?auto=compress&cs=tinysrgb&w=300&h=200&dpr=1",isActive:!0,lastUpdated:new Date},{id:"2",barcode:"2345678901234",name:"คอมพิวเตอร์โน้ตบุ๊ก",category:"อุปกรณ์ไอที",description:"Dell Latitude 7420 โน้ตบุ๊กสำหรับธุรกิจ",unit:"เครื่อง",stockQuantity:5,minStockLevel:2,pricePerUnit:35e3,supplier:"บริษัท เทค โซลูชั่น จำกัด",imageUrl:"https://images.pexels.com/photos/205421/pexels-photo-205421.jpeg?auto=compress&cs=tinysrgb&w=300&h=200&dpr=1",isActive:!0,lastUpdated:new Date},{id:"3",barcode:"3456789012345",name:"ปากกาเมจิก",category:"เครื่องเขียน",description:"ชุดปากกาเมจิกถาวร",unit:"ชุด",stockQuantity:25,minStockLevel:5,pricePerUnit:85,supplier:"สเตชันเนอรี่ เวิลด์",imageUrl:"https://images.pexels.com/photos/159751/book-address-book-learning-learn-159751.jpeg?auto=compress&cs=tinysrgb&w=300&h=200&dpr=1",isActive:!0,lastUpdated:new Date}],o=[i,{id:"2",name:"สุดา วิลสัน",email:"sarah.wilson@company.com",role:"employee",department:"ทรัพยากรบุคคล",avatar:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1",isActive:!0,createdAt:new Date("2024-01-10")},{id:"3",name:"วิชัย จอห์นสัน",email:"mike.johnson@company.com",role:"admin",department:"การเงิน",avatar:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1",isActive:!0,createdAt:new Date("2024-01-05")}],s=[{id:"1",requestNumber:"REQ-001",requesterId:"2",requester:o[1],department:"ทรัพยากรบุคคล",requestDate:new Date("2024-01-15"),items:[{materialId:"1",material:a[0],requestedQuantity:10,approvedQuantity:10}],status:"pending",approvals:[],totalValue:1200,reason:"เครื่องเขียนสำหรับพนักงานใหม่",urgencyLevel:"medium",expectedDate:new Date("2024-01-20")},{id:"2",requestNumber:"REQ-002",requesterId:"3",requester:o[2],department:"การเงิน",requestDate:new Date("2024-01-14"),items:[{materialId:"2",material:a[1],requestedQuantity:2,approvedQuantity:2}],status:"approved",approvals:[],totalValue:7e4,reason:"เปลี่ยนโน้ตบุ๊กสำหรับทีมการเงิน",urgencyLevel:"high",expectedDate:new Date("2024-01-18")}];r({type:"SET_CURRENT_USER",payload:i}),r({type:"SET_USERS",payload:o}),r({type:"SET_MATERIALS",payload:a}),r({type:"SET_REQUESTS",payload:s});const l={totalRequests:s.length,pendingRequests:s.filter(u=>u.status==="pending").length,approvedRequests:s.filter(u=>u.status==="approved").length,completedRequests:s.filter(u=>u.status==="completed").length,totalMaterials:a.length,lowStockItems:a.filter(u=>u.stockQuantity<=u.minStockLevel).length,totalValue:s.reduce((u,d)=>u+d.totalValue,0),monthlyTrend:[{month:"ม.ค.",requests:15,value:45e4},{month:"ก.พ.",requests:22,value:68e4},{month:"มี.ค.",requests:18,value:52e4},{month:"เม.ย.",requests:24,value:75e4},{month:"พ.ค.",requests:20,value:62e4},{month:"มิ.ย.",requests:28,value:89e4}]};r({type:"SET_DASHBOARD_STATS",payload:l})};return c.jsx(g1.Provider,{value:{state:e,dispatch:r},children:t})}function ar(){const t=k.useContext(g1);if(!t)throw new Error("useApp must be used within AppProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(t,e)=>{const r=k.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},d)=>k.createElement("svg",{ref:d,...Xx,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${qx(t)}`,s].join(" "),...u},[...e.map(([f,h])=>k.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=V("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=V("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=V("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=V("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=V("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=V("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=V("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=V("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=V("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=V("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=V("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=V("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=V("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=V("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=V("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=V("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=V("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=V("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=V("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ug({activeView:t,onViewChange:e,isCollapsed:r}){var o,s,l;const{state:n}=ar(),i=n.notifications.filter(u=>!u.isRead).length,a=[{id:"dashboard",name:"หน้าหลัก",icon:Qx},{id:"materials",name:"จัดการวัสดุ",icon:An},{id:"requests",name:"คำขอเบิกวัสดุ",icon:Go},{id:"budget-requests",name:"การขอใช้งบประมาณ",icon:Sc},{id:"users",name:"จัดการผู้ใช้",icon:ou},{id:"reports",name:"รายงาน",icon:m1},{id:"notifications",name:"การแจ้งเตือน",icon:ma,badge:i},{id:"settings",name:"ตั้งค่าระบบ",icon:og}];return c.jsxs("div",{className:`bg-white/10 backdrop-blur-lg border-r border-white/20 transition-all duration-300 ${r?"w-16":"w-64"}`,children:[c.jsx("div",{className:"p-6 border-b border-white/20",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:c.jsx(An,{className:"w-6 h-6 text-white"})}),!r&&c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white",children:"MaterialFlow"}),c.jsx("p",{className:"text-white/60 text-sm",children:"ระบบเบิกวัสดุ"})]})]})}),c.jsx("nav",{className:"p-4 space-y-2",children:a.map(u=>{const d=u.icon,f=t===u.id;return c.jsxs("button",{onClick:()=>e(u.id),className:`w-full flex items-center space-x-3 px-3 py-3 rounded-lg transition-all duration-200 ${f?"bg-gradient-to-r from-blue-500/20 to-purple-600/20 border border-blue-500/30 text-white":"text-white/70 hover:bg-white/10 hover:text-white"}`,title:r?u.name:void 0,children:[c.jsx(d,{className:"w-5 h-5 flex-shrink-0"}),!r&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"flex-1 text-left",children:u.name}),u.badge&&u.badge>0&&c.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:u.badge})]})]},u.id)})}),!r&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-white/20",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("img",{src:((o=n.currentUser)==null?void 0:o.avatar)||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&dpr=1",alt:"User",className:"w-10 h-10 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white font-medium text-sm",children:(s=n.currentUser)==null?void 0:s.name}),c.jsx("p",{className:"text-white/60 text-xs",children:(l=n.currentUser)==null?void 0:l.department})]})]})})]})}function cg({onSidebarToggle:t,title:e}){var i;const{state:r}=ar(),n=r.notifications.filter(a=>!a.isRead).length;return c.jsx("header",{className:"bg-white/10 backdrop-blur-lg border-b border-white/20 px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:t,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:c.jsx(Jx,{className:"w-5 h-5 text-white"})}),c.jsx("h2",{className:"text-2xl font-bold text-white",children:e})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(vi,{className:"w-5 h-5 text-white/60 absolute left-3 top-1/2 transform -translate-y-1/2"}),c.jsx("input",{type:"text",placeholder:"ค้นหา...",className:"pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("button",{className:"relative p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:[c.jsx(ma,{className:"w-5 h-5 text-white"}),n>0&&c.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:n})]}),c.jsx("img",{src:((i=r.currentUser)==null?void 0:i.avatar)||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&dpr=1",alt:"User",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white/20"})]})]})})}function U({children:t,className:e="",onClick:r,hover:n=!1}){return c.jsx("div",{className:`bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl shadow-lg ${n?"hover:bg-white/15 hover:shadow-xl hover:scale-105":""} ${r?"cursor-pointer":""} transition-all duration-300 ${e}`,onClick:r,children:t})}function Ya({title:t,value:e,icon:r,trend:n,color:i}){const a={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",yellow:"from-yellow-500 to-yellow-600",red:"from-red-500 to-red-600",purple:"from-purple-500 to-purple-600"};return c.jsx(U,{className:"p-6 hover:scale-105 transition-transform duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/70 text-sm font-medium",children:t}),c.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:e}),n&&c.jsxs("div",{className:`flex items-center mt-2 text-sm ${n.isPositive?"text-green-400":"text-red-400"}`,children:[c.jsx("span",{children:n.isPositive?"↗":"↘"}),c.jsxs("span",{className:"ml-1",children:[Math.abs(n.value),"%"]})]})]}),c.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${a[i]}`,children:r})]})})}function tf(){const{state:t}=ar(),{dashboardStats:e,materials:r}=t,n=r.filter(i=>i.stockQuantity<=i.minStockLevel);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Ya,{title:"คำขอทั้งหมด",value:e.totalRequests,icon:c.jsx(Go,{className:"w-6 h-6 text-white"}),trend:{value:12,isPositive:!0},color:"blue"}),c.jsx(Ya,{title:"รอการอนุมัติ",value:e.pendingRequests,icon:c.jsx(nr,{className:"w-6 h-6 text-white"}),trend:{value:5,isPositive:!1},color:"yellow"}),c.jsx(Ya,{title:"เสร็จสิ้นแล้ว",value:e.completedRequests,icon:c.jsx(st,{className:"w-6 h-6 text-white"}),trend:{value:8,isPositive:!0},color:"green"}),c.jsx(Ya,{title:"มูลค่ารวม",value:`₿${e.totalValue.toLocaleString()}`,icon:c.jsx(Li,{className:"w-6 h-6 text-white"}),trend:{value:15,isPositive:!0},color:"purple"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(U,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"แนวโน้มคำขอรายเดือน"}),c.jsx("div",{className:"space-y-3",children:e.monthlyTrend.map(i=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-white/70",children:i.month}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-32 bg-white/10 rounded-full h-2 overflow-hidden",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full transition-all duration-1000",style:{width:`${i.requests/30*100}%`}})}),c.jsx("span",{className:"text-white font-medium w-8 text-right",children:i.requests})]})]},i.month))})]}),c.jsxs(U,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(Cc,{className:"w-5 h-5 text-yellow-500"}),c.jsx("h3",{className:"text-lg font-semibold text-white",children:"แจ้งเตือนวัสดุใกล้หมด"})]}),c.jsx("div",{className:"space-y-3",children:n.length>0?n.map(i=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:i.name}),c.jsx("p",{className:"text-white/60 text-sm",children:i.category})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-yellow-400 font-medium",children:[i.stockQuantity," ",i.unit]}),c.jsxs("p",{className:"text-white/60 text-sm",children:["Min: ",i.minStockLevel]})]})]},i.id)):c.jsx("p",{className:"text-white/60 text-center py-4",children:"วัสดุทั้งหมดมีสต็อกเพียงพอ!"})})]})]}),c.jsxs(U,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"คำขอวัสดุล่าสุด"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-white/70 text-sm",children:[c.jsx("th",{className:"text-left py-2",children:"รหัสคำขอ"}),c.jsx("th",{className:"text-left py-2",children:"ผู้ขอ"}),c.jsx("th",{className:"text-left py-2",children:"แผนก"}),c.jsx("th",{className:"text-left py-2",children:"สถานะ"}),c.jsx("th",{className:"text-left py-2",children:"วันที่"}),c.jsx("th",{className:"text-left py-2",children:"มูลค่า"})]})}),c.jsxs("tbody",{className:"text-white",children:[c.jsxs("tr",{className:"border-t border-white/10",children:[c.jsx("td",{className:"py-3",children:"REQ-001"}),c.jsx("td",{className:"py-3",children:"สมชาย ใจดี"}),c.jsx("td",{className:"py-3",children:"ไอที"}),c.jsx("td",{className:"py-3",children:c.jsx("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-xs",children:"รอดำเนินการ"})}),c.jsx("td",{className:"py-3",children:"2024-01-15"}),c.jsx("td",{className:"py-3",children:"₿45,000"})]}),c.jsxs("tr",{className:"border-t border-white/10",children:[c.jsx("td",{className:"py-3",children:"REQ-002"}),c.jsx("td",{className:"py-3",children:"สุดา สวยงาม"}),c.jsx("td",{className:"py-3",children:"ทรัพยากรบุคคล"}),c.jsx("td",{className:"py-3",children:c.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-xs",children:"อนุมัติแล้ว"})}),c.jsx("td",{className:"py-3",children:"2024-01-14"}),c.jsx("td",{className:"py-3",children:"₿12,500"})]}),c.jsxs("tr",{className:"border-t border-white/10",children:[c.jsx("td",{className:"py-3",children:"REQ-003"}),c.jsx("td",{className:"py-3",children:"วิชัย รวยเงิน"}),c.jsx("td",{className:"py-3",children:"การเงิน"}),c.jsx("td",{className:"py-3",children:c.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded-full text-xs",children:"เสร็จสิ้น"})}),c.jsx("td",{className:"py-3",children:"2024-01-13"}),c.jsx("td",{className:"py-3",children:"₿8,200"})]})]})]})})]})]})}const dg="modulepreload",fg=function(t){return"/"+t},rf={},ba=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=fg(l),l in rf)return;rf[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":dg,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})},hg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ba(async()=>{const{default:n}=await Promise.resolve().then(()=>gi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Nc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class pg extends Nc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class nf extends Nc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class af extends Nc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var su;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(su||(su={}));var vg=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};class xg{constructor(e,{headers:r={},customFetch:n,region:i=su.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=hg(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return vg(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=r;let s={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(s["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(s["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(s["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:d}).catch(g=>{throw new pg(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new nf(f);if(!f.ok)throw new af(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield f.json():p==="application/octet-stream"?v=yield f.blob():p==="text/event-stream"?v=f:p==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof af||i instanceof nf?i.context:void 0}}})}}var pt={},Ic={},vs={},Na={},xs={},gs={},gg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ci=gg();const mg=ci.fetch,E1=ci.fetch.bind(ci),A1=ci.Headers,yg=ci.Request,wg=ci.Response,gi=Object.freeze(Object.defineProperty({__proto__:null,Headers:A1,Request:yg,Response:wg,default:E1,fetch:mg},Symbol.toStringTag,{value:"Module"})),_g=xp(gi);var ms={};Object.defineProperty(ms,"__esModule",{value:!0});let Eg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ms.default=Eg;var C1=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gs,"__esModule",{value:!0});const Ag=C1(_g),Cg=C1(ms);let Sg=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ag.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l;let u=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const m=await a.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),E=(s=a.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");g&&E&&E.length>1&&(f=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,p="OK")}catch{a.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new Cg.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};gs.default=Sg;var bg=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xs,"__esModule",{value:!0});const Ng=bg(gs);let Ig=class extends Ng.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};xs.default=Ig;var Tg=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Na,"__esModule",{value:!0});const Og=Tg(xs);let jg=class extends Og.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Na.default=jg;var Rg=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vs,"__esModule",{value:!0});const Ii=Rg(Na);let kg=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ii.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const o=e.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new Ii.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const o="POST",s=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),a||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ii.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Ii.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ii.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vs.default=kg;var ys={},ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.version=void 0;ws.version="0.0.0-automated";Object.defineProperty(ys,"__esModule",{value:!0});ys.DEFAULT_HEADERS=void 0;const Pg=ws;ys.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Pg.version}`};var S1=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ic,"__esModule",{value:!0});const Dg=S1(vs),Mg=S1(Na),Lg=ys;let Bg=class b1{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Lg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new Dg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new b1(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){let o;const s=new URL(`${this.url}/rpc/${e}`);let l;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{s.searchParams.append(d,f)})):(o="POST",l=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new Mg.default({method:o,url:s,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ic.default=Bg;var mi=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pt,"__esModule",{value:!0});pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const N1=mi(Ic);pt.PostgrestClient=N1.default;const I1=mi(vs);pt.PostgrestQueryBuilder=I1.default;const T1=mi(Na);pt.PostgrestFilterBuilder=T1.default;const O1=mi(xs);pt.PostgrestTransformBuilder=O1.default;const j1=mi(gs);pt.PostgrestBuilder=j1.default;const R1=mi(ms);pt.PostgrestError=R1.default;var Fg=pt.default={PostgrestClient:N1.default,PostgrestQueryBuilder:I1.default,PostgrestFilterBuilder:T1.default,PostgrestTransformBuilder:O1.default,PostgrestBuilder:j1.default,PostgrestError:R1.default};const{PostgrestClient:Ug,PostgrestQueryBuilder:t4,PostgrestFilterBuilder:r4,PostgrestTransformBuilder:n4,PostgrestBuilder:i4,PostgrestError:a4}=Fg;function $g(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const zg=$g(),Vg="2.11.15",Hg=`realtime-js/${Vg}`,Gg="1.0.0",k1=1e4,Wg=1e3;var Qi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qi||(Qi={}));var Ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ye||(Ye={}));var Vt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Vt||(Vt={}));var lu;(function(t){t.websocket="websocket"})(lu||(lu={}));var cn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(cn||(cn={}));class Xg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class P1{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ue||(ue={}));const of=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,o)=>(a[o]=qg(o,t,e,i),a),{})},qg=(t,e,r,n)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?D1(a,o):uu(o)},D1=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Qg(e,r)}switch(t){case ue.bool:return Kg(e);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return Yg(e);case ue.json:case ue.jsonb:return Zg(e);case ue.timestamp:return Jg(e);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return uu(e);default:return uu(e)}},uu=t=>t,Kg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Yg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Zg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Qg=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>D1(e,s))}return t},Jg=t=>typeof t=="string"?t.replace(" ","T"):t,M1=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Qs{constructor(e,r,n={},i=k1){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var sf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(sf||(sf={}));class Ji{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ji.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Ji.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ji.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),s={},l={};return this.map(a,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(E=>E.presence_ref),p=f.map(E=>E.presence_ref),v=d.filter(E=>p.indexOf(E.presence_ref)<0),g=f.filter(E=>h.indexOf(E.presence_ref)<0);v.length>0&&(s[u]=v),g.length>0&&(l[u]=g)}else s[u]=d}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const d=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),d.length>0){const f=e[s].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[s].unshift(...h)}n(s,d,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(lf||(lf={}));var uf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(uf||(uf={}));var lr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(lr||(lr={}));class Tc{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Qs(this,Vt.join,this.params,this.timeout),this.rejoinTimer=new P1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ji(this),this.broadcastEndpointURL=M1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:a,presence:o,private:s}}=this.params;this._onError(d=>e==null?void 0:e(lr.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(lr.CLOSED));const l={},u={broadcast:a,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:s};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(lr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let g=0;g<p;g++){const E=h[g],{filter:{event:m,schema:x,table:y,filter:_}}=E,w=d&&d[g];if(w&&w.event===m&&w.schema===x&&w.table===y&&w.filter===_)v.push(Object.assign(Object.assign({},E),{id:w.id}));else{this.unsubscribe(),this.state=Ye.errored,e==null||e(lr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(lr.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ye.errored,e==null||e(lr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(lr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Qs(this,Vt.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Qs(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=Vt;if(n&&[s,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,g,E;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((E=(g=p.filter)===null||g===void 0?void 0:g.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var v,g,E,m,x,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,w=(v=p.filter)===null||v===void 0?void 0:v.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const _=(x=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:E,commit_timestamp:m,type:x,errors:y}=v;h=Object.assign(Object.assign({},{schema:g,table:E,commit_timestamp:m,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Tc.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vt.close,{},e)}_onError(e){this._on(Vt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=of(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=of(e.columns,e.old_record)),r}}const cf=()=>{},em=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tm{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=k1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cf,this.ref=0,this.logger=cf,this.conn=null,this.sendBuffer=[],this.serializer=new Xg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...s)=>ba(async()=>{const{default:l}=await Promise.resolve().then(()=>gi);return{default:l}},void 0).then(({default:l})=>l(...s)):o=fetch,(...s)=>o(...s)},this.endPoint=`${e}/${lu.websocket}`,this.httpEndpoint=M1(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,o)=>o(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new P1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=zg),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gg}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qi.connecting:return cn.Connecting;case Qi.open:return cn.Open;case Qi.closing:return cn.Closing;default:return cn.Closed}}isConnected(){return this.connectionState()===cn.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Tc(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Hg};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Vt.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Wg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:a,ref:o}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(s=>s._isMember(n)).forEach(s=>s._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(s=>s(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Vt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([em],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Oc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class rm extends Oc{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cu extends Oc{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var nm=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};const L1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ba(async()=>{const{default:n}=await Promise.resolve().then(()=>gi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},im=()=>nm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ba(()=>Promise.resolve().then(()=>gi),void 0)).Response:Response}),du=t=>{if(Array.isArray(t))return t.map(r=>du(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=du(n)}),e};var Nn=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};const Js=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),am=(t,e,r)=>Nn(void 0,void 0,void 0,function*(){const n=yield im();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new rm(Js(i),t.status||500))}).catch(i=>{e(new cu(Js(i),i))}):e(new cu(Js(t),t))}),om=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Ia(t,e,r,n,i,a){return Nn(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,om(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>am(l,s,n))})})}function Wo(t,e,r,n){return Nn(this,void 0,void 0,function*(){return Ia(t,"GET",e,r,n)})}function Nr(t,e,r,n,i){return Nn(this,void 0,void 0,function*(){return Ia(t,"POST",e,n,i,r)})}function sm(t,e,r,n,i){return Nn(this,void 0,void 0,function*(){return Ia(t,"PUT",e,n,i,r)})}function lm(t,e,r,n){return Nn(this,void 0,void 0,function*(){return Ia(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function B1(t,e,r,n,i){return Nn(this,void 0,void 0,function*(){return Ia(t,"DELETE",e,n,i,r)})}var dt=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};const um={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},df={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cm{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=L1(i)}uploadOrUpdate(e,r,n,i){return dt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},df),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:a,headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(Me(a))return{data:null,error:a};throw a}})}upload(e,r,n){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return dt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:df.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(s.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Me(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return dt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Nr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new Oc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}})}update(e,r,n){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return dt(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}})}copy(e,r,n){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield Nr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return dt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Nr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return dt(this,void 0,void 0,function*(){try{const i=yield Nr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}})}download(e,r){return dt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const s=this._getFinalPath(e);return{data:yield(yield Wo(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}})}info(e){return dt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Wo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:du(n),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}})}exists(e){return dt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield lm(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Me(n)&&n instanceof cu){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(e){return dt(this,void 0,void 0,function*(){try{return{data:yield B1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}list(e,r,n){return dt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},um),r),{prefix:e||""});return{data:yield Nr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const dm="2.7.1",fm={"X-Client-Info":`storage-js/${dm}`};var Tn=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};class hm{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},fm),r),this.fetch=L1(n)}listBuckets(){return Tn(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Me(e))return{data:null,error:e};throw e}})}getBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Tn(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Tn(this,void 0,void 0,function*(){try{return{data:yield sm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield B1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}}class pm extends hm{constructor(e,r={},n){super(e,r,n)}from(e){return new cm(this.url,this.headers,e,this.fetch)}}const vm="2.52.1";let Bi="";typeof Deno<"u"?Bi="deno":typeof document<"u"?Bi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bi="react-native":Bi="node";const xm={"X-Client-Info":`supabase-js-${Bi}/${vm}`},gm={headers:xm},mm={schema:"public"},ym={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wm={};var _m=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};const Em=t=>{let e;return t?e=t:typeof fetch>"u"?e=E1:e=fetch,(...r)=>e(...r)},Am=()=>typeof Headers>"u"?A1:Headers,Cm=(t,e,r)=>{const n=Em(r),i=Am();return(a,o)=>_m(void 0,void 0,void 0,function*(){var s;const l=(s=yield e())!==null&&s!==void 0?s:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var Sm=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};function bm(t){return t.endsWith("/")?t:t+"/"}function Nm(t,e){var r,n;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Sm(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const F1="2.71.1",Dn=30*1e3,fu=3,el=fu*Dn,Im="http://localhost:9999",Tm="supabase.auth.token",Om={"X-Client-Info":`gotrue-js/${F1}`},hu="X-Supabase-Api-Version",U1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rm=10*60*1e3;class jc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class km extends jc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Pm(t){return $(t)&&t.name==="AuthApiError"}class $1 extends jc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Yr extends jc{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Cr extends Yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dm(t){return $(t)&&t.name==="AuthSessionMissingError"}class Za extends Yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qa extends Yr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ja extends Yr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mm(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class ff extends Yr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pu extends Yr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function tl(t){return $(t)&&t.name==="AuthRetryableFetchError"}class hf extends Yr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class vu extends Yr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pf=` 	
\r=`.split(""),Lm=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<pf.length;e+=1)t[pf[e].charCodeAt(0)]=-2;for(let e=0;e<Xo.length;e+=1)t[Xo[e].charCodeAt(0)]=e;return t})();function vf(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Xo[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Xo[n]),e.queuedBits-=6}}function z1(t,e,r){const n=Lm[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xf(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Um(o,n,r)};for(let o=0;o<t.length;o+=1)z1(t.charCodeAt(o),i,a);return e.join("")}function Bm(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Fm(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Bm(n,e)}}function Um(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function $m(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)z1(t.charCodeAt(i),r,n);return new Uint8Array(e)}function zm(t){const e=[];return Fm(t,r=>e.push(r)),new Uint8Array(e)}function Vm(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>vf(i,r,n)),vf(null,r,n),e.join("")}function Hm(t){return Math.round(Date.now()/1e3)+t}function Gm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ft=()=>typeof window<"u"&&typeof document<"u",tn={tested:!1,writable:!1},V1=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tn.tested)return tn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tn.tested=!0,tn.writable=!0}catch{tn.tested=!0,tn.writable=!1}return tn.writable};function Wm(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const H1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ba(async()=>{const{default:n}=await Promise.resolve().then(()=>gi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Xm=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Mn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},rn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_r=async(t,e)=>{await t.removeItem(e)};class _s{constructor(){this.promise=new _s.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}_s.promiseConstructor=Promise;function rl(t){const e=t.split(".");if(e.length!==3)throw new vu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!jm.test(e[n]))throw new vu("JWT not in base64url format");return{header:JSON.parse(xf(e[0])),payload:JSON.parse(xf(e[1])),signature:$m(e[2]),raw:{header:e[0],payload:e[1]}}}async function qm(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Km(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function Ym(t){return("0"+t.toString(16)).substr(-2)}function Zm(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Ym).join("")}async function Qm(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Jm(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Qm(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function On(t,e,r=!1){const n=Zm();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Mn(t,`${e}-code-verifier`,i);const a=await Jm(n);return[a,n===a?"plain":"s256"]}const e2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function t2(t){const e=t.headers.get(hu);if(!e||!e.match(e2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function r2(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function n2(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jn(t){if(!i2.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nl(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gf(t){return JSON.parse(JSON.stringify(t))}var a2=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const ln=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),o2=[502,503,504];async function mf(t){var e;if(!Xm(t))throw new pu(ln(t),0);if(o2.includes(t.status))throw new pu(ln(t),t.status);let r;try{r=await t.json()}catch(a){throw new $1(ln(a),a)}let n;const i=t2(t);if(i&&i.getTime()>=U1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hf(ln(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Cr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new hf(ln(r),t.status,r.weak_password.reasons);throw new km(ln(r),t.status||500,n)}const s2=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function q(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[hu]||(a[hu]=U1["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await l2(t,e,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function l2(t,e,r,n,i,a){const o=s2(e,n,i,a);let s;try{s=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new pu(ln(l),0)}if(s.ok||await mf(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await mf(l)}}function or(t){var e;let r=null;f2(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Hm(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function yf(t){const e=or(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function u2(t){return{data:t,error:null}}function c2(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=a2(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function d2(t){return t}function f2(t){return t.access_token&&t.refresh_token&&t.expires_in}const il=["global","local","others"];var h2=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class p2{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=H1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=il[0]){if(il.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${il.join(", ")}`);try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rr})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=h2(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:c2,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rr})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:d2});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(v.split(";")[1].split("=")[1]);u[`${E}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){jn(e);try{return await q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rr})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){jn(e);try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Rr})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){jn(e);try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rr})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){jn(e.userId);try{const{data:r,error:n}=await q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(e){jn(e.userId),jn(e.id);try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}function wf(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function v2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rn={debug:!!(globalThis&&V1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class G1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class x2 extends G1{}async function g2(t,e,r){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new x2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Rn.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}v2();const m2={url:Im,storageKey:Tm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Om,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _f(t,e,r){return await r()}const kn={};class ya{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ya.nextInstanceID,ya.nextInstanceID+=1,this.instanceID>0&&Ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},m2),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new p2({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=H1(i.fetch),this.lock=i.lock||_f,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=g2:this.lock=_f,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:V1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=wf(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=kn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=kn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${F1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Wm(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ft()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Mm(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?{error:r}:{error:new $1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:or}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await On(this.storage,this.storageKey)),a=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:or})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:or})}else throw new Qa("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:s}=e;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:yf})}else if("phone"in e){const{phone:a,password:o,options:s}=e;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:yf})}else throw new Qa("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Za}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,o,s,l,u,d,f,h,p;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:E,wallet:m,statement:x,options:y}=e;let _;if(Ft())if(typeof m=="object")_=m;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const w=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),x?{statement:x}:null));let S;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")S=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)S=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:E,error:m}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Vm(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:or});if(m)throw m;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Za}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:m})}catch(E){if($(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const r=await rn(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:or});if(await _r(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Za}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if($(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,s=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:or}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Za}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await On(this.storage,this.storageKey));const{error:f}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Qa("You must provide either an email or phone number.")}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:or});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await On(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:u2})}catch(a){if($(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Cr;const{error:i}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:s}=await q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Qa("You must provide either an email or phone number and a type")}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await rn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<el:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await rn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=nl()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rr}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cr}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Rr})})}catch(r){if($(r))return Dm(r)&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Cr;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await On(this.storage,this.storageKey));const{data:u,error:d}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Rr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Cr;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=rl(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if($(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:s}=r;if(s)throw s;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Cr;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ft())throw new Ja("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ja(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ff("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ja("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ff("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!a||!s||!o||!u)throw new Ja("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Dn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:g,error:E}=await this._getUser(a);if(E)throw E;const m={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if($(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await rn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(Pm(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Gm(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await On(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if($(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ft()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Km(async i=>(i>0&&await qm(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:or})),(i,a)=>{const o=200*Math.pow(2,i);return a&&tl(a)&&Date.now()+o-n<Dn})}catch(n){if(this._debug(r,"error",n),$(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ft()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await rn(this.storage,this.storageKey);if(i&&this.userStorage){let o=await rn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Mn(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:nl()}else if(i&&!i.user&&!i.user){const o=await rn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await _r(this.storage,this.storageKey+"-user"),await Mn(this.storage,this.storageKey,i)):i.user=nl()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<el;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${el}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),tl(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new _s;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Cr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),$(a)){const o={session:null,error:a};return tl(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Mn(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=gf(i);await Mn(this.storage,this.storageKey,a)}else{const i=gf(r);await Mn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await _r(this.storage,this.storageKey),await _r(this.storage,this.storageKey+"-code-verifier"),await _r(this.storage,this.storageKey+"-user"),this.userStorage&&await _r(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Dn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Dn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Dn}ms, refresh threshold is ${fu} ticks`),i<=fu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof G1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await On(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:s}=await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=rl(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+Rm>i)return n;const{data:a,error:o}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=rl(n);r!=null&&r.allowExpired||r2(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const d=n2(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,zm(`${s}.${l}`)))throw new vu("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}ya.nextInstanceID=0;const y2=ya;class w2 extends y2{constructor(e){super(e)}}var _2=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};class E2{constructor(e,r,n){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const s=bm(e),l=new URL(s);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:mm,realtime:wm,auth:Object.assign(Object.assign({},ym),{storageKey:u}),global:gm},f=Nm(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Cm(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Ug(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new xg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pm(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return _2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:s,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w2({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:s,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new tm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A2=(t,e,r)=>new E2(t,e,r);function C2(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}C2()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const S2="https://zubrflyhzsmqngfbjkpg.supabase.co",b2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp1YnJmbHloenNtcW5nZmJqa3BnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5MjA4NjAsImV4cCI6MjA2ODQ5Njg2MH0.SIDLeNDWphs1LxPLO5Mg37oCUB_8eAvfRIz5lCfle8g",Je=A2(S2,b2);class Ti{static async getAllMaterials(){const{data:e,error:r}=await Je.from("materials").select("*").order("name");if(r)throw console.error("Error fetching materials:",r),r;return e||[]}static async createMaterial(e){const{data:r,error:n}=await Je.from("materials").insert([{...e,updated_at:new Date().toISOString()}]).select().single();if(n)throw console.error("Error creating material:",n),n;return r}static async updateMaterial(e,r){const{data:n,error:i}=await Je.from("materials").update({...r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(i)throw console.error("Error updating material:",i),i;return n}static async deleteMaterial(e){const{error:r}=await Je.from("materials").delete().eq("id",e);if(r)throw console.error("Error deleting material:",r),r}static async findByBarcode(e){const{data:r,error:n}=await Je.from("materials").select("*").eq("barcode",e).single();if(n&&n.code!=="PGRST116")throw console.error("Error finding material by barcode:",n),n;return r||null}static async getLowStockMaterials(){const{data:e,error:r}=await Je.from("materials").select("*").filter("current_stock","lte","min_stock").order("name");if(r)throw console.error("Error fetching low stock materials:",r),r;return e||[]}}function N2(){const[t,e]=k.useState([]),[r,n]=k.useState(!0),[i,a]=k.useState(null),o=async()=>{try{n(!0),a(null);const f=await Ti.getAllMaterials();e(f)}catch(f){a(f instanceof Error?f.message:"เกิดข้อผิดพลาดในการดึงข้อมูลวัสดุ")}finally{n(!1)}},s=async f=>{try{a(null);const h=await Ti.createMaterial(f);return e(p=>[...p,h]),h}catch(h){throw a(h instanceof Error?h.message:"เกิดข้อผิดพลาดในการเพิ่มวัสดุ"),h}},l=async(f,h)=>{try{a(null);const p=await Ti.updateMaterial(f,h);return e(v=>v.map(g=>g.id===f?p:g)),p}catch(p){throw a(p instanceof Error?p.message:"เกิดข้อผิดพลาดในการอัปเดตวัสดุ"),p}},u=async f=>{try{a(null),await Ti.deleteMaterial(f),e(h=>h.filter(p=>p.id!==f))}catch(h){throw a(h instanceof Error?h.message:"เกิดข้อผิดพลาดในการลบวัสดุ"),h}},d=async f=>{try{return a(null),await Ti.findByBarcode(f)}catch(h){throw a(h instanceof Error?h.message:"เกิดข้อผิดพลาดในการค้นหาบาร์โค้ด"),h}};return k.useEffect(()=>{o()},[]),{materials:t,loading:r,error:i,fetchMaterials:o,addMaterial:s,updateMaterial:l,deleteMaterial:u,findByBarcode:d}}function L({children:t,variant:e="primary",size:r="md",onClick:n,disabled:i=!1,className:a="",type:o="button"}){const s="font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-500",secondary:"bg-white/10 backdrop-blur-lg border border-white/20 text-white hover:bg-white/20 focus:ring-white/50",success:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500",warning:"bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 text-white focus:ring-yellow-500",danger:"bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white focus:ring-red-500"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return c.jsx("button",{type:o,onClick:n,disabled:i,className:`${s} ${l[e]} ${u[r]} ${a}`,children:t})}function I2({material:t,onEdit:e,onDelete:r}){const n=t.current_stock<=t.min_stock;return c.jsx(U,{className:"p-6 hover:scale-105 transition-transform duration-300",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:c.jsx(An,{className:"w-8 h-8 text-white"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:t.name}),c.jsx("p",{className:"text-white/60 text-sm",children:t.category||"ไม่ระบุหมวดหมู่"})]}),n&&c.jsxs("div",{className:"flex items-center space-x-1 text-yellow-400",children:[c.jsx(Cc,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs",children:"สต็อกต่ำ"})]})]}),c.jsx("p",{className:"text-white/70 text-sm mb-3",children:t.note||"ไม่มีรายละเอียด"}),t.barcode&&c.jsx("div",{className:"mb-3",children:c.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-white/5 rounded-lg",children:[c.jsx(hs,{className:"w-4 h-4 text-white/60"}),c.jsxs("span",{className:"text-white/80 font-mono text-sm",children:["รหัส: ",t.barcode]})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs",children:"สต็อกปัจจุบัน"}),c.jsxs("p",{className:"text-white font-medium",children:[t.current_stock," ",t.unit||"หน่วย"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs",children:"ระดับขั้นต่ำ"}),c.jsxs("p",{className:"text-white font-medium",children:[t.min_stock," ",t.unit||"หน่วย"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs",children:"ราคา/หน่วย"}),c.jsxs("p",{className:"text-white font-medium",children:["₿",t.price]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs",children:"ตำแหน่ง"}),c.jsx("p",{className:"text-white font-medium text-sm",children:t.location||"ไม่ระบุ"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-white/60 text-xs",children:"ระดับสต็อก"}),c.jsxs("span",{className:"text-white/60 text-xs",children:[Math.round(t.stockQuantity/Math.max(t.minStockLevel*3,1)*100),"%"]})]}),c.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${n?"bg-gradient-to-r from-red-500 to-yellow-500":"bg-gradient-to-r from-green-500 to-blue-500"}`,style:{width:`${Math.min(t.current_stock/Math.max(t.min_stock*3,1)*100,100)}%`}})})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(L,{size:"sm",variant:"secondary",onClick:()=>e(t),className:"flex items-center space-x-1",children:[c.jsx(_1,{className:"w-4 h-4"}),c.jsx("span",{children:"แก้ไข"})]}),c.jsxs(L,{size:"sm",variant:"danger",onClick:()=>r(t.id),className:"flex items-center space-x-1",children:[c.jsx(ps,{className:"w-4 h-4"}),c.jsx("span",{children:"ลบ"})]})]})]})]})})}function mr({isOpen:t,onClose:e,title:r,children:n,size:i="md"}){if(!t)return null;const a={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:e}),c.jsxs("div",{className:`inline-block w-full ${a[i]} p-6 my-8 overflow-hidden text-left align-middle bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl shadow-xl transform transition-all`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:r}),c.jsx("button",{onClick:e,className:"p-2 text-white/60 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:c.jsx(bc,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"text-white",children:n})]})]})})}function T2(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function O2(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var j2=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R2=function(t){j2(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),T2(a,i.prototype),O2(a),a}return e}(Error),k2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wt=function(t){k2(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(R2),P2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ut=function(t){P2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(wt),D2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),F=function(t){D2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(wt),M2=function(){function t(e){if(this.binarizer=e,e===null)throw new F("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),L2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Be=function(t){L2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(wt),B2=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),de=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),F2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rc=function(t){F2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(wt),U2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ef=function(t){U2(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(Rc),$2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oe=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new F("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new Ef(r);if(n>e)throw new Ef(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=$2(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return de.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),X=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Fe=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);de.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+X.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+X.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new F;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,l=o<i?31:r&31,u=(2<<l)-(1<<s);a[o]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new F;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var l=s>i?0:e&31,u=s<a?31:r&31,d=(2<<u)-(1<<l)&4294967295;if((o[s]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new F("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new F("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,a=1;a<n;a++){var u=e[a];l|=u<<32-s,e[a-1]=l,l=u>>>s}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Oe.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Oe.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),xu;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(xu||(xu={}));const ge=xu;var z2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j=function(t){z2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(wt),V2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ae;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(ae||(ae={}));var Te=function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,u=0,d=l.length;u!==d;u++){var f=l[u];t.VALUES_TO_ECI.set(f,this)}try{for(var h=V2(o),p=h.next();!p.done;p=h.next()){var v=p.value;t.NAME_TO_ECI.set(v,this)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new j("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new j("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new j("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(ae.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(ae.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(ae.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(ae.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(ae.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(ae.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(ae.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(ae.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(ae.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(ae.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(ae.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(ae.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(ae.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(ae.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(ae.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(ae.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(ae.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(ae.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(ae.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(ae.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(ae.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(ae.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(ae.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(ae.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(ae.Big5,28,"Big5"),t.GB18030=new t(ae.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(ae.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),H2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mo=function(t){H2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(wt),kt=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Te?e:Te.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(Te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new mo("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Te.UTF8)||e.equals(Te.ISO8859_1)||e.equals(Te.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),Z=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return kt.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(ge.CHARACTER_SET)!==void 0)return r.get(ge.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,l=0,u=0,d=0,f=0,h=0,p=0,v=0,g=0,E=0,m=0,x=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,y=0;y<n&&(i||a||o);y++){var _=e[y]&255;o&&(s>0?_&128?s--:o=!1:_&128&&(_&64?(s++,_&32?(s++,_&16?(s++,_&8?o=!1:d++):u++):l++):o=!1)),i&&(_>127&&_<160?i=!1:_>159&&(_<192||_===215||_===247)&&m++),a&&(f>0?_<64||_===127||_>252?a=!1:f--:_===128||_===160||_>239?a=!1:_>160&&_<224?(h++,v=0,p++,p>g&&(g=p)):_>127?(f++,p=0,v++,v>E&&(E=v)):(p=0,v=0))}return o&&s>0&&(o=!1),a&&f>0&&(a=!1),o&&(x||l+u+d>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||g>=3||E>=3)?t.SHIFT_JIS:i&&a?g===2&&h===2||m*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,l,u,d,f,h){if(s==="%%")return"%";if(r[++i]!==void 0){s=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,v;switch(h){case"s":v=r[i];break;case"c":v=r[i][0];break;case"f":v=parseFloat(r[i]).toFixed(s);break;case"p":v=parseFloat(r[i]).toPrecision(s);break;case"e":v=parseFloat(r[i]).toExponential(s);break;case"x":v=parseInt(r[i]).toString(p||16);break;case"d":v=parseFloat(parseInt(r[i],p||10).toPrecision(s)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(p);for(var g=parseInt(u),E=u&&u[0]+""=="0"?"0":" ";v.length<g;)v=l!==void 0?v+E:E+v;return v}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return kt.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Te.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Te.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Te.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),G=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Z.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),ir=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new F("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new F("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,l=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new F("row lengths do not match");o=a,l++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,i[a]=!0,a++;else if(e.substring(u,u+n.length)===n)u+=n.length,i[a]=!1,a++;else throw new F("illegal character encountered: "+e.substring(u));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new F("row lengths do not match");l++}for(var d=new t(s,l),f=0;f<a;f++)i[f]&&d.set(Math.floor(f%s),Math.floor(f/s));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new F("input matrix dimensions do not match");for(var r=new Fe(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,l=e.getRow(a,r).getBitArray(),u=0;u<n;u++)i[s+u]^=l[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new F("Left and top must be nonnegative");if(i<1||n<1)throw new F("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new F("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,u=r;u<o;u++)for(var d=u*s,f=e;f<a;f++)l[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new Fe(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){de.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new Fe(e),i=new Fe(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,l=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=i[u*n+d];if(f!==0){if(u<o&&(o=u),u>l&&(l=u),d*32<a){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<a&&(a=d*32+h)}if(d*32+31>s){for(var h=31;!(f>>>h);)h--;d*32+h>s&&(s=d*32+h)}}}return s<a||l<o?null:Int32Array.from([a,o,s-a+1,l-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Oe.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Oe.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new G,a=0,o=this.height;a<o;a++){for(var s=0,l=this.width;s<l;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),G2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I=function(t){G2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(wt),W2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X2=function(t){W2(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new Fe(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,l=0;l<a;l++)s[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(s);if(a<3)for(var l=0;l<a;l++)(o[l]&255)<u&&n.set(l);else for(var d=o[0]&255,f=o[1]&255,l=1;l<a-1;l++){var h=o[l+1]&255;(f*4-d-h)/2<u&&n.set(l),d=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new ir(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(i*s/5),u=r.getRow(l,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=u[f]&255;o[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(o),v=r.getMatrix(),s=0;s<i;s++)for(var g=s*n,f=0;f<n;f++){var h=v[g+f]&255;h<p&&a.set(f,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var l=0,u=0,s=0;s<n;s++){var d=s-a,f=r[s]*d*d;f>u&&(l=s,u=f)}if(a>l){var h=a;a=l,l=h}if(l-a<=n/16)throw new I;for(var p=l-1,v=-1,s=l-1;s>a;s--){var g=s-a,f=g*g*(l-s)*(i-r[s]);f>v&&(p=s,v=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(B2),q2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K2=function(t){q2(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var l=e.calculateBlackPoints(a,o,s,n,i),u=new ir(n,i);e.calculateThresholdForBlock(a,o,s,n,i,l,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,l){for(var u=o-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,f=0;f<i;f++){var h=f<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=e.cap(f,2,i-3),v=0;v<n;v++){var g=v<<e.BLOCK_SIZE_POWER;g>d&&(g=d);for(var E=e.cap(v,2,n-3),m=0,x=-2;x<=2;x++){var y=s[p+x];m+=y[E-2]+y[E-1]+y[E]+y[E+1]+y[E+2]}var _=m/25;e.thresholdBlock(r,g,h,_,a,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var l=0,u=i*o+n;l<e.BLOCK_SIZE;l++,u+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(r[u+d]&255)<=a&&s.set(n+d,i+l)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,u=new Array(i),d=0;d<i;d++){u[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var v=0,g=255,E=0,m=0,x=f*a+p;m<e.BLOCK_SIZE;m++,x+=a){for(var y=0;y<e.BLOCK_SIZE;y++){var _=r[x+y]&255;v+=_,_<g&&(g=_),_>E&&(E=_)}if(E-g>e.MIN_DYNAMIC_RANGE)for(m++,x+=a;m<e.BLOCK_SIZE;m++,x+=a)for(var y=0;y<e.BLOCK_SIZE;y++)v+=r[x+y]&255}var w=v>>e.BLOCK_SIZE_POWER*2;if(E-g<=e.MIN_DYNAMIC_RANGE&&(w=g/2,d>0&&h>0)){var C=(u[d-1][h]+2*u[d][h-1]+u[d-1][h-1])/4;g<C&&(w=C)}u[d][h]=w}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(X2),Es=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new mo("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new mo("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new mo("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new G,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),Y2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kc=function(t){Y2(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Es),Z2=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q2=function(t){Z2(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,l=0,u=r.length;s<u;s+=4,l++){var d=void 0,f=r[s+3];if(f===0)d=255;else{var h=r[s],p=r[s+1],v=r[s+2];d=306*h+601*p+117*v+512>>10}o[l]=d}else for(var s=0,l=0,g=r.length;s<g;s+=4,l++){var d=void 0,f=r[s+3];if(f===0)d=255;else{var h=r[s],p=r[s+1],v=r[s+2];d=306*h+601*p+117*v+512>>10}o[l]=255-d}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new F("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),u=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=l,n.height=u,i.translate(l/2,u/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new kc(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Es),J2=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),nt=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},it=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ey=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yi=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return nt(this,void 0,void 0,function(){var e,r,n,i,a,o,s,l,u,d,f,h;return it(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=ey(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,l=a.label||"Video device "+(r.length+1),u=a.groupId,d={deviceId:s,label:l,kind:o,groupId:u},r.push(d))}catch(v){f={error:v}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return nt(this,void 0,void 0,function(){var e;return it(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new J2(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return nt(this,void 0,void 0,function(){var r;return it(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return nt(this,void 0,void 0,function(){return it(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return nt(this,void 0,void 0,function(){var n,i;return it(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return nt(this,void 0,void 0,function(){var n;return it(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return nt(this,void 0,void 0,function(){var n,i;return it(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return nt(this,void 0,void 0,function(){return it(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return nt(this,void 0,void 0,function(){var i,a;return it(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return nt(this,void 0,void 0,function(){var i;return it(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return nt(this,void 0,void 0,function(){var i;return it(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return nt(this,void 0,void 0,function(){var n;return it(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return nt(this,void 0,void 0,function(){return it(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Ut("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Ut("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Ut("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Ut("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Ut("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Ut("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ut("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ut("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ut("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Ut("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return nt(this,void 0,void 0,function(){return it(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return nt(this,void 0,void 0,function(){return it(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new I("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);o(l)}catch(h){var u=r&&h instanceof I,d=h instanceof Be||h instanceof j,f=d&&n;if(u||f)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(h)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var o=l instanceof Be||l instanceof j,s=l instanceof I;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new Q2(n,r),a=new K2(i);return new M2(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),tt=function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=de.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=de.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);de.arraycopy(r,0,n,0,r.length),de.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),gu;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(gu||(gu={}));const B=gu;var mu;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(mu||(mu={}));const Ge=mu;var As=function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),Fi=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new F;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Vr=function(){function t(e,r){if(r.length===0)throw new F;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),de.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=Fi.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,l=this.field,i=1;i<s;i++)n=Fi.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new F("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;de.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=Fi.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new F("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,l=0;l<n;l++)for(var u=r[l],d=0;d<a;d++)o[l+d]=Fi.addOrSubtract(o[l+d],s.multiply(u,i[d]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new F;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new F("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new F("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),o),u=e.multiplyByMonomial(s,l),d=r.buildMonomial(s,l);n=n.addOrSubtract(d),i=i.addOrSubtract(u)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),ty=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),W1=function(t){ty(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(wt),ry=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vt=function(t){ry(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,l=0;l<n;l++)o[l]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var u=new Int32Array(n),l=0;l<n-1;l++)u[o[l]]=l;return a.logTable=u,a.zero=new Vr(a,Int32Array.from([0])),a.one=new Vr(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new F;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Vr(this,i)},e.prototype.inverse=function(r){if(r===0)throw new W1;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+X.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Fi),ny=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eo=function(t){ny(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(wt),iy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ta=function(t){iy(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(wt),Cs=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new Vr(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var l=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var u=new Vr(n,a),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],h=d[1],p=this.findErrorLocations(f),v=this.findErrorMagnitudes(h,p),s=0;s<p.length;s++){var g=e.length-1-n.log(p[s]);if(g<0)throw new eo("Bad error location");e[g]=vt.addOrSubtract(e[g],v[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,l=a.getZero(),u=a.getOne();s.getDegree()>=(n/2|0);){var d=o,f=l;if(o=s,l=u,o.isZero())throw new eo("r_{i-1} was zero");s=d;for(var h=a.getZero(),p=o.getCoefficient(o.getDegree()),v=a.inverse(p);s.getDegree()>=o.getDegree()&&!s.isZero();){var g=s.getDegree()-o.getDegree(),E=a.multiply(s.getCoefficient(s.getDegree()),v);h=h.addOrSubtract(a.buildMonomial(g,E)),s=s.addOrSubtract(o.multiplyByMonomial(g,E))}if(u=h.multiply(l).addOrSubtract(f),s.getDegree()>=o.getDegree())throw new Ta("Division algorithm failed to reduce polynomial?")}var m=u.getCoefficient(0);if(m===0)throw new eo("sigmaTilde(0) was zero");var x=a.inverse(m),y=u.multiplyScalar(x),_=s.multiplyScalar(x);return[y,_]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new eo("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),l=1,u=0;u<n;u++)if(o!==u){var d=a.multiply(r[u],s),f=d&1?d&-2:d|1;l=a.multiply(l,f)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(l)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t}(),$e;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})($e||($e={}));var Af=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new As(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=$e.UPPER,i=$e.UPPER,a="",o=0;o<r;)if(i===$e.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var l=0;l<s;l++){if(r-o<8){o=r;break}var u=t.readCode(e,o,8);a+=Z.castAsNonUtf8Char(u),o+=8}i=n}else{var d=i===$e.DIGIT?4:5;if(r-o<d)break;var u=t.readCode(e,o,d);o+=d;var f=t.getCharacter(i,u);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(a+=f,i=n)}return a},t.getTable=function(e){switch(e){case"L":return $e.LOWER;case"P":return $e.PUNCT;case"M":return $e.MIXED;case"D":return $e.DIGIT;case"B":return $e.BINARY;case"U":default:return $e.UPPER}},t.getCharacter=function(e,r){switch(e){case $e.UPPER:return t.UPPER_TABLE[r];case $e.LOWER:return t.LOWER_TABLE[r];case $e.MIXED:return t.MIXED_TABLE[r];case $e.PUNCT:return t.PUNCT_TABLE[r];case $e.DIGIT:return t.DIGIT_TABLE[r];default:throw new Ta("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=vt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=vt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=vt.AZTEC_DATA_10):(n=12,r=vt.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new j;for(var o=e.length%n,s=new Int32Array(a),l=0;l<a;l++,o+=n)s[l]=t.readCode(e,o,n);try{var u=new Cs(r);u.decode(s,a-i)}catch(E){throw new j(E)}for(var d=(1<<n)-1,f=0,l=0;l<i;l++){var h=s[l];if(h===0||h===d)throw new j;(h===1||h===d-1)&&f++}for(var p=new Array(i*n-f),v=0,l=0;l<i;l++){var h=s[l];if(h===1||h===d-1)p.fill(h>1,v,v+n-1),v+=n-1;else for(var g=n-1;g>=0;--g)p[v++]=(h&1<<g)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var l=i+1+2*X.truncDivision(X.truncDivision(i,2)-1,15),u=i/2,d=X.truncDivision(l,2),s=0;s<u;s++){var f=s+X.truncDivision(s,15);a[u-s-1]=d-f-1,a[u+s]=d+f+1}for(var s=0,h=0;s<n;s++){for(var p=(n-s)*4+(r?9:12),v=s*2,g=i-1-v,E=0;E<p;E++)for(var m=E*2,x=0;x<2;x++)o[h+m+x]=e.get(a[v+x],a[v+E]),o[h+2*p+m+x]=e.get(a[v+E],a[g-x]),o[h+4*p+m+x]=e.get(a[g-x],a[g-E]),o[h+6*p+m+x]=e.get(a[g-E],a[v+x]);h+=p*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),ee=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),yu=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),M=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*yu.floatToIntBits(this.x)+yu.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var l=a;a=s,s=l}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return ee.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),Pc=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),ay=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oy=function(t){ay(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Pc),wu=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new I}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,l=!1,u=!1,d=!1,f=!1,h=this.width,p=this.height;o;){o=!1;for(var v=!0;(v||!l)&&r<h;)v=this.containsBlackPoint(n,i,r,!1),v?(r++,o=!0,l=!0):l||r++;if(r>=h){a=!0;break}for(var g=!0;(g||!u)&&i<p;)g=this.containsBlackPoint(e,r,i,!0),g?(i++,o=!0,u=!0):u||i++;if(i>=p){a=!0;break}for(var E=!0;(E||!d)&&e>=0;)E=this.containsBlackPoint(n,i,e,!1),E?(e--,o=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var m=!0;(m||!f)&&n>=0;)m=this.containsBlackPoint(e,r,n,!0),m?(n--,o=!0,f=!0):f||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var x=r-e,y=null,_=1;y===null&&_<x;_++)y=this.getBlackPointOnSegment(e,i-_,e+_,i);if(y==null)throw new I;for(var w=null,_=1;w===null&&_<x;_++)w=this.getBlackPointOnSegment(e,n+_,e+_,n);if(w==null)throw new I;for(var C=null,_=1;C===null&&_<x;_++)C=this.getBlackPointOnSegment(r,n+_,r-_,n);if(C==null)throw new I;for(var S=null,_=1;S===null&&_<x;_++)S=this.getBlackPointOnSegment(r,i-_,r-_,i);if(S==null)throw new I;return this.centerEdges(S,y,C,w)}else throw new I},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=ee.round(ee.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,l=this.image,u=0;u<a;u++){var d=ee.round(e+u*o),f=ee.round(r+u*s);if(l.get(d,f))return new M(d,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),l=r.getY(),u=n.getX(),d=n.getY(),f=i.getX(),h=i.getY(),p=t.CORR;return a<this.width/2?[new M(f-p,h+p),new M(s+p,l+p),new M(u-p,d-p),new M(a+p,o-p)]:[new M(f+p,h+p),new M(s+p,l-p),new M(u-p,d+p),new M(a-p,o-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),Cf=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new I;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new I;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}},t}(),X1=function(){function t(e,r,n,i,a,o,s,l,u){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=l,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,l,u,d,f,h,p,v,g,E){var m=t.quadrilateralToSquare(e,r,n,i,a,o,s,l),x=t.squareToQuadrilateral(u,d,f,h,p,v,g,E);return x.times(m)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,u=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],v=e[h+1],g=a*p+l*v+f;e[h]=(n*p+o*v+u)/g,e[h+1]=(i*p+s*v+d)/g}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,u=this.a31,d=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var v=e[p],g=r[p],E=a*v+l*g+f;e[p]=(n*v+o*g+u)/E,r[p]=(i*v+s*g+d)/E}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,l){var u=e-n+a-s,d=r-i+o-l;if(u===0&&d===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var f=n-a,h=s-a,p=i-o,v=l-o,g=f*v-h*p,E=(u*v-h*d)/g,m=(f*d-u*p)/g;return new t(n-e+E*n,s-e+m*s,e,i-r+E*i,l-r+m*l,r,E,m,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,l){return t.squareToQuadrilateral(e,r,n,i,a,o,s,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),sy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ly=function(t){sy(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,l,u,d,f,h,p,v,g,E,m,x,y,_){var w=X1.quadrilateralToQuadrilateral(a,o,s,l,u,d,f,h,p,v,g,E,m,x,y,_);return this.sampleGridWithTransform(r,n,i,w)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new I;for(var o=new ir(n,i),s=new Float32Array(2*n),l=0;l<i;l++){for(var u=s.length,d=l+.5,f=0;f<u;f+=2)s[f]=f/2+.5,s[f+1]=d;a.transformPoints(s),Cf.checkAndNudgePoints(r,s);try{for(var f=0;f<u;f+=2)r.get(Math.floor(s[f]),Math.floor(s[f+1]))&&o.set(f/2,l)}catch{throw new I}}return o},e}(Cf),Dc=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new ly,t}(),ft=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new M(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),uy=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new oy(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new I;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var l=(a>>r-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(X.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new I},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var l=new Cs(vt.AZTEC_PARAM);l.decode(o,a)}catch{throw new I}for(var u=0,s=0;s<i;s++)u=(u<<4)+o[s];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),l=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,l,u,d))break}r=s,n=l,i=u,a=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new I;this.compact=this.nbCenterLayers===5;var h=new M(r.getX()+.5,r.getY()-.5),p=new M(n.getX()+.5,n.getY()+.5),v=new M(i.getX()-.5,i.getY()+.5),g=new M(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,p,v,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new wu(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new ft(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ft(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ft(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ft(o-7,s-7),!1,-1,-1).toResultPoint()}var l=ee.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=ee.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new wu(this.image,15,l,u).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new ft(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ft(l+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ft(l-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ft(l-7,u-7),!1,-1,-1).toResultPoint()}return l=ee.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=ee.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new ft(l,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=Dc.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,u=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,l,l,u,l,u,u,l,u,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),l=e.getY(),u=o*(r.getX()-e.getX())/a,d=o*(r.getY()-e.getY())/a,f=0;f<n;f++)this.image.get(ee.round(s+f*u),ee.round(l+f*d))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new ft(e.getX()-a,e.getY()+a),r=new ft(r.getX()-a,r.getY()-a),n=new ft(n.getX()+a,n.getY()-a),i=new ft(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),l=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)s+=i,l+=a,this.image.get(ee.round(s),ee.round(l))!==u&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new ft(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,u=new M(s+i*a,l+i*o),d=new M(s-i*a,l-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new M(s+i*a,l+i*o),h=new M(s-i*a,l-i*o),p=[u,f,d,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=ee.round(e.getX()),n=ee.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return ee.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return ee.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(X.truncDivision(this.nbLayers-4,8)+1)+15},t}(),_u=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new uy(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new Af().decode(s)}catch(f){n=f}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new Af().decode(s)}catch(f){throw n??f}var l=new tt(o.getText(),o.getRawBytes(),o.getNumBits(),a,B.AZTEC,de.currentTimeMillis()),u=o.getByteSegments();u!=null&&l.putMetadata(Ge.BYTE_SEGMENTS,u);var d=o.getECLevel();return d!=null&&l.putMetadata(Ge.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(ge.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),cy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){cy(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new _u,r)||this}return e})(yi);var Re=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(ge.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(Ge.ORIENTATION)===!0&&(s=s+o.get(Ge.ORIENTATION)%360),a.putMetadata(Ge.ORIENTATION,s);var l=a.getResultPoints();if(l!==null)for(var u=i.getHeight(),d=0;d<l.length;d++)l[d]=new M(u-l[d].getY()-1,l[d].getX());return a}else throw new I}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new Fe(n),o=r&&r.get(ge.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),l;o?l=i:l=15;for(var u=Math.trunc(i/2),d=0;d<l;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=u+s*(h?f:-f);if(p<0||p>=i)break;try{a=e.getBlackRow(p,a)}catch{continue}for(var v=function(x){if(x===1&&(a.reverse(),r&&r.get(ge.NEED_RESULT_POINT_CALLBACK)===!0)){var y=new Map;r.forEach(function(C,S){return y.set(S,C)}),y.delete(ge.NEED_RESULT_POINT_CALLBACK),r=y}try{var _=g.decodeRow(p,a,r);if(x===1){_.putMetadata(Ge.ORIENTATION,180);var w=_.getResultPoints();w!==null&&(w[0]=new M(n-w[0].getX()-1,w[0].getY()),w[1]=new M(n-w[1].getX()-1,w[1].getY()))}return{value:_}}catch{}},g=this,E=0;E<2;E++){var m=v(E);if(typeof m=="object")return m.value}}throw new I},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new I;for(var s=!e.get(r),l=0,u=r;u<o;){if(e.get(u)!==s)n[l]++;else{if(++l===i)break;n[l]=1,s=!s}u++}if(!(l===i||l===i-1&&u===o))throw new I},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new I;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var l=a/o;n*=l;for(var u=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/a},t}(),dy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sf=function(t){dy(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,l=!1,u=6,d=i;d<n;d++)if(r.get(d)!==l)o[a]++;else{if(a===u-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var v=Re.patternMatchVariance(o,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);v<f&&(f=v,h=p)}if(h>=0&&r.isRange(Math.max(0,s-(d-s)/2),s,!1))return Int32Array.from([s,d,h]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,l=!l}throw new I},e.decodeCode=function(r,n,i){Re.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],u=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<a&&(a=u,o=s)}if(o>=0)return o;throw new I},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(ge.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],l=0,u=new Uint8Array(20);u[l++]=s;var d;switch(s){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new j}for(var f=!1,h=!1,p="",v=o[0],g=o[1],E=Int32Array.from([0,0,0,0,0,0]),m=0,x=0,y=s,_=0,w=!0,C=!1,S=!1;!f;){var N=h;switch(h=!1,m=x,x=e.decodeCode(n,E,g),u[l++]=x,x!==e.CODE_STOP&&(w=!0),x!==e.CODE_STOP&&(_++,y+=_*x),v=g,g+=E.reduce(function(Qr,P){return Qr+P},0),x){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new j}switch(d){case e.CODE_CODE_A:if(x<64)S===C?p+=String.fromCharCode(32+x):p+=String.fromCharCode(32+x+128),S=!1;else if(x<96)S===C?p+=String.fromCharCode(x-64):p+=String.fromCharCode(x+64),S=!1;else switch(x!==e.CODE_STOP&&(w=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!C&&S?(C=!0,S=!1):C&&S?(C=!1,S=!1):S=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(x<96)S===C?p+=String.fromCharCode(32+x):p+=String.fromCharCode(32+x+128),S=!1;else switch(x!==e.CODE_STOP&&(w=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!C&&S?(C=!0,S=!1):C&&S?(C=!1,S=!1):S=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(x<100)x<10&&(p+="0"),p+=x;else switch(x!==e.CODE_STOP&&(w=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}N&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var R=g-v;if(g=n.getNextUnset(g),!n.isRange(g,Math.min(n.getSize(),g+(g-v)/2),!1))throw new I;if(y-=_*m,y%103!==m)throw new Be;var O=p.length;if(O===0)throw new I;O>0&&w&&(d===e.CODE_CODE_C?p=p.substring(0,O-2):p=p.substring(0,O-1));for(var Y=(o[1]+o[0])/2,H=v+R/2,ie=u.length,rt=new Uint8Array(ie),Yt=0;Yt<ie;Yt++)rt[Yt]=u[Yt];var Zr=[new M(Y,r),new M(H,r)];return new tt(p,rt,0,Zr,B.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Re),fy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),al=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bf=function(t){fy(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),h=n.getSize(),p,v;do{e.recordPattern(n,f,u);var g=e.toNarrowWidePattern(u);if(g<0)throw new I;p=e.patternToChar(g),this.decodeRowResult+=p,v=f;try{for(var E=(a=void 0,al(u)),m=E.next();!m.done;m=E.next()){var x=m.value;f+=x}}catch(ie){a={error:ie}}finally{try{m&&!m.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var _=al(u),w=_.next();!w.done;w=_.next()){var x=w.value;y+=x}}catch(ie){s={error:ie}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}var C=f-v-y;if(f!==h&&C*2<y)throw new I;if(this.usingCheckDigit){for(var S=this.decodeRowResult.length-1,N=0,R=0;R<S;R++)N+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(R));if(this.decodeRowResult.charAt(S)!==e.ALPHABET_STRING.charAt(N%43))throw new Be;this.decodeRowResult=this.decodeRowResult.substring(0,S)}if(this.decodeRowResult.length===0)throw new I;var O;this.extendedMode?O=e.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;var Y=(d[1]+d[0])/2,H=v+y/2;return new tt(O,null,0,[new M(Y,r),new M(H,r)],B.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,l=!1,u=n.length,d=a;d<i;d++)if(r.get(d)!==l)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((d-s)/2)),s,!1))return[s,d];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new I},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var l=2147483647;try{for(var u=(n=void 0,al(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<l&&f>o&&(l=f)}}catch(g){n={error:g}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}o=l,s=0;for(var h=0,p=0,v=0;v<a;v++){var f=r[v];f>o&&(p|=1<<a-1-v,s++,h+=f)}if(s===3){for(var v=0;v<a&&s>0;v++){var f=r[v];if(f>o&&(s--,f*2>=h))return-1}return p}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new I},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new j;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new j;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new j;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new j;break}i+=l,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Re),hy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ol=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nf=function(t){hy(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,v;do{e.recordPattern(n,d,h);var g=this.toPattern(h);if(g<0)throw new I;p=this.patternToChar(g),this.decodeRowResult+=p,v=d;try{for(var E=(a=void 0,ol(h)),m=E.next();!m.done;m=E.next()){var x=m.value;d+=x}}catch(R){a={error:R}}finally{try{m&&!m.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var _=ol(h),w=_.next();!w.done;w=_.next()){var x=w.value;y+=x}}catch(R){s={error:R}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}if(d===f||!n.get(d))throw new I;if(this.decodeRowResult.length<2)throw new I;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var C=this.decodeExtended(this.decodeRowResult),S=(u[1]+u[0])/2,N=v+y/2;return new tt(C,null,0,[new M(S,r),new M(N,r)],B.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,l=a.length,u=0,d=i;d<n;d++)if(r.get(d)!==s)a[u]++;else{if(u===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,s=!s}throw new I},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=ol(r),s=o.next();!s.done;s=o.next()){var l=s.value;a+=l}}catch(v){n={error:v}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/a);if(h<1||h>4)return-1;if(f&1)u<<=h;else for(var p=0;p<h;p++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new I},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new j;var s=r.charAt(a+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new j;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new j;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new j;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new j;break}i+=l,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(s)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new Be},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Re),py=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},If=function(t){py(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),l=this.decodeEnd(n),u=new G;e.decodeMiddle(n,s[1],l[0],u);var d=u.toString(),f=null;i!=null&&(f=i.get(ge.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,v=0;try{for(var g=vy(f),E=g.next();!E.done;E=g.next()){var m=E.value;if(h===m){p=!0;break}m>v&&(v=m)}}catch(_){a={error:_}}finally{try{E&&!E.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}if(!p&&h>v&&(p=!0),!p)throw new j;var x=[new M(s[1],r),new M(l[0],r)],y=new tt(d,null,0,x,B.ITF,new Date().getTime());return y},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);n<i;){Re.recordPattern(r,n,o);for(var u=0;u<5;u++){var d=2*u;s[u]=o[d],l[u]=o[d+1]}var f=e.decodeDigit(s);a.append(f.toString()),f=this.decodeDigit(l),a.append(f.toString()),o.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new I},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new I;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof I&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),l=!1,u=0,d=n;o.fill(0);for(var f=n;f<s;f++)if(r.get(f)!==l)o[u]++;else{if(u===a-1){if(Re.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=o[0]+o[1],de.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,l=!l}throw new I},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],l=Re.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=o):l===n&&(i=-1)}if(i>=0)return i%10;throw new I},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Re),xy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),di=function(t){xy(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var l=s-(a-s);l>=0&&(n=r.isRange(l,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new j;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new j;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,u=n,d=a.length,f=i,h=n;h<s;h++)if(r.get(h)!==f)o[l]++;else{if(l===d-1){if(Re.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=o[0]+o[1];for(var p=o.slice(2,o.length),v=0;v<l-1;v++)o[v]=p[v];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,f=!f}throw new I},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=a.length,u=0;u<l;u++){var d=a[u],f=Re.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=u)}if(s>=0)return s;throw new I},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Re),gy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},my=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new M((n[0]+n[1])/2,e),new M(a,e)],u=new tt(o,null,0,l,B.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],u=0,d=0;d<5&&l<s;d++){var f=di.decodeDigit(e,o,l,di.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,gy(o)),p=h.next();!p.done;p=h.next()){var v=p.value;l+=v}}catch(E){i={error:E}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(u|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new I;var g=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==g)throw new I;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new I},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Ge.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t}(),yy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wy=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new M((n[0]+n[1])/2,e),new M(a,e)],u=new tt(o,null,0,l,B.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],u=0,d=0;d<2&&l<s;d++){var f=di.decodeDigit(e,o,l,di.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,yy(o)),p=h.next();!p.done;p=h.next()){var v=p.value;l+=v}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(u|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new I;if(parseInt(n.toString())%4!==u)throw new I;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Ge.ISSUE_NUMBER,parseInt(e)]])},t}(),_y=function(){function t(){}return t.decodeRow=function(e,r,n){var i=di.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new my;return a.decodeRow(e,r,i)}catch{var o=new wy;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),Ey=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ie=function(t){Ey(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(ge.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new M((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),u=l.rowOffset,d=l.resultString;if(o!=null){var f=new M(u,r);o.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,u);if(o!=null){var p=new M((h[0]+h[1])/2,r);o.foundPossibleResultPoint(p)}var v=h[1],g=v+(v-h[0]);if(g>=n.getSize()||!n.isRange(v,g,!1))throw new I;var E=d.toString();if(E.length<8)throw new j;if(!e.checkChecksum(E))throw new Be;var m=(a[1]+a[0])/2,x=(h[1]+h[0])/2,y=this.getBarcodeFormat(),_=[new M(m,r),new M(x,r)],w=new tt(E,null,0,_,y,new Date().getTime()),C=0;try{var S=_y.decodeRow(r,n,h[1]);w.putMetadata(Ge.UPC_EAN_EXTENSION,S.getText()),w.putAllMetadata(S.getResultMetadata()),w.addResultPoints(S.getResultPoints()),C=S.getText().length}catch{}var N=i==null?null:i.get(ge.ALLOWED_EAN_EXTENSIONS);if(N!=null){var R=!1;for(var O in N)if(C.toString()===O){R=!0;break}if(!R)throw new I}return y===B.EAN_13||B.UPC_A,w},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new j;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new j;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(di),Ay=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eu=function(t){Ay(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var v=Ie.decodeDigit(r,u,f,Ie.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);try{for(var g=(a=void 0,Tf(u)),E=g.next();!E.done;E=g.next()){var m=E.value;f+=m}}catch(w){a={error:w}}finally{try{E&&!E.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}v>=10&&(h|=1<<5-p)}i=e.determineFirstDigit(i,h);var x=Ie.findGuardPattern(r,f,!0,Ie.MIDDLE_PATTERN,new Int32Array(Ie.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var p=0;p<6&&f<d;p++){var v=Ie.decodeDigit(r,u,f,Ie.L_PATTERNS);i+=String.fromCharCode(48+v);try{for(var y=(s=void 0,Tf(u)),_=y.next();!_.done;_=y.next()){var m=_.value;f+=m}}catch(S){s={error:S}}finally{try{_&&!_.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return B.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new I},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Ie),Cy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Of=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jf=function(t){Cy(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=Ie.decodeDigit(r,u,f,Ie.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var v=(a=void 0,Of(u)),g=v.next();!g.done;g=v.next()){var E=g.value;f+=E}}catch(_){a={error:_}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}}var m=Ie.findGuardPattern(r,f,!0,Ie.MIDDLE_PATTERN,new Int32Array(Ie.MIDDLE_PATTERN.length).fill(0));f=m[1];for(var h=0;h<4&&f<d;h++){var p=Ie.decodeDigit(r,u,f,Ie.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var x=(s=void 0,Of(u)),y=x.next();!y.done;y=x.next()){var E=y.value;f+=E}}catch(C){s={error:C}}finally{try{y&&!y.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return B.EAN_8},e}(Ie),Sy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rf=function(t){Sy(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Eu,r}return e.prototype.getBarcodeFormat=function(){return B.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new tt(n.substring(1),null,null,r.getResultPoints(),B.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new I},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Ie),by=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ny=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kf=function(t){by(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(E){return E});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=r.getSize(),u=n[1],d=0,f=0;f<6&&u<l;f++){var h=e.decodeDigit(r,s,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+h%10);try{for(var p=(a=void 0,Ny(s)),v=p.next();!v.done;v=p.next()){var g=v.value;u+=g}}catch(E){a={error:E}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}h>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new G(i),d),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Ie.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw I.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return B.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new G;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Ie),Iy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sl=function(t){Iy(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(ge.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(B.EAN_13)>-1&&a.push(new Eu),i.indexOf(B.UPC_A)>-1&&a.push(new Rf),i.indexOf(B.EAN_8)>-1&&a.push(new jf),i.indexOf(B.UPC_E)>-1&&a.push(new kf)),a.length===0&&(a.push(new Eu),a.push(new Rf),a.push(new jf),a.push(new kf)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=Pf(this.readers),l=s.next();!l.done;l=s.next()){var u=l.value;try{var d=u.decodeRow(r,n,i),f=d.getBarcodeFormat()===B.EAN_13&&d.getText().charAt(0)==="0",h=i==null?null:i.get(ge.POSSIBLE_FORMATS),p=h==null||h.includes(B.UPC_A);if(f&&p){var v=d.getRawBytes(),g=new tt(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),B.UPC_A);return g.putAllMetadata(d.getResultMetadata()),g}return d}catch{}}}catch(E){a={error:E}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new I},e.prototype.reset=function(){var r,n;try{for(var i=Pf(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(Re),Ty=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oy=function(t){Ty(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new I;var o=this.codaBarDecodeRow(a.row);if(!o)throw new I;return new tt(o,null,0,[new M(a.left,r),new M(a.right,r)],B.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],l=1,u=1;u<n.length;u++)n[u]===s?l++:(s=n[u],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,u){return(l+u)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Re),jy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ry=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},un=function(t){jy(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Re.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new I},e.count=function(r){return ee.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=Ry(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>u&&(u=h),h<l&&(l=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return u<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Re),qo=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),q1=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new M(n,a)),this.resultPoints.push(new M(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),ky=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kn=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=ky(e),l=s.next();!l.done;l=s.next()){var u=l.value;o+=u}}catch(x){i={error:x}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var d=0,f=0,h=e.length,p=0;p<h-1;p++){var v=void 0;for(v=1,f|=1<<p;v<e[p];v++,f&=~(1<<p)){var g=t.combins(o-v-1,h-p-2);if(n&&f===0&&o-v-(h-p-1)>=h-p-1&&(g-=t.combins(o-v-(h-p),h-p-2)),h-p-1>1){for(var E=0,m=o-v-(h-p-2);m>r;m--)E+=t.combins(o-v-m-1,h-p-3);g-=E*(h-1-p)}else o-v>r&&g--;d+=g}o-=v}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t}(),Py=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new Fe(n),a=0,o=e[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)s&1<<l&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var u=e[l],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(a),a++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&i.set(a),a++}return i},t}(),nn=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),Mc=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),Dy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bt=function(t){Dy(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(Mc),My=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),an=function(t){My(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Mc),Ly=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pn=function(t){Ly(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new j;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Mc),to=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},By=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,l,u;if(!e)return null;if(e.length<2)throw new I;var d=e.substring(0,2);try{for(var f=to(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(C){r={error:C}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new I;var v=e.substring(0,3);try{for(var g=to(t.THREE_DIGIT_DATA_LENGTH),E=g.next();!E.done;E=g.next()){var p=E.value;if(p[0]===v)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(C){i={error:C}}finally{try{E&&!E.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}try{for(var m=to(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),x=m.next();!x.done;x=m.next()){var p=x.value;if(p[0]===v)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(C){o={error:C}}finally{try{x&&!x.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}if(e.length<4)throw new I;var y=e.substring(0,4);try{for(var _=to(t.FOUR_DIGIT_DATA_LENGTH),w=_.next();!w.done;w=_.next()){var p=w.value;if(p[0]===y)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(C){l={error:C}}finally{try{w&&!w.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}throw new I},t.processFixedAI=function(e,r,n){if(n.length<e)throw new I;var i=n.substring(0,e);if(n.length<e+r)throw new I;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),l="("+i+")"+o,u=t.parseFieldsInGeneralPurpose(s);return u==null?l:l+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),yo=function(){function t(e){this.buffer=new G,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=By.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Pn(this.information.getSize(),Pn.FNC1,Pn.FNC1):new Pn(this.information.getSize(),r-1,Pn.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Pn(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new an(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new an(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new an(this.current.getPosition(),this.buffer.toString()):r=new an(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new nn(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new an(this.current.getPosition(),this.buffer.toString());return new nn(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new nn(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new an(this.current.getPosition(),this.buffer.toString());return new nn(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new nn(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new an(this.current.getPosition(),this.buffer.toString());return new nn(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new nn(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Bt(e+5,Bt.FNC1);if(r>=5&&r<15)return new Bt(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Bt(e+7,""+(n+1));if(n>=90&&n<116)return new Bt(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new j}return new Bt(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Bt(e+5,Bt.FNC1);if(r>=5&&r<15)return new Bt(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Bt(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Ta("Decoding invalid alphanumeric value: "+n)}return new Bt(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),K1=function(){function t(e){this.information=e,this.generalDecoder=new yo(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),Fy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gt=function(t){Fy(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(K1),Uy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$y=function(t){Uy(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new G;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Gt),zy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vy=function(t){zy(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new G;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(K1),Hy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wo=function(t){Hy(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,l=0;l<5;++l)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(Gt),Gy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y1=function(t){Gy(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+wo.GTIN_SIZE+e.WEIGHT_SIZE)throw new I;var r=new G;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+wo.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(wo),Wy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xy=function(t){Wy(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(Y1),qy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ky=function(t){qy(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(Y1),Yy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zy=function(t){Yy(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Gt.GTIN_SIZE)throw new I;var r=new G;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Gt.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Gt.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Gt),Qy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jy=function(t){Qy(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Gt.GTIN_SIZE)throw new I;var r=new G;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Gt.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Gt.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Gt.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Gt),ew=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Er=function(t){ew(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new I;var r=new G;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(wo);function tw(t){try{if(t.get(1))return new $y(t);if(!t.get(2))return new Vy(t);var e=yo.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new Xy(t);case 5:return new Ky(t)}var r=yo.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new Zy(t);case 13:return new Jy(t)}var n=yo.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Er(t,"310","11");case 57:return new Er(t,"320","11");case 58:return new Er(t,"310","13");case 59:return new Er(t,"320","13");case 60:return new Er(t,"310","15");case 61:return new Er(t,"320","15");case 62:return new Er(t,"310","17");case 63:return new Er(t,"320","17")}}catch(i){throw console.log(i),new Ta("unknown decoder: "+t)}}var Df=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),rw=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),nw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ar=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iw=function(t){nw(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof I){if(!this.pairs.length)throw new I;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new I},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(i=void 0,Ar(r)),u=l.next();!u.done;u=l.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(h){i={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(s);try{return this.checkRows(f,o+1)}catch(h){console.log(h)}}}throw new I},e.isValidSequence=function(r){var n,i;try{for(var a=Ar(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var l=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==s[u]){l=!1;break}if(l)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new rw(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,l,u;try{for(var d=Ar(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var v=(o=void 0,Ar(h.getPairs())),g=v.next();!g.done;g=v.next()){var E=g.value,m=!1;try{for(var x=(l=void 0,Ar(r)),y=x.next();!y.done;y=x.next()){var _=y.value;if(Df.equals(E,_)){m=!0;break}}}catch(w){l={error:w}}finally{try{y&&!y.done&&(u=x.return)&&u.call(x)}finally{if(l)throw l.error}}m||(p=!1)}}catch(w){o={error:w}}finally{try{g&&!g.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}}}}catch(w){i={error:w}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,l,u;try{for(var d=Ar(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var v=(o=void 0,Ar(r)),g=v.next();!g.done;g=v.next()){var E=g.value,m=!1;try{for(var x=(l=void 0,Ar(h.getPairs())),y=x.next();!y.done;y=x.next()){var _=y.value;if(E.equals(_)){m=!0;break}}}catch(w){l={error:w}}finally{try{y&&!y.done&&(u=x.return)&&u.call(x)}finally{if(l)throw l.error}}if(!m){p=!1;break}}}catch(w){o={error:w}}finally{try{g&&!g.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}if(p)return!0}}catch(w){i={error:w}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=Py.buildBitArray(r),i=tw(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new tt(a,null,null,l,B.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);a+=l.getLeftChar().getChecksumPortion(),o++;var u=l.getRightChar();u!=null&&(a+=u.getChecksumPortion(),o++)}a%=211;var d=211*(o-4)+a;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,l=-1;do this.findNextPair(r,n,l),o=this.parseFoundFinderPattern(r,i,a),o===null?l=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var u=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new I;var d;try{d=this.decodeDataCharacter(r,o,a,!1)}catch(f){d=null,console.log(f)}return new Df(u,d,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;s<o&&(d=!r.get(s),!!d);)s++;for(var f=0,h=s,p=s;p<o;p++)if(r.get(p)!==d)a[f]++;else{if(f===3){if(u&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=p;return}u&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,d=!d}throw new I},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,a=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var u=this.getDecodeFinderCounters();de.arraycopy(u,0,u,1,u.length-1),u[0]=a;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new q1(d,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var l=0,u=o.length-1;l<u;l++,u--){var d=o[l];o[l]=o[u],o[u]=d}}var f=17,h=ee.sum(new Int32Array(o))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new I;for(var v=this.getOddCounts(),g=this.getEvenCounts(),E=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var x=1*o[l]/h,y=x+.5;if(y<1){if(x<.3)throw new I;y=1}else if(y>8){if(x>8.7)throw new I;y=8}var _=l/2;l&1?(g[_]=y,m[_]=x-y):(v[_]=y,E[_]=x-y)}this.adjustOddEvenCounts(f);for(var w=4*n.getValue()+(i?0:2)+(a?0:1)-1,C=0,S=0,l=v.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var N=e.WEIGHTS[w][2*l];S+=v[l]*N}C+=v[l]}for(var R=0,l=g.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var N=e.WEIGHTS[w][2*l+1];R+=g[l]*N}var O=S+R;if(C&1||C>13||C<4)throw new I;var Y=(13-C)/2,H=e.SYMBOL_WIDEST[Y],ie=9-H,rt=Kn.getRSSvalue(v,H,!0),Yt=Kn.getRSSvalue(g,ie,!1),Zr=e.EVEN_TOTAL_SUBSET[Y],Qr=e.GSUM[Y],P=rt*Zr+Yt+Qr;return new qo(P,O)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=ee.sum(new Int32Array(this.getOddCounts())),i=ee.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);var u=n+i-r,d=(n&1)===1,f=(i&1)===0;if(u===1)if(d){if(f)throw new I;o=!0}else{if(!f)throw new I;l=!0}else if(u===-1)if(d){if(f)throw new I;a=!0}else{if(!f)throw new I;s=!0}else if(u===0){if(d){if(!f)throw new I;n<i?(a=!0,l=!0):(o=!0,s=!0)}else if(f)throw new I}else throw new I;if(a){if(o)throw new I;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new I;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(un),aw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ow=function(t){aw(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(qo),sw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ll=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mf=function(t){sw(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,u=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=ll(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var v=(s=void 0,ll(this.possibleRightPairs)),g=v.next();!g.done;g=v.next()){var E=g.value;if(E.getCount()>1&&e.checkChecksum(p,E))return e.constructResult(p,E)}}catch(m){s={error:m}}finally{try{g&&!g.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}}}catch(m){a={error:m}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}throw new I},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=ll(r),l=s.next();!l.done;l=s.next()){var u=l.value;if(u.getValue()===n.getValue()){u.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new G,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var l=0,s=0;s<13;s++){var u=o.charAt(s).charCodeAt(0)-48;l+=s&1?u:3*u}l=10-l%10,l===10&&(l=0),o.append(l.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new tt(o.toString(),null,0,[d[0],d[1],f[0],f[1]],B.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),l=a==null?null:a.get(ge.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=(o[0]+o[1])/2;n&&(u=r.getSize()-1-u),l.foundPossibleResultPoint(new M(u,i))}var d=this.decodeDataCharacter(r,s,!0),f=this.decodeDataCharacter(r,s,!1);return new ow(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Re.recordPatternInReverse(r,n.getStartEnd()[0],a);else{Re.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,l=a.length-1;s<l;s++,l--){var u=a[s];a[s]=a[l],a[l]=u}}for(var d=i?16:15,f=ee.sum(new Int32Array(a))/d,h=this.getOddCounts(),p=this.getEvenCounts(),v=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var E=a[s]/f,m=Math.floor(E+.5);m<1?m=1:m>8&&(m=8);var x=Math.floor(s/2);s&1?(p[x]=m,g[x]=E-m):(h[x]=m,v[x]=E-m)}this.adjustOddEvenCounts(i,d);for(var y=0,_=0,s=h.length-1;s>=0;s--)_*=9,_+=h[s],y+=h[s];for(var w=0,C=0,s=p.length-1;s>=0;s--)w*=9,w+=p[s],C+=p[s];var S=_+3*w;if(i){if(y&1||y>12||y<4)throw new I;var N=(12-y)/2,R=e.OUTSIDE_ODD_WIDEST[N],O=9-R,Y=Kn.getRSSvalue(h,R,!1),H=Kn.getRSSvalue(p,O,!0),ie=e.OUTSIDE_EVEN_TOTAL_SUBSET[N],rt=e.OUTSIDE_GSUM[N];return new qo(Y*ie+H+rt,S)}else{if(C&1||C>10||C<4)throw new I;var N=(10-C)/2,R=e.INSIDE_ODD_WIDEST[N],O=9-R,Y=Kn.getRSSvalue(h,R,!0),H=Kn.getRSSvalue(p,O,!1),Yt=e.INSIDE_ODD_TOTAL_SUBSET[N],rt=e.INSIDE_GSUM[N];return new qo(H*Yt+Y+rt,S)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var l=0,u=s,d=s;d<a;d++)if(r.get(d)!==o)i[l]++;else{if(l===3){if(un.isFinderPattern(i))return[u,d];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,o=!o}throw new I},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var l=a[0]-s,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);de.arraycopy(u,0,d,1,u.length-1),d[0]=l;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),h=s,p=a[1];return i&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new q1(f,[s,a[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=ee.sum(new Int32Array(this.getOddCounts())),a=ee.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,u=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?u=!0:a<4&&(l=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?u=!0:a<4&&(l=!0));var d=i+a-n,f=(i&1)===(r?1:0),h=(a&1)===1;if(d===1)if(f){if(h)throw new I;s=!0}else{if(!h)throw new I;u=!0}else if(d===-1)if(f){if(h)throw new I;o=!0}else{if(!h)throw new I;l=!0}else if(d===0){if(f){if(!h)throw new I;i<a?(o=!0,u=!0):(s=!0,l=!0)}else if(h)throw new I}else throw new I;if(o){if(s)throw new I;un.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&un.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new I;un.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&un.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(un),lw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ui=function(t){lw(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(ge.POSSIBLE_FORMATS):null,a=r&&r.get(ge.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(ge.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(B.EAN_13)||i.includes(B.UPC_A)||i.includes(B.EAN_8)||i.includes(B.UPC_E))&&n.readers.push(new sl(r)),i.includes(B.CODE_39)&&n.readers.push(new bf(a,o)),i.includes(B.CODE_93)&&n.readers.push(new Nf),i.includes(B.CODE_128)&&n.readers.push(new Sf),i.includes(B.ITF)&&n.readers.push(new If),i.includes(B.CODABAR)&&n.readers.push(new Oy),i.includes(B.RSS_14)&&n.readers.push(new Mf),i.includes(B.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new iw))),n.readers.length===0&&(n.readers.push(new sl(r)),n.readers.push(new bf),n.readers.push(new Nf),n.readers.push(new sl(r)),n.readers.push(new Sf),n.readers.push(new If),n.readers.push(new Mf)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new I},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Re),uw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){uw(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Ui(n),r,n)||this}return e})(yi);var Lf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ne=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),te=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),cw=function(){function t(e,r,n,i,a,o){var s,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var u=0,d=o.getECCodewords(),f=o.getECBlocks();try{for(var h=Lf(f),p=h.next();!p.done;p=h.next()){var v=p.value;u+=v.getCount()*(v.getDataCodewords()+d)}}catch(g){s={error:g}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new j;try{for(var a=Lf(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new j},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new ne(5,new te(1,3))),new t(2,12,12,10,10,new ne(7,new te(1,5))),new t(3,14,14,12,12,new ne(10,new te(1,8))),new t(4,16,16,14,14,new ne(12,new te(1,12))),new t(5,18,18,16,16,new ne(14,new te(1,18))),new t(6,20,20,18,18,new ne(18,new te(1,22))),new t(7,22,22,20,20,new ne(20,new te(1,30))),new t(8,24,24,22,22,new ne(24,new te(1,36))),new t(9,26,26,24,24,new ne(28,new te(1,44))),new t(10,32,32,14,14,new ne(36,new te(1,62))),new t(11,36,36,16,16,new ne(42,new te(1,86))),new t(12,40,40,18,18,new ne(48,new te(1,114))),new t(13,44,44,20,20,new ne(56,new te(1,144))),new t(14,48,48,22,22,new ne(68,new te(1,174))),new t(15,52,52,24,24,new ne(42,new te(2,102))),new t(16,64,64,14,14,new ne(56,new te(2,140))),new t(17,72,72,16,16,new ne(36,new te(4,92))),new t(18,80,80,18,18,new ne(48,new te(4,114))),new t(19,88,88,20,20,new ne(56,new te(4,144))),new t(20,96,96,22,22,new ne(68,new te(4,174))),new t(21,104,104,24,24,new ne(56,new te(6,136))),new t(22,120,120,18,18,new ne(68,new te(6,175))),new t(23,132,132,20,20,new ne(62,new te(8,163))),new t(24,144,144,22,22,new ne(62,new te(8,156),new te(2,155))),new t(25,8,18,6,16,new ne(7,new te(1,5))),new t(26,8,32,6,14,new ne(11,new te(1,10))),new t(27,12,26,10,24,new ne(14,new te(1,16))),new t(28,12,36,10,16,new ne(18,new te(1,22))),new t(29,16,36,14,16,new ne(24,new te(1,32))),new t(30,16,48,14,22,new ne(28,new te(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),dw=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new j;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ir(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return cw.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,u=!1,d=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!l)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&!(o&7)&&!u)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,u=!0;else if(n===a-2&&i===0&&(o&7)===4&&!d)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,d=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new j;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new F("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,l=o*i,u=s*a,d=new ir(u,l),f=0;f<o;++f)for(var h=f*i,p=0;p<s;++p)for(var v=p*a,g=0;g<i;++g)for(var E=f*(i+2)+1+g,m=h+g,x=0;x<a;++x){var y=p*(a+2)+1+x;if(e.get(y,E)){var _=v+x;d.set(_,m)}}return d},t}(),Bf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fw=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),l=0,u=s.getECBlocks();try{for(var d=Bf(u),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()}}catch(rt){n={error:rt}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var p=new Array(l),v=0;try{for(var g=Bf(u),E=g.next();!E.done;E=g.next())for(var h=E.value,m=0;m<h.getCount();m++){var x=h.getDataCodewords(),y=s.getECCodewords()+x;p[v++]=new t(x,new Uint8Array(y))}}catch(rt){a={error:rt}}finally{try{E&&!E.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}for(var _=p[0].codewords.length,w=_-s.getECCodewords(),C=w-1,S=0,m=0;m<C;m++)for(var N=0;N<v;N++)p[N].codewords[m]=e[S++];for(var R=r.getVersionNumber()===24,O=R?8:v,N=0;N<O;N++)p[N].codewords[w-1]=e[S++];for(var Y=p[0].codewords.length,m=w;m<Y;m++)for(var N=0;N<v;N++){var H=R?(N+8)%v:N,ie=R&&H>7?m-1:m;p[H].codewords[ie]=e[S++]}if(S!==e.length)throw new F;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Z1=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new F(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,l=o-s,u=255>>8-s<<l;r=(a[i]&u)>>l,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,u=255>>l<<l;r=r<<e|(a[i]&u)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Se;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Se||(Se={}));var hw=function(){function t(){}return t.decode=function(e){var r=new Z1(e),n=new G,i=new G,a=new Array,o=Se.ASCII_ENCODE;do if(o===Se.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case Se.C40_ENCODE:this.decodeC40Segment(r,n);break;case Se.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Se.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Se.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Se.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new j}o=Se.ASCII_ENCODE}while(o!==Se.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new As(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new j;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),Se.ASCII_ENCODE;if(a===129)return Se.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return Se.C40_ENCODE;case 231:return Se.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Se.ANSIX12_ENCODE;case 239:return Se.TEXT_ENCODE;case 240:return Se.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new j;break}}while(e.available()>0);return Se.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new j;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new j}a=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),a=0;break;default:throw new j}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new j;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new j}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),a=0}else throw new j;break;default:throw new j}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new j;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new j;for(var s=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new j;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(kt.decode(s,Z.ISO88591))}catch(u){throw new Ta("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),pw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vw=function(){function t(){this.rsDecoder=new Cs(vt.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new dw(e),a=i.getVersion(),o=i.readCodewords(),s=fw.getDataBlocks(o,a),l=0;try{for(var u=pw(s),d=u.next();!d.done;d=u.next()){var f=d.value;l+=f.getNumDataCodewords()}}catch(y){r={error:y}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(l),p=s.length,v=0;v<p;v++){var g=s[v],E=g.getCodewords(),m=g.getNumDataCodewords();this.correctErrors(E,m);for(var x=0;x<m;x++)h[x*p+v]=E[x]}return hw.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Be}for(var i=0;i<r;i++)e[i]=n[i]},t}(),xw=function(){function t(e){this.image=e,this.rectangleDetector=new wu(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new I;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var u=t.sampleGrid(this.image,n,i,a,o,s,l);return new Pc(u,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new M(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new M(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),u=this.transitionsBetween(a,r),d=o,f=[a,r,n,i];return d>s&&(d=s,f[0]=r,f[1]=n,f[2]=i,f[3]=a),d>l&&(d=l,f[0]=n,f[1]=i,f[2]=a,f[3]=r),d>u&&(f[0]=i,f[1]=a,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),l=t.shiftPoint(i,n,(o+1)*4),u=this.transitionsBetween(s,r),d=this.transitionsBetween(l,a);return u<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),l=t.shiftPoint(r,n,(s+1)*4),u=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(l,a),s=this.transitionsBetween(u,a);var d=new M(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),f=new M(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(l,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(l,f)+this.transitionsBetween(u,f);return h>p?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,l=t.shiftPoint(r,n,s*4),u=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(l,a)+1,s=this.transitionsBetween(u,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var d=(r.getX()+n.getX()+i.getX()+a.getX())/4,f=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),i=t.moveAway(i,d,f),a=t.moveAway(a,d,f);var h,p;return l=t.shiftPoint(r,n,s*4),l=t.shiftPoint(l,a,o*4),h=t.shiftPoint(n,r,s*4),h=t.shiftPoint(h,i,o*4),u=t.shiftPoint(i,a,s*4),u=t.shiftPoint(u,n,o*4),p=t.shiftPoint(a,i,s*4),p=t.shiftPoint(p,r,o*4),[l,h,u,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var l=Dc.getInstance();return l.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var l=n;n=i,i=l,l=a,a=o,o=l}for(var u=Math.abs(a-n),d=Math.abs(o-i),f=-u/2,h=i<o?1:-1,p=n<a?1:-1,v=0,g=this.image.get(s?i:n,s?n:i),E=n,m=i;E!==a;E+=p){var x=this.image.get(s?m:E,s?E:m);if(x!==g&&(v++,g=x),f+=d,f>0){if(m===o)break;m+=h,f-=u}}return v},t}(),Au=function(){function t(){this.decoder=new vw}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(ge.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new xw(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),l=new tt(n.getText(),s,8*s.length,i,B.DATA_MATRIX,de.currentTimeMillis()),u=n.getByteSegments();u!=null&&l.putMetadata(Ge.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&l.putMetadata(Ge.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new I;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0],u=(l-s+1)/i,d=(o-a+1)/i;if(u<=0||d<=0)throw new I;var f=i/2;a+=f,s+=f;for(var h=new ir(u,d),p=0;p<d;p++)for(var v=a+p*i,g=0;g<u;g++)e.get(s+g*i,v)&&h.set(g,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new I;var o=i-e[0];if(o===0)throw new I;return o},t.NO_POINTS=[],t}(),gw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){gw(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Au,r)||this}return e})(yi);var Yn;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Yn||(Yn={}));var mw=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Ut(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new F;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Yn.L,"L",1),t.M=new t(Yn.M,"M",0),t.Q=new t(Yn.Q,"Q",3),t.H=new t(Yn.H,"H",2),t}(),yw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q1=function(){function t(e){this.errorCorrectionLevel=mw.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return X.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=yw(t.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var u=l.value,d=u[0];if(d===e||d===r)return new t(u[1]);var f=t.numBitsDiffering(e,d);f<a&&(o=u[1],a=f),e!==r&&(f=t.numBitsDiffering(r,d),f<a&&(o=u[1],a=f))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),ww=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=ww(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),A=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),_w=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gn=function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,l=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();try{for(var d=_w(u),f=d.next();!f.done;f=d.next()){var h=f.value;s+=h.getCount()*(h.getDataCodewords()+l)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new j;try{return this.getVersionForNumber((e-17)/4)}catch{throw new j}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new F;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=Q1.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new ir(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new b(7,new A(1,19)),new b(10,new A(1,16)),new b(13,new A(1,13)),new b(17,new A(1,9))),new t(2,Int32Array.from([6,18]),new b(10,new A(1,34)),new b(16,new A(1,28)),new b(22,new A(1,22)),new b(28,new A(1,16))),new t(3,Int32Array.from([6,22]),new b(15,new A(1,55)),new b(26,new A(1,44)),new b(18,new A(2,17)),new b(22,new A(2,13))),new t(4,Int32Array.from([6,26]),new b(20,new A(1,80)),new b(18,new A(2,32)),new b(26,new A(2,24)),new b(16,new A(4,9))),new t(5,Int32Array.from([6,30]),new b(26,new A(1,108)),new b(24,new A(2,43)),new b(18,new A(2,15),new A(2,16)),new b(22,new A(2,11),new A(2,12))),new t(6,Int32Array.from([6,34]),new b(18,new A(2,68)),new b(16,new A(4,27)),new b(24,new A(4,19)),new b(28,new A(4,15))),new t(7,Int32Array.from([6,22,38]),new b(20,new A(2,78)),new b(18,new A(4,31)),new b(18,new A(2,14),new A(4,15)),new b(26,new A(4,13),new A(1,14))),new t(8,Int32Array.from([6,24,42]),new b(24,new A(2,97)),new b(22,new A(2,38),new A(2,39)),new b(22,new A(4,18),new A(2,19)),new b(26,new A(4,14),new A(2,15))),new t(9,Int32Array.from([6,26,46]),new b(30,new A(2,116)),new b(22,new A(3,36),new A(2,37)),new b(20,new A(4,16),new A(4,17)),new b(24,new A(4,12),new A(4,13))),new t(10,Int32Array.from([6,28,50]),new b(18,new A(2,68),new A(2,69)),new b(26,new A(4,43),new A(1,44)),new b(24,new A(6,19),new A(2,20)),new b(28,new A(6,15),new A(2,16))),new t(11,Int32Array.from([6,30,54]),new b(20,new A(4,81)),new b(30,new A(1,50),new A(4,51)),new b(28,new A(4,22),new A(4,23)),new b(24,new A(3,12),new A(8,13))),new t(12,Int32Array.from([6,32,58]),new b(24,new A(2,92),new A(2,93)),new b(22,new A(6,36),new A(2,37)),new b(26,new A(4,20),new A(6,21)),new b(28,new A(7,14),new A(4,15))),new t(13,Int32Array.from([6,34,62]),new b(26,new A(4,107)),new b(22,new A(8,37),new A(1,38)),new b(24,new A(8,20),new A(4,21)),new b(22,new A(12,11),new A(4,12))),new t(14,Int32Array.from([6,26,46,66]),new b(30,new A(3,115),new A(1,116)),new b(24,new A(4,40),new A(5,41)),new b(20,new A(11,16),new A(5,17)),new b(24,new A(11,12),new A(5,13))),new t(15,Int32Array.from([6,26,48,70]),new b(22,new A(5,87),new A(1,88)),new b(24,new A(5,41),new A(5,42)),new b(30,new A(5,24),new A(7,25)),new b(24,new A(11,12),new A(7,13))),new t(16,Int32Array.from([6,26,50,74]),new b(24,new A(5,98),new A(1,99)),new b(28,new A(7,45),new A(3,46)),new b(24,new A(15,19),new A(2,20)),new b(30,new A(3,15),new A(13,16))),new t(17,Int32Array.from([6,30,54,78]),new b(28,new A(1,107),new A(5,108)),new b(28,new A(10,46),new A(1,47)),new b(28,new A(1,22),new A(15,23)),new b(28,new A(2,14),new A(17,15))),new t(18,Int32Array.from([6,30,56,82]),new b(30,new A(5,120),new A(1,121)),new b(26,new A(9,43),new A(4,44)),new b(28,new A(17,22),new A(1,23)),new b(28,new A(2,14),new A(19,15))),new t(19,Int32Array.from([6,30,58,86]),new b(28,new A(3,113),new A(4,114)),new b(26,new A(3,44),new A(11,45)),new b(26,new A(17,21),new A(4,22)),new b(26,new A(9,13),new A(16,14))),new t(20,Int32Array.from([6,34,62,90]),new b(28,new A(3,107),new A(5,108)),new b(26,new A(3,41),new A(13,42)),new b(30,new A(15,24),new A(5,25)),new b(28,new A(15,15),new A(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new b(28,new A(4,116),new A(4,117)),new b(26,new A(17,42)),new b(28,new A(17,22),new A(6,23)),new b(30,new A(19,16),new A(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new b(28,new A(2,111),new A(7,112)),new b(28,new A(17,46)),new b(30,new A(7,24),new A(16,25)),new b(24,new A(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new b(30,new A(4,121),new A(5,122)),new b(28,new A(4,47),new A(14,48)),new b(30,new A(11,24),new A(14,25)),new b(30,new A(16,15),new A(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new b(30,new A(6,117),new A(4,118)),new b(28,new A(6,45),new A(14,46)),new b(30,new A(11,24),new A(16,25)),new b(30,new A(30,16),new A(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new b(26,new A(8,106),new A(4,107)),new b(28,new A(8,47),new A(13,48)),new b(30,new A(7,24),new A(22,25)),new b(30,new A(22,15),new A(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new b(28,new A(10,114),new A(2,115)),new b(28,new A(19,46),new A(4,47)),new b(28,new A(28,22),new A(6,23)),new b(30,new A(33,16),new A(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new b(30,new A(8,122),new A(4,123)),new b(28,new A(22,45),new A(3,46)),new b(30,new A(8,23),new A(26,24)),new b(30,new A(12,15),new A(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new b(30,new A(3,117),new A(10,118)),new b(28,new A(3,45),new A(23,46)),new b(30,new A(4,24),new A(31,25)),new b(30,new A(11,15),new A(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new b(30,new A(7,116),new A(7,117)),new b(28,new A(21,45),new A(7,46)),new b(30,new A(1,23),new A(37,24)),new b(30,new A(19,15),new A(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new b(30,new A(5,115),new A(10,116)),new b(28,new A(19,47),new A(10,48)),new b(30,new A(15,24),new A(25,25)),new b(30,new A(23,15),new A(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new b(30,new A(13,115),new A(3,116)),new b(28,new A(2,46),new A(29,47)),new b(30,new A(42,24),new A(1,25)),new b(30,new A(23,15),new A(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new b(30,new A(17,115)),new b(28,new A(10,46),new A(23,47)),new b(30,new A(10,24),new A(35,25)),new b(30,new A(19,15),new A(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new b(30,new A(17,115),new A(1,116)),new b(28,new A(14,46),new A(21,47)),new b(30,new A(29,24),new A(19,25)),new b(30,new A(11,15),new A(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new b(30,new A(13,115),new A(6,116)),new b(28,new A(14,46),new A(23,47)),new b(30,new A(44,24),new A(7,25)),new b(30,new A(59,16),new A(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new b(30,new A(12,121),new A(7,122)),new b(28,new A(12,47),new A(26,48)),new b(30,new A(39,24),new A(14,25)),new b(30,new A(22,15),new A(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new b(30,new A(6,121),new A(14,122)),new b(28,new A(6,47),new A(34,48)),new b(30,new A(46,24),new A(10,25)),new b(30,new A(2,15),new A(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new b(30,new A(17,122),new A(4,123)),new b(28,new A(29,46),new A(14,47)),new b(30,new A(49,24),new A(10,25)),new b(30,new A(24,15),new A(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new b(30,new A(4,122),new A(18,123)),new b(28,new A(13,46),new A(32,47)),new b(30,new A(48,24),new A(14,25)),new b(30,new A(42,15),new A(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new b(30,new A(20,117),new A(4,118)),new b(28,new A(40,47),new A(7,48)),new b(30,new A(43,24),new A(22,25)),new b(30,new A(10,15),new A(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new b(30,new A(19,118),new A(6,119)),new b(28,new A(18,47),new A(31,48)),new b(30,new A(34,24),new A(34,25)),new b(30,new A(20,15),new A(61,16)))],t}(),Pe;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Pe||(Pe={}));var Ff=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[Pe.DATA_MASK_000,new t(Pe.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Pe.DATA_MASK_001,new t(Pe.DATA_MASK_001,function(e,r){return(e&1)===0})],[Pe.DATA_MASK_010,new t(Pe.DATA_MASK_010,function(e,r){return r%3===0})],[Pe.DATA_MASK_011,new t(Pe.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Pe.DATA_MASK_100,new t(Pe.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Pe.DATA_MASK_101,new t(Pe.DATA_MASK_101,function(e,r){return e*r%6===0})],[Pe.DATA_MASK_110,new t(Pe.DATA_MASK_110,function(e,r){return e*r%6<3})],[Pe.DATA_MASK_111,new t(Pe.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),Ew=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new j;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=Q1.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return gn.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=gn.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=gn.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new j},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=Ff.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),l=0,u=0,d=0,f=i-1;f>0;f-=2){f===6&&f--;for(var h=0;h<i;h++)for(var p=o?i-1-h:h,v=0;v<2;v++)a.get(f-v,p)||(d++,u<<=1,this.bitMatrix.get(f-v,p)&&(u|=1),d===8&&(s[l++]=u,d=0,u=0));o=!o}if(l!==r.getTotalCodewords())throw new j;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Ff.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),Uf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Aw=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new F;var l=r.getECBlocksForLevel(n),u=0,d=l.getECBlocks();try{for(var f=Uf(d),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getCount()}}catch(ie){i={error:ie}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var v=new Array(u),g=0;try{for(var E=Uf(d),m=E.next();!m.done;m=E.next())for(var p=m.value,x=0;x<p.getCount();x++){var y=p.getDataCodewords(),_=l.getECCodewordsPerBlock()+y;v[g++]=new t(y,new Uint8Array(_))}}catch(ie){o={error:ie}}finally{try{m&&!m.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}for(var w=v[0].codewords.length,C=v.length-1;C>=0;){var S=v[C].codewords.length;if(S===w)break;C--}C++;for(var N=w-l.getECCodewordsPerBlock(),R=0,x=0;x<N;x++)for(var O=0;O<g;O++)v[O].codewords[x]=e[R++];for(var O=C;O<g;O++)v[O].codewords[N]=e[R++];for(var Y=v[0].codewords.length,x=N;x<Y;x++)for(var O=0;O<g;O++){var H=O<C?x:x+1;v[O].codewords[H]=e[R++]}return v},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Nt;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Nt||(Nt={}));var pe=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new F;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Nt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Nt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Nt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Nt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Nt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Nt.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Nt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Nt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Nt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Nt.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),Cw=function(){function t(){}return t.decode=function(e,r,n,i){var a=new Z1(e),o=new G,s=new Array,l=-1,u=-1;try{var d=null,f=!1,h=void 0;do{if(a.available()<4)h=pe.TERMINATOR;else{var p=a.readBits(4);h=pe.forBits(p)}switch(h){case pe.TERMINATOR:break;case pe.FNC1_FIRST_POSITION:case pe.FNC1_SECOND_POSITION:f=!0;break;case pe.STRUCTURED_APPEND:if(a.available()<16)throw new j;l=a.readBits(8),u=a.readBits(8);break;case pe.ECI:var v=t.parseECIValue(a);if(d=Te.getCharacterSetECIByValue(v),d===null)throw new j;break;case pe.HANZI:var g=a.readBits(4),E=a.readBits(h.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,E);break;default:var m=a.readBits(h.getCharacterCountBits(r));switch(h){case pe.NUMERIC:t.decodeNumericSegment(a,o,m);break;case pe.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,m,f);break;case pe.BYTE:t.decodeByteSegment(a,o,m,d,s,i);break;case pe.KANJI:t.decodeKanjiSegment(a,o,m);break;default:throw new j}break}}while(h!==pe.TERMINATOR)}catch{throw new j}return new As(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),l,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new j;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(kt.decode(i,Z.GB2312))}catch(l){throw new j(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new j;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(kt.decode(i,Z.SHIFT_JIS))}catch(l){throw new j(l)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new j;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var u;i===null?u=Z.guessEncoding(s,o):u=i.getName();try{r.append(kt.decode(s,u))}catch(d){throw new j(d)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new j;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new j;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new j;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new j;var i=e.readBits(10);if(i>=1e3)throw new j;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new j;var a=e.readBits(7);if(a>=100)throw new j;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new j;var o=e.readBits(4);if(o>=10)throw new j;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new j},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),J1=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),$f=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sw=function(){function t(){this.rsDecoder=new Cs(vt.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(ir.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new Ew(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new J1(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=Aw.getDataBlocks(u,s,l),f=0;try{for(var h=$f(d),p=h.next();!p.done;p=h.next()){var v=p.value;f+=v.getNumDataCodewords()}}catch(C){n={error:C}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var g=new Uint8Array(f),E=0;try{for(var m=$f(d),x=m.next();!x.done;x=m.next()){var v=x.value,y=v.getCodewords(),_=v.getNumDataCodewords();this.correctErrors(y,_);for(var w=0;w<_;w++)g[E++]=y[w]}}catch(C){a={error:C}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}return Cw.decode(g,s,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Be}for(var i=0;i<r;i++)e[i]=n[i]},t}(),bw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nw=function(t){bw(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(M),Iw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tw=function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,l=0;l<r;l++){var u=a+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!s.get(d,u);)d++;for(var f=0;d<i;){if(s.get(d,u))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,d);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;d++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new I},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l)&&s[1]<=n;)s[1]++,l++;if(l===o||s[1]>n)return NaN;for(;l<o&&!a.get(r,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var u=s[0]+s[1]+s[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(l)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=Iw(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(u,l,s))return h.combineEstimate(l,s,u)}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var p=new Nw(s,l,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),Ow=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jw=function(t){Ow(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,l,a)},e}(M),Rw=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Oi=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kw=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(ge.TRY_HARDER)!==void 0,n=e!=null&&e.get(ge.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var l=!1,u=new Int32Array(5),d=s-1;d<a&&!l;d+=s){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,h=0;h<o;h++)if(i.get(h,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,h,n);if(p===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var v=this.findRowSkip();v>u[2]&&(d+=v-u[2]-s,h=o-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,o,n);p===!0&&(s=u[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return M.orderBestPatterns(g),new Rw(g)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var l=s.getHeight(),u=s.getWidth();for(o=1;e+o<l&&r+o<u&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=l||r+o>=u)return!1;for(;e+o<l&&r+o<u&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=l||r+o>=u||a[3]>=n)return!1;for(;e+o<l&&r+o<u&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(r,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(r,l)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(r,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,r);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,r)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(l,r)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(l,r);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(l,r)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(l,r)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var l=a/7,u=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(l,s,o)){d[f]=p.combineEstimate(s,o,l),u=!0;break}}if(!u){var v=new jw(o,s,l);d.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Oi(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var l=Oi(this.possibleCenters),u=l.next();!u.done;u=l.next()){var d=u.value;d.getCount()>=t.CENTER_QUORUM&&(a++,o+=d.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var f=o/s,h=0;try{for(var p=Oi(this.possibleCenters),v=p.next();!v.done;v=p.next()){var d=v.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(g){n={error:g}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return h<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new I;var o=this.possibleCenters,s;if(a>3){var l=0,u=0;try{for(var d=Oi(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();l+=p,u+=p*p}}catch(w){e={error:w}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}s=l/a;var v=Math.sqrt(u/a-s*s);o.sort(function(w,C){var S=Math.abs(C.getEstimatedModuleSize()-s),N=Math.abs(w.getEstimatedModuleSize()-s);return S<N?-1:S>N?1:0});for(var g=Math.max(.2*s,v),E=0;E<o.length&&o.length>3;E++){var m=o[E];Math.abs(m.getEstimatedModuleSize()-s)>g&&(o.splice(E,1),E--)}}if(o.length>3){var l=0;try{for(var x=Oi(o),y=x.next();!y.done;y=x.next()){var _=y.value;l+=_.getEstimatedModuleSize()}}catch(C){n={error:C}}finally{try{y&&!y.done&&(i=x.return)&&i.call(x)}finally{if(n)throw n.error}}s=l/o.length,o.sort(function(C,S){if(S.getCount()===C.getCount()){var N=Math.abs(S.getEstimatedModuleSize()-s),R=Math.abs(C.getEstimatedModuleSize()-s);return N<R?1:N>R?-1:0}else return S.getCount()-C.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),Pw=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(ge.NEED_RESULT_POINT_CALLBACK);var r=new kw(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new I("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=gn.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,u=null;if(s.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),h=1-3/l,p=Math.floor(r.getX()+h*(d-r.getX())),v=Math.floor(r.getY()+h*(f-r.getY())),g=4;g<=16;g<<=1)try{u=this.findAlignmentInRegion(a,p,v,g);break}catch(y){if(!(y instanceof I))throw y}var E=t.createTransform(r,n,i,u,o),m=t.sampleGrid(this.image,E,o),x;return u===null?x=[i,r,n]:x=[i,r,n,u],new Pc(m,x)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,l,u,d;return i!==null?(s=i.getX(),l=i.getY(),u=o-3,d=u):(s=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),u=o,d=o),X1.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,u,d,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=Dc.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=ee.round(M.distance(e,r)/i),o=ee.round(M.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new I("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*o);return o=1,l<0?(o=r/(r-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,l),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),l=Math.abs(i-r),u=-s/2,d=e<n?1:-1,f=r<i?1:-1,h=0,p=n+d,v=e,g=r;v!==p;v+=d){var E=a?g:v,m=a?v:g;if(h===1===this.image.get(E,m)){if(h===2)return ee.distance(v,g,e,r);h++}if(u+=l,u>0){if(g===i)break;g+=f,u-=s}}return h===2?ee.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new I("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),u=Math.min(this.image.getHeight()-1,n+a);if(u-l<e*3)throw new I("Alignment bottom exceeds estimated module size.");var d=new Tw(this.image,o,l,s-o,u-l,e,this.resultPointCallback);return d.find()},t}(),Cu=function(){function t(){this.decoder=new Sw}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(ge.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new Pw(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof J1&&n.getOther().applyMirroredCorrection(i);var s=new tt(n.getText(),n.getRawBytes(),void 0,i,B.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(Ge.BYTE_SEGMENTS,l);var u=n.getECLevel();return u!==null&&s.putMetadata(Ge.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(s.putMetadata(Ge.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(Ge.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new I;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0];if(s>=l||a>=o)throw new I;if(o-a!==l-s&&(l=s+(o-a),l>=e.getWidth()))throw new I;var u=Math.round((l-s+1)/i),d=Math.round((o-a+1)/i);if(u<=0||d<=0)throw new I;if(d!==u)throw new I;var f=Math.floor(i/2);a+=f,s+=f;var h=s+Math.floor((u-1)*i)-l;if(h>0){if(h>f)throw new I;s-=h}var p=a+Math.floor((d-1)*i)-o;if(p>0){if(p>f)throw new I;a-=p}for(var v=new ir(u,d),g=0;g<d;g++)for(var E=a+Math.floor(g*i),m=0;m<u;m++)e.get(s+Math.floor(m*i),E)&&v.set(m,g);return v},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,l=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++l===5)break;s=!s}a++,o++}if(a===i||o===n)throw new I;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),Dw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return ee.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=Dw(e),s=o.next();!s.done;s=o.next()){var l=s.value;i[a++]=l}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Oe.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),Mw=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Lw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bw=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new Mw(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,l=!1;o<r.getHeight();){var u=t.findVertices(r,o,s);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,s=0;try{for(var d=(n=void 0,Lw(a)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(l=!0,a.push(u),!e)break;u[2]!=null?(s=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),l=!1,u=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,a,i,n,!1,o,u);if(d!=null){for(;i>0;){var f=t.findGuardPattern(e,a,--i,n,!1,o,u);if(f!=null)d=f;else{i++;break}}s[0]=new M(d[0],i),s[1]=new M(d[1],i),l=!0;break}}var h=i+1;if(l){for(var p=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);h<r;h++){var d=t.findGuardPattern(e,f[0],h,n,!1,o,u);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,s[2]=new M(f[0],h),s[3]=new M(f[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&Oe.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){Oe.fillWithin(s,0,s.length,0);for(var l=r,u=0;e.get(l,n)&&l>0&&u++<t.MAX_PIXEL_DRIFT;)l--;for(var d=l,f=0,h=o.length,p=a;d<i;d++){var v=e.get(d,n);if(v!==p)s[f]++;else{if(f===h-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=s[0]+s[1],de.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var l=a/o;n*=l;for(var u=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return 1/0;u+=p}return u/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),Fw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pn=function(){function t(e,r){if(r.length===0)throw new F;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),de.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=Fw(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)l=this.field.add(this.field.multiply(e,l),this.coefficients[d]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new F("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;de.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new F("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new F("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var l=r[s],u=0;u<a;u++)o[s+u]=this.field.add(o[s+u],this.field.multiply(l,i[u]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new F;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new G,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),Uw=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new F;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new W1;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),$w=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zw=function(t){$w(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new pn(i,new Int32Array([0])),i.one=new pn(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new F;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new pn(this,i)},e.PDF417_GF=new e(Q.NUMBER_OF_CODEWORDS,3),e}(Uw),Vw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hw=function(){function t(){this.field=zw.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new pn(this.field,e),s=new Int32Array(r),l=!1,u=r;u>0;u--){var d=o.evaluateAt(this.field.exp(u));s[r-u]=d,d!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=Vw(n),p=h.next();!p.done;p=h.next()){var v=p.value,g=this.field.exp(e.length-1-v),E=new pn(this.field,new Int32Array([this.field.subtract(0,g),1]));f=f.multiply(E)}}catch(N){i={error:N}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var m=new pn(this.field,s),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),m,r),y=x[0],_=x[1],w=this.findErrorLocations(y),C=this.findErrorMagnitudes(_,y,w),u=0;u<w.length;u++){var S=e.length-1-this.field.log(w[u]);if(S<0)throw Be.getChecksumInstance();e[S]=this.field.subtract(e[S],C[u])}return w.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=a,d=s;if(a=o,s=l,a.isZero())throw Be.getChecksumInstance();o=u;for(var f=this.field.getZero(),h=a.getCoefficient(a.getDegree()),p=this.field.inverse(h);o.getDegree()>=a.getDegree()&&!o.isZero();){var v=o.getDegree()-a.getDegree(),g=this.field.multiply(o.getCoefficient(o.getDegree()),p);f=f.add(this.field.buildMonomial(v,g)),o=o.subtract(a.multiplyByMonomial(v,g))}l=f.multiply(s).subtract(d).negative()}var E=l.getCoefficient(0);if(E===0)throw Be.getChecksumInstance();var m=this.field.inverse(E),x=l.multiply(m),y=o.multiply(m);return[x,y]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw Be.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new pn(this.field,a),l=n.length,u=new Int32Array(l),o=0;o<l;o++){var d=this.field.inverse(n[o]),f=this.field.subtract(0,e.evaluateAt(d)),h=this.field.inverse(s.evaluateAt(d));u[o]=this.field.multiply(f,h)}return u},t}(),Su=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new I;o?(r=new M(0,i.getY()),n=new M(0,a.getY())):s&&(i=new M(e.getWidth()-1,r.getY()),a=new M(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,u=Math.trunc(l.getY()-e);u<0&&(u=0);var d=new M(l.getX(),u);n?i=d:o=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new M(f.getX(),h);n?a=p:s=p}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),Gw=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),Lc=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,l,u,d,f){if(o==="%%")return"%";if(r[++n]!==void 0){o=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var v=parseInt(l),g=l&&l[0]+""=="0"?"0":" ";p.length<v;)p=s!==void 0?p+g:g+p;return p}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),Ww=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ep=function(){function t(e){this.boundingBox=new Su(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new Lc,i=0;try{for(var a=Ww(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Xw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qw=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},$i=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var o=Xw(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=qw(s.value,2),u=l[0],d=l[1];a(u,d)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return Q.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),Kw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ul=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zf=function(t){Kw(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=ul(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,d=1,f=0,h=s;h<l;h++)if(n[h]!=null){var p=n[h],v=p.getRowNumber()-u;if(v===0)f++;else if(v===1)d=Math.max(d,f),f=1,u=p.getRowNumber();else if(v<0||p.getRowNumber()>=r.getRowCount()||v>h)n[h]=null;else{var g=void 0;d>2?g=(d-2)*v:g=v;for(var E=g>=h,m=1;m<=g&&!E;m++)E=n[h-m]!=null;E?n[h]=null:(u=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=ul(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var u=l.getRowNumber();if(u>=a.length)continue;a[u]++}}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),u=-1,d=o;d<s;d++)if(l[d]!=null){var f=l[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-u;h===0||(h===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[d]=null:u=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new $i,o=new $i,s=new $i,l=new $i;try{for(var u=ul(i),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(g){r={error:g}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Q.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Q.MAX_ROWS_IN_BARCODE)return null;var v=new Gw(a.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,v),v},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(ep),Yw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zw=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Q.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=s[r],u[3]=l[r],r>0&&(u[0]=n[r-1],u[4]=s[r-1],u[5]=l[r-1]),r>1&&(u[8]=n[r-2],u[10]=s[r-2],u[11]=l[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=s[r+1],u[7]=l[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=s[r+2],u[13]=l[r+2]);try{for(var d=Yw(u),f=d.next();!f.done;f=d.next()){var h=f.value;if(t.adjustRowNumber(o,h))return}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new Lc,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),Qw=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),Jw=function(){function t(){}return t.initialize=function(){for(var e=0;e<Q.SYMBOL_TABLE.length;e++)for(var r=Q.SYMBOL_TABLE[e],n=r&1,i=0;i<Q.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Q.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Q.BARS_IN_MODULE-i-1]=Math.fround(a/Q.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=ee.sum(e),n=new Int32Array(Q.BARS_IN_MODULE),i=0,a=0,o=0;o<Q.MODULES_IN_CODEWORD;o++){var s=r/(2*Q.MODULES_IN_CODEWORD)+o*r/Q.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Q.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=ee.sum(e),n=new Array(Q.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=yu.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var l=0,u=t.RATIOS_TABLE[s],d=0;d<Q.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(l+=Math.fround(f*f),l>=a)break}l<a&&(a=l,o=Q.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Q.SYMBOL_TABLE.length).map(function(e){return new Array(Q.BARS_IN_MODULE)}),t}(),e_=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),Vf=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),t_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r_=function(t){t_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(wt),n_=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new r_;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new Rc;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),i_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),a_=function(t){i_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(wt),o_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s_=function(t){o_(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new F("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new a_;i=X.MAX_VALUE}this.buf=Oe.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new Rc;this.ensureCapacity(this.count+i),de.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Oe.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(n_),le;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(le||(le={}));function tp(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var ro;function Ir(t){if(typeof ro>"u"&&(ro=tp()),ro===null)throw new Error("BigInt is not supported!");return ro(t)}function l_(){var t=[];t[0]=Ir(1);var e=Ir(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var u_=function(){function t(){}return t.decode=function(e,r){var n=new G(""),i=Te.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new e_;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:Te.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new j;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw j.getFormatInstance()}if(n.length()===0)throw j.getFormatInstance();var l=new As(null,n.toString(),null,r);return l.setOther(s),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw j.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(X.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new G;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new G;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new G;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new G;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new G;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(X.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new G;r=t.numericCompaction(e,r+1,h),n.setTimestamp(Vf.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new G;r=t.numericCompaction(e,r+1,p),n.setChecksum(X.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var v=new G;r=t.numericCompaction(e,r+1,v),n.setFileSize(Vf.parseLong(v.toString()));break;default:throw j.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(s!==-1){var g=r-s;n.isLastSegment()&&g--,n.setOptionalData(Oe.copyOfRange(e,s,s+g))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[o]=l/30,i[o+1]=l%30,o+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],a[o]=l,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=le.ALPHA,o=le.ALPHA,s=0;s<n;){var l=e[s],u="";switch(a){case le.ALPHA:if(l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.LL:a=le.LOWER;break;case t.ML:a=le.MIXED;break;case t.PS:o=a,a=le.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=le.ALPHA;break}break;case le.LOWER:if(l<26)u=String.fromCharCode(97+l);else switch(l){case 26:u=" ";break;case t.AS:o=a,a=le.ALPHA_SHIFT;break;case t.ML:a=le.MIXED;break;case t.PS:o=a,a=le.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=le.ALPHA;break}break;case le.MIXED:if(l<t.PL)u=t.MIXED_CHARS[l];else switch(l){case t.PL:a=le.PUNCT;break;case 26:u=" ";break;case t.LL:a=le.LOWER;break;case t.AL:a=le.ALPHA;break;case t.PS:o=a,a=le.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=le.ALPHA;break}break;case le.PUNCT:if(l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=le.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=le.ALPHA;break}break;case le.ALPHA_SHIFT:if(a=o,l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=le.ALPHA;break}break;case le.PUNCT_SHIFT:if(a=o,l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=le.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=le.ALPHA;break}break}u!==""&&i.append(u),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new s_,s=0,l=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[i++];i<r[0]&&!u;)switch(d[s++]=f,l=900*l+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(Ir(l)>>Ir(8*(5-h))));l=0,s=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[s++]=f);for(var p=0;p<s;p++)o.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!u;){var v=r[i++];if(v<t.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+v;else switch(v){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(Ir(l)>>Ir(8*(5-h))));l=0,s=0}}break}return a.append(kt.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Ir(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Ir(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new j;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=tp()?l_():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),ji=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c_=function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var l=new Su(e,r,n,i,a),u=null,d=null,f,h=!0;;h=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,l,r,!0,o,s)),i!=null&&(d=t.getRowIndicatorColumn(e,l,i,!1,o,s)),f=t.merge(u,d),f==null)throw I.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<l.getMinY()||p.getMaxY()>l.getMaxY()))l=p;else break}f.setBoundingBox(l);var v=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(v,d);for(var g=u!=null,E=1;E<=v;E++){var m=g?E:v-E;if(f.getDetectionResultColumn(m)===void 0){var x=void 0;m===0||m===v?x=new zf(l,m===0):x=new ep(l),f.setDetectionResultColumn(m,x);for(var y=-1,_=y,w=l.getMinY();w<=l.getMaxY();w++){if(y=t.getStartColumn(f,m,w,g),y<0||y>l.getMaxX()){if(_===-1)continue;y=_}var C=t.detectCodeword(e,l.getMinX(),l.getMaxX(),g,y,w,o,s);C!=null&&(x.setCodeword(w,C),_=y,o=Math.min(o,C.getWidth()),s=Math.max(s,C.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=Su.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new Zw(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=ji(i),l=s.next();!l.done;l=s.next()){var u=l.value;if(o+=a-u,u>0)break}}catch(p){r={error:p}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;o>0&&d[f]==null;f++)o--;for(var h=0,f=i.length-1;f>=0&&(h+=a-i[f],!(i[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(o,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=ji(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new zf(r,i),l=0;l<2;l++)for(var u=l===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var h=t.detectCodeword(e,0,e.getWidth(),i,d,f,a,o);h!=null&&(s.setCodeword(f,h),i?d=h.getStartX():d=h.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>Q.MAX_CODEWORDS_IN_BARCODE)throw I.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var u=r[s][l+1].getValue(),d=s*e.getBarcodeColumnCount()+l;u.length===0?n.push(d):u.length===1?i[d]=u[0]:(o.push(d),a.push(u))}for(var f=new Array(a.length),h=0;h<f.length;h++)f[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Q.toIntArray(n),Q.toIntArray(o),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)r[i[l]]=a[l][o[l]];try{return t.decodeCodewords(r,e,n)}catch(d){var u=d instanceof Be;if(!u)throw d}if(o.length===0)throw Be.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<a[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw Be.getChecksumInstance()}throw Be.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new $i;var u=0;try{for(var d=ji(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(i=void 0,ji(h.getCodewords())),v=p.next();!v.done;v=p.next()){var g=v.value;if(g!=null){var E=g.getRowNumber();if(E>=0){if(E>=o.length)continue;o[E][u].setValue(g.getValue())}}}}catch(m){i={error:m}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}u++}}catch(m){r={error:m}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var d=(a=void 0,ji(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(i?h.getEndX():h.getStartX())+s*u*(h.getEndX()-h.getStartX())}}catch(p){a={error:p}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,l){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var u=t.getModuleBitCount(e,r,n,i,a,o);if(u==null)return null;var d,f=ee.sum(u);if(i)d=a+f;else{for(var h=0;h<u.length/2;h++){var p=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=p}d=a,a=d-f}if(!t.checkCodewordSkew(f,s,l))return null;var v=Jw.getDecodedValue(u),g=Q.getCodeword(v);return g===-1?null:new Qw(a,d,t.getCodewordBucketNumber(v),g)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,l=new Int32Array(8),u=0,d=i?1:-1,f=i;(i?s<n:s>=r)&&u<l.length;)e.get(s,o)===f?(l[u]++,s+=d):(u++,f=!f);return u===l.length||s===(i?n:r)&&u===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,l=i?-1:1,u=0;u<2;u++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=l}l=-l,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw j.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=u_.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Be.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw j.getFormatInstance();var n=e[0];if(n>e.length)throw j.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw j.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new Lc,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new Hw,t}(),d_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bu=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw I.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof j||n instanceof Be?I.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=Bw.detectMultiple(e,r,n);try{for(var l=d_(s.getPoints()),u=l.next();!u.done;u=l.next()){var d=u.value,f=c_.decode(s.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),h=new tt(f.getText(),f.getRawBytes(),void 0,d,B.PDF_417);h.putMetadata(Ge.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(Ge.PDF417_EXTRA_METADATA,p),o.push(h)}}catch(v){i={error:v}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o.map(function(v){return v})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?X.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Q.MODULES_IN_CODEWORD/Q.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Q.MODULES_IN_CODEWORD/Q.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Q.MODULES_IN_CODEWORD/Q.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Q.MODULES_IN_CODEWORD/Q.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),f_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hf=function(t){f_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(wt),Gf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h_=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(ge.TRY_HARDER)!==void 0,n=e==null?null:e.get(ge.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===B.UPC_A||o===B.UPC_E||o===B.EAN_13||o===B.EAN_8||o===B.CODABAR||o===B.CODE_39||o===B.CODE_93||o===B.CODE_128||o===B.ITF||o===B.RSS_14||o===B.RSS_EXPANDED});a&&!r&&i.push(new Ui(e)),n.includes(B.QR_CODE)&&i.push(new Cu),n.includes(B.DATA_MATRIX)&&i.push(new Au),n.includes(B.AZTEC)&&i.push(new _u),n.includes(B.PDF_417)&&i.push(new bu),a&&r&&i.push(new Ui(e))}i.length===0&&(r||i.push(new Ui(e)),i.push(new Cu),i.push(new Au),i.push(new _u),i.push(new bu),r&&i.push(new Ui(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=Gf(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new Hf("No readers where selected, nothing can be read.");try{for(var i=Gf(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof Hf)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new I("No MultiFormat Readers were able to detect the code.")},t}(),p_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wf=function(t){p_(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new h_;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(yi),v_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){v_(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new bu,r)||this}return e})(yi);var x_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){x_(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Cu,r)||this}return e})(yi);var Nu;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Nu||(Nu={}));const no=Nu;var rp=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Vr(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new Vr(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new F("No error correction bytes");var n=e.length-r;if(n<=0)throw new F("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);de.arraycopy(e,0,a,0,n);var o=new Vr(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],l=s.getCoefficients(),u=r-l.length,d=0;d<u;d++)e[n+d]=0;de.arraycopy(l,0,e,n+u,l.length)},t}(),zi=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],l=0;l<i-1;l++){var u=s[l];u===s[l+1]&&u===n[o+1][l]&&u===n[o+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var l=n[o];s+6<i&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(t.isWhiteHorizontal(l,s-4,s)||t.isWhiteHorizontal(l,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],l=0;l<i;l++)s[l]===1&&r++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new F("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var l=0,u=-1,d=0;d<a;d++){var f=r?o[s][d]:o[d][s];f===u?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,u=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),g_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m_=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=g_(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Oe.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,l=this.width;s<l;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new G,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),Iu=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new G;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),y_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),he=function(t){y_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(wt),Xf=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new Fe;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),l=t.TYPE_INFO_COORDINATES[a],u=l[0],d=l[1];if(n.setBoolean(u,d,s),a<8){var f=n.getWidth()-a-1,h=8;n.setBoolean(f,h,s)}else{var f=8,h=n.getHeight()-7+(a-8);n.setBoolean(f,h,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new Fe;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var u=o-l;if(t.isEmpty(n.get(u,s))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&zi.getDataMaskBit(r,u,s)&&(d=!d),n.setBoolean(u,s,d)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new he("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-X.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new F("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!Iu.isValidMaskPattern(r))throw new he("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new Fe;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new he("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new he("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new he;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new he;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new he;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var l=0;l!==o;l++){var u=i[l];u>=0&&t.isEmpty(r.get(u,s))&&t.embedPositionAdjustmentPattern(u-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),w_=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),qf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return zi.applyMaskPenaltyRule1(e)+zi.applyMaskPenaltyRule2(e)+zi.applyMaskPenaltyRule3(e)+zi.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(no.CHARACTER_SET)!==void 0;a&&(i=n.get(no.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new Fe;if(o===pe.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=Te.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var u=new Fe;this.appendBytes(e,o,u,i);var d;if(n!==null&&n.get(no.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(no.QR_VERSION).toString(),10);d=gn.getVersionForNumber(f);var h=this.calculateBitsNeeded(o,s,u,d);if(!this.willFit(h,d,r))throw new he("Data too big for requested version")}else d=this.recommendVersion(r,o,s,u);var p=new Fe;p.appendBitArray(s);var v=o===pe.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(v,d,o,p),p.appendBitArray(u);var g=d.getECBlocksForLevel(r),E=d.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(E,p);var m=this.interleaveWithECBytes(p,d.getTotalCodewords(),E,g.getNumBlocks()),x=new Iu;x.setECLevel(r),x.setMode(o),x.setVersion(d);var y=d.getDimensionForVersion(),_=new m_(y,y),w=this.chooseMaskPattern(m,r,d,_);return x.setMaskPattern(w),Xf.buildMatrix(m,r,d,w,_),x.setMatrix(_),x},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,gn.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Te.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return pe.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return pe.BYTE}return i?pe.ALPHANUMERIC:n?pe.NUMERIC:pe.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=kt.encode(e,Te.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<Iu.NUM_MASK_PATTERNS;s++){Xf.buildMatrix(e,r,n,s,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=gn.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new he("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,l=(e+7)/8;return s>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new he("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new he("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new he("Block ID too large");var s=e%n,l=n-s,u=Math.floor(e/n),d=u+1,f=Math.floor(r/n),h=f+1,p=u-f,v=d-h;if(p!==v)throw new he("EC bytes mismatch");if(n!==l+s)throw new he("RS blocks mismatch");if(e!==(f+p)*l+(h+v)*s)throw new he("Total bytes mismatch");i<l?(a[0]=f,o[0]=p):(a[0]=h,o[0]=v)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,l;if(e.getSizeInBytes()!==n)throw new he("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,h=new Array,p=0;p<i;++p){var v=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,v,g);var E=v[0],m=new Uint8Array(E);e.toBytes(8*u,m,0,E);var x=t.generateECBytes(m,g[0]);h.push(new w_(m,x)),d=Math.max(d,E),f=Math.max(f,x.length),u+=v[0]}if(n!==u)throw new he("Data bytes does not match offset");for(var y=new Fe,p=0;p<d;++p)try{for(var _=(a=void 0,qf(h)),w=_.next();!w.done;w=_.next()){var C=w.value,m=C.getDataBytes();p<m.length&&y.appendBits(m[p],8)}}catch(O){a={error:O}}finally{try{w&&!w.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}for(var p=0;p<f;++p)try{for(var S=(s=void 0,qf(h)),N=S.next();!N.done;N=S.next()){var C=N.value,x=C.getErrorCorrectionBytes();p<x.length&&y.appendBits(x[p],8)}}catch(O){s={error:O}}finally{try{N&&!N.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}if(r!==y.getSizeInBytes())throw new he("Interleaving error: "+r+" and "+y.getSizeInBytes()+" differ.");return y},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new rp(vt.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new he(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case pe.NUMERIC:t.appendNumericBytes(e,n);break;case pe.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case pe.BYTE:t.append8BitBytes(e,n,i);break;case pe.KANJI:t.appendKanjiBytes(e,n);break;default:throw new he("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new he;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new he;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=kt.encode(e,n)}catch(l){throw new he(l)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=kt.encode(e,Te.SJIS)}catch(f){throw new he(f)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,l=o<<8&4294967295|s,u=-1;if(l>=33088&&l<=40956?u=l-33088:l>=57408&&l<=60351&&(u=l-49472),u===-1)throw new he("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(pe.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Te.UTF8.getName(),t})();var __=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){__(e,t);function e(r,n,i,a,o,s,l,u){var d=t.call(this,s,l)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=a,d.top=o,a+s>n||o+l>i)throw new F("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(s,l),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new F("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return de.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return de.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;de.arraycopy(this.yuvData,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*r,u=0;u<r;u++){var d=a[o+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+u]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,l=o,u=o+r-1;l<s;l++,u--){var d=i[l];i[l]=i[u],i[u]=d}},e.prototype.invert=function(){return new kc(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Es);var E_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){E_(e,t);function e(r,n,i,a,o,s,l){var u=t.call(this,n,i)||this;if(u.dataWidth=a,u.dataHeight=o,u.left=s,u.top=l,r.BYTES_PER_ELEMENT===4){for(var d=n*i,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],v=p>>16&255,g=p>>7&510,E=p&255;f[h]=(v+g+E)/4&255}u.luminances=f}else u.luminances=r;if(a===void 0&&(u.dataWidth=n),o===void 0&&(u.dataHeight=i),s===void 0&&(u.left=0),l===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+i>u.dataHeight)throw new F("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new F("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return de.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return de.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;de.arraycopy(this.luminances,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new kc(this)},e})(Es);var A_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),C_=function(t){A_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Te),S_=function(){function t(){}return t.ISO_8859_1=Te.ISO8859_1,t}(),Tu,b_=301,N_=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=b_);return{LOG:t,ALOG:e}};Tu=N_([],[]),Tu.LOG;Tu.ALOG;var Kf;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Kf||(Kf={}));var Yf=129,np=230,I_=231,T_=235,O_=236,j_=237,R_=238,k_=239,P_=240,cl=254,D_=254,Zf="[)>05",Qf="[)>06",Jf="",oe=0,ze=1,at=2,be=3,De=4,Ze=5,M_=function(){function t(){}return t.prototype.getEncodingMode=function(){return oe},t.prototype.encode=function(e){var r=Wt.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Wt.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Ze:e.writeCodeword(I_),e.signalEncoderChange(Ze);return;case ze:e.writeCodeword(np),e.signalEncoderChange(ze);return;case be:e.writeCodeword(R_),e.signalEncoderChange(be);break;case at:e.writeCodeword(k_),e.signalEncoderChange(at);break;case De:e.writeCodeword(P_),e.signalEncoderChange(De);break;default:throw new Error("Illegal mode: "+i)}else Wt.isExtendedASCII(n)?(e.writeCodeword(T_),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Wt.isDigit(e)&&Wt.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),L_=function(){function t(){}return t.prototype.getEncodingMode=function(){return Ze},t.prototype.encode=function(e){var r=new G;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Wt.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(oe);break}}var a=r.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(a<=249)r.setCharAt(0,Z.getCharAt(a));else if(a<=1555)r.setCharAt(0,Z.getCharAt(Math.floor(a/250)+249)),r.insert(1,Z.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),Bc=function(){function t(){}return t.prototype.getEncodingMode=function(){return ze},t.prototype.encodeMaximal=function(e){for(var r=new G,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var s=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(np),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new G;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new G;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var u=r.length();if(u%3===0){var d=Wt.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(oe);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(cl)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(cl),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(cl)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(oe)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new G;return a.append(n),a.append(i),a.toString()},t}(),B_=function(){function t(){}return t.prototype.getEncodingMode=function(){return De},t.prototype.encode=function(e){for(var r=new G;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=Wt.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(oe);break}}}r.append(Z.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),u=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}u?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(oe)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(Z.getCharAt(e-64)):Wt.illegalCharacter(Z.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,l=s>>16&255,u=s>>8&255,d=s&255,f=new G;return f.append(l),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},t}(),F_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},re=function(){function t(e,r,n,i,a,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return t.lookup=function(e,r,n,i,a){var o,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=U_(z_),u=l.next();!u.done;u=l.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){o={error:f}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),$_=function(t){F_(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(re),z_=[new re(!1,3,5,8,8,1),new re(!1,5,7,10,10,1),new re(!0,5,7,16,6,1),new re(!1,8,10,12,12,1),new re(!0,10,11,14,6,2),new re(!1,12,12,14,14,1),new re(!0,16,14,24,10,1),new re(!1,18,14,16,16,1),new re(!1,22,18,18,18,1),new re(!0,22,18,16,10,2),new re(!1,30,20,20,20,1),new re(!0,32,24,16,14,2),new re(!1,36,24,22,22,1),new re(!1,44,28,24,24,1),new re(!0,49,28,22,14,2),new re(!1,62,36,14,14,4),new re(!1,86,42,16,16,4),new re(!1,114,48,18,18,4),new re(!1,144,56,20,20,4),new re(!1,174,68,22,22,4),new re(!1,204,84,24,24,4,102,42),new re(!1,280,112,14,14,16,140,56),new re(!1,368,144,16,16,16,92,36),new re(!1,456,192,18,18,16,114,48),new re(!1,576,224,20,20,16,144,56),new re(!1,696,272,22,22,16,174,68),new re(!1,816,336,24,24,16,136,56),new re(!1,1050,408,18,18,36,175,68),new re(!1,1304,496,20,20,36,163,62),new $_],V_=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new G,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new G,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=re.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),H_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G_=function(t){H_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return be},e.prototype.encode=function(r){for(var n=new G;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=Wt.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(oe);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Wt.illegalCharacter(Z.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(D_),r.getNewEncoding()<0&&r.signalEncoderChange(oe)},e}(Bc),W_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X_=function(t){W_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return at},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(Bc),Wt=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=Yf+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new Bc,s=[new M_,o,new X_,new G_,new B_,new L_],l=new V_(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(Zf)&&e.endsWith(Jf)?(l.writeCodeword(O_),l.setSkipAtEnd(2),l.pos+=Zf.length):e.startsWith(Qf)&&e.endsWith(Jf)&&(l.writeCodeword(j_),l.setSkipAtEnd(2),l.pos+=Qf.length);var u=oe;for(a&&(o.encodeMaximal(l),u=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[u].encode(l),l.getNewEncoding()>=0&&(u=l.getNewEncoding(),l.resetEncoderSignal());var d=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();d<f&&u!==oe&&u!==Ze&&u!==De&&l.writeCodeword("þ");var h=l.getCodewords();for(h.length()<f&&h.append(Yf);h.length()<f;)h.append(this.randomize253State(h.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===be&&i===be){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return oe}else if(n===De&&i===De){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return oe}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===oe?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(r+a===e.length){Oe.fill(o,0),Oe.fill(s,0);var l=this.findMinimums(i,s,X.MAX_VALUE,o),u=this.getMinimumCount(o);if(s[oe]===l)return oe;if(u===1){if(o[Ze]>0)return Ze;if(o[De]>0)return De;if(o[at]>0)return at;if(o[be]>0)return be}return ze}var d=e.charCodeAt(r+a);if(a++,this.isDigit(d)?i[oe]+=.5:this.isExtendedASCII(d)?(i[oe]=Math.ceil(i[oe]),i[oe]+=2):(i[oe]=Math.ceil(i[oe]),i[oe]++),this.isNativeC40(d)?i[ze]+=2/3:this.isExtendedASCII(d)?i[ze]+=8/3:i[ze]+=4/3,this.isNativeText(d)?i[at]+=2/3:this.isExtendedASCII(d)?i[at]+=8/3:i[at]+=4/3,this.isNativeX12(d)?i[be]+=2/3:this.isExtendedASCII(d)?i[be]+=13/3:i[be]+=10/3,this.isNativeEDIFACT(d)?i[De]+=3/4:this.isExtendedASCII(d)?i[De]+=17/4:i[De]+=13/4,this.isSpecialB256(d)?i[Ze]+=4:i[Ze]++,a>=4){if(Oe.fill(o,0),Oe.fill(s,0),this.findMinimums(i,s,X.MAX_VALUE,o),s[oe]<this.min(s[Ze],s[ze],s[at],s[be],s[De]))return oe;if(s[Ze]<s[oe]||s[Ze]+1<this.min(s[ze],s[at],s[be],s[De]))return Ze;if(s[De]+1<this.min(s[Ze],s[ze],s[at],s[be],s[oe]))return De;if(s[at]+1<this.min(s[Ze],s[ze],s[De],s[be],s[oe]))return at;if(s[be]+1<this.min(s[Ze],s[ze],s[De],s[at],s[oe]))return be;if(s[ze]+1<this.min(s[oe],s[Ze],s[De],s[at])){if(s[ze]<s[be])return ze;if(s[ze]===s[be]){for(var f=r+a+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return be;if(!this.isNativeX12(h))break;f++}return ze}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,Oe.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=X.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),dl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eh=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return kt.encode(e,this.charset)!=null}catch{return!1}},t}(),q_=function(){function t(e,r,n){var i,a,o,s,l,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(R){return new eh(C_.forName(R))}),this.encoders=[];var d=[];d.push(new eh(S_.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var v=(i=void 0,dl(d)),g=v.next();!g.done;g=v.next()){var E=g.value,m=e.charAt(h),x=m.charCodeAt(0);if(x===n||E.canEncode(m)){p=!0;break}}}catch(R){i={error:R}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}if(!p)try{for(var y=(o=void 0,dl(this.ENCODERS)),_=y.next();!_.done;_=y.next()){var E=_.value;if(E.canEncode(e.charAt(h))){d.push(E),p=!0;break}}}catch(R){o={error:R}}finally{try{_&&!_.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var w=0;try{for(var C=dl(d),S=C.next();!S.done;S=C.next()){var E=S.value;this.encoders[w++]=E}}catch(R){l={error:R}}finally{try{S&&!S.done&&(u=C.return)&&u.call(C)}finally{if(l)throw l.error}}}var N=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){N=h;break}}this.priorityEncoderIndex=N}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return kt.encode(Z.getCharAt(e),this.encoders[r].name)},t}(),K_=3,Y_=function(){function t(e,r,n){this.fnc1=n;var i=new q_(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new G,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var s=e.charAt(i).charCodeAt(0),l=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(s===o||r.canEncode(s,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),u=l+1);for(var d=l;d<u;d++)(s===o||r.canEncode(s,d))&&this.addEdge(n,i+1,new th(s,r,d,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new th[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<r.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][s],n);for(var s=0;s<r.length();s++)a[o-1][s]=null}for(var l=-1,u=X.MAX_VALUE,s=0;s<r.length();s++)if(a[i][s]!=null){var d=a[i][s];d.cachedTotalSize<u&&(u=d.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=a[i][l];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),o=p.length-1;o>=0;o--)f.unshift(p[o]&255);var v=h.previous===null?0:h.previous.encoderIndex;v!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var g=[],o=0;o<g.length;o++)g[o]=f[o];return g},t}(),th=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=K_),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),Z_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var rh;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(rh||(rh={}));(function(t){Z_(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Y_);var Q_=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),nh=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),J_=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),e3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fc=function(t){e3(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+X.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(J_),t3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r3=function(t){t3(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Fc);function n3(t,e,r){return new r3(t,e,r)}function Ri(t,e,r){return new Fc(t,e,r)}var i3=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Hr=0,Ko=1,jt=2,ip=3,er=4,a3=new Fc(null,0,0),fl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],o3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function s3(t){var e,r;try{for(var n=o3(t),i=n.next();!i.done;i=n.next()){var a=i.value;Oe.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Hr][er]=0,t[Ko][er]=0,t[Ko][Hr]=28,t[ip][er]=0,t[jt][er]=0,t[jt][Hr]=15,t}var ap=s3(Oe.createInt32Array(6,6)),l3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u3=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=fl[this.mode][e];i=Ri(i,a&65535,a>>16),n+=a>>16}var o=e===jt?4:5;return i=Ri(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===jt?4:5;return n=Ri(n,ap[this.mode][e],i),n=Ri(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===er||this.mode===jt){var a=fl[n][Hr];r=Ri(r,a&65535,a>>16),i+=a>>16,n=Hr}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=n3(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(fl[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new Fe;try{for(var s=l3(i),l=s.next();!l.done;l=s.next()){var u=l.value;u.appendTo(o,e)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return Z.format("%s bits=%d bytes=%d",i3[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(a3,Hr,0,0),t}();function c3(t){var e=Z.getCharCode(" "),r=Z.getCharCode("."),n=Z.getCharCode(",");t[Hr][e]=1;for(var i=Z.getCharCode("Z"),a=Z.getCharCode("A"),o=a;o<=i;o++)t[Hr][o]=o-a+2;t[Ko][e]=1;for(var s=Z.getCharCode("z"),l=Z.getCharCode("a"),o=l;o<=s;o++)t[Ko][o]=o-l+2;t[jt][e]=1;for(var u=Z.getCharCode("9"),d=Z.getCharCode("0"),o=d;o<=u;o++)t[jt][o]=o-d+2;t[jt][n]=12,t[jt][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[ip][Z.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)Z.getCharCode(p[h])>0&&(t[er][Z.getCharCode(p[h])]=h);return t}var hl=c3(Oe.createInt32Array(5,256)),io=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d3=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Z.getCharCode(" "),r=Z.getCharCode(`
`),n=nh.singletonList(u3.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Z.getCharCode("\r"):a=o===r?2:0;break;case Z.getCharCode("."):a=o===e?3:0;break;case Z.getCharCode(","):a=o===e?4:0;break;case Z.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=nh.min(n,function(l,u){return l.getBitCount()-u.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=io(e),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,r,a)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=hl[e.getMode()][i]>0,o=null,s=0;s<=er;s++){var l=hl[s][i];if(l>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===jt){var u=o.latchAndAppend(s,l);n.push(u)}if(!a&&ap[e.getMode()][s]>=0){var d=o.shiftAndAppend(s,l);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||hl[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=io(e),l=s.next();!l.done;l=s.next()){var u=l.value;this.updateStateForPair(u,r,n,o)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(er,n)),e.getMode()!==er&&i.push(a.shiftAndAppend(er,n)),n===3||n===4){var o=a.latchAndAppend(jt,16-n).latchAndAppend(jt,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=io(e),l=s.next();!l.done;l=s.next()){var u=l.value,d=!0,f=function(E){if(E.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(E)&&(o=o.filter(function(m){return m!==E}))};try{for(var h=(i=void 0,io(o)),p=h.next();!p.done;p=h.next()){var v=p.value,g=f(v);if(g==="break")break}}catch(E){i={error:E}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}d&&o.push(u)}}catch(E){r={error:E}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}(),f3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new d3(e).encode(),a=X.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,l,u,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new F(Z.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(l,s),d=t.WORD_SIZE[l];var h=u-u%d;if(f=t.stuffBits(i,d),f.getSize()+a>h)throw new F("Data to large for user specified layer");if(s&&f.getSize()>d*64)throw new F("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new F("Data too large for an Aztec code");if(s=p<=3,l=s?p+1:p,u=t.totalBitsInLayer(l,s),!(o>u)){(f==null||d!==t.WORD_SIZE[l])&&(d=t.WORD_SIZE[l],f=t.stuffBits(i,d));var h=u-u%d;if(!(s&&f.getSize()>d*64)&&f.getSize()+a<=h)break}}}var v=t.generateCheckWords(f,u,d),g=f.getSize()/d,E=t.generateModeMessage(s,l,g),m=(s?11:14)+l*4,x=new Int32Array(m),y;if(s){y=m;for(var p=0;p<x.length;p++)x[p]=p}else{y=m+1+2*X.truncDivision(X.truncDivision(m,2)-1,15);for(var _=X.truncDivision(m,2),w=X.truncDivision(y,2),p=0;p<_;p++){var C=p+X.truncDivision(p,15);x[_-p-1]=w-C-1,x[_+p]=w+C+1}}for(var S=new ir(y),p=0,N=0;p<l;p++){for(var R=(l-p)*4+(s?9:12),O=0;O<R;O++)for(var Y=O*2,H=0;H<2;H++)v.get(N+Y+H)&&S.set(x[p*2+H],x[p*2+O]),v.get(N+R*2+Y+H)&&S.set(x[p*2+O],x[m-1-p*2-H]),v.get(N+R*4+Y+H)&&S.set(x[m-1-p*2-H],x[m-1-p*2-O]),v.get(N+R*6+Y+H)&&S.set(x[m-1-p*2-O],x[p*2+H]);N+=R*8}if(t.drawModeMessage(S,s,y,E),s)t.drawBullsEye(S,X.truncDivision(y,2),5);else{t.drawBullsEye(S,X.truncDivision(y,2),7);for(var p=0,O=0;p<X.truncDivision(m,2)-1;p+=15,O+=16)for(var H=X.truncDivision(y,2)&1;H<y;H+=2)S.set(X.truncDivision(y,2)-O,H),S.set(X.truncDivision(y,2)+O,H),S.set(H,X.truncDivision(y,2)-O),S.set(H,X.truncDivision(y,2)+O)}var ie=new Q_;return ie.setCompact(s),ie.setSize(y),ie.setLayers(l),ie.setCodeWords(g),ie.setMatrix(S),ie},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new Fe;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=X.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+X.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new rp(t.getGF(n)),l=X.truncDivision(r,n),u=t.bitsToWords(e,n,l);s.encode(u,l-o);var d=r%n,f=new Fe;f.appendBits(0,d);try{for(var h=f3(Array.from(u)),p=h.next();!p.done;p=h.next()){var v=p.value;f.appendBits(v,n)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,l=0;l<r;l++)s|=e.get(a*r+l)?1<<r-l-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return vt.AZTEC_PARAM;case 6:return vt.AZTEC_DATA_6;case 8:return vt.AZTEC_DATA_8;case 10:return vt.AZTEC_DATA_10;case 12:return vt.AZTEC_DATA_12;default:throw new F("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new Fe,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,l=0;l<r;l++)(o+l>=i||e.get(o+l))&&(s|=1<<r-1-l);(s&a)===a?(n.appendBits(s&a,r),o--):s&a?n.appendBits(s,r):(n.appendBits(s|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();function h3(){const[t,e]=k.useState(!1),[r,n]=k.useState(null),[i,a]=k.useState(null),o=k.useRef(null),s=k.useRef(null),l=k.useCallback(async f=>{try{n(null),e(!0),o.current||(o.current=new Wf);const h=await o.current.listVideoInputDevices();if(h.length===0)throw new Error("No camera devices found");const p=h[0].deviceId;o.current.decodeFromVideoDevice(p,s.current,(v,g)=>{if(v){const E=v.getText();a(E),f(E)}g&&g.name!=="NotFoundException"&&console.error("Barcode scanning error:",g)})}catch(h){const p=h instanceof Error?h.message:"Failed to start camera";n(p),e(!1)}},[]),u=k.useCallback(()=>{o.current&&o.current.reset(),e(!1),n(null)},[]),d=k.useCallback(async f=>{try{n(null),o.current||(o.current=new Wf);const p=(await o.current.decodeFromImageUrl(URL.createObjectURL(f))).getText();return a(p),p}catch(h){const p=h instanceof Error?h.message:"Failed to scan barcode from image";return n(p),null}},[]);return{isScanning:t,error:r,lastScannedCode:i,videoRef:s,startScanning:l,stopScanning:u,scanFromImage:d}}function op({isOpen:t,onClose:e,onScan:r,title:n="สแกนบาร์โค้ด"}){const{isScanning:i,error:a,lastScannedCode:o,videoRef:s,startScanning:l,stopScanning:u,scanFromImage:d}=h3(),[f,h]=k.useState("camera"),[p,v]=k.useState(null);k.useEffect(()=>(t&&f==="camera"&&l(x=>{v(x),setTimeout(()=>{r(x),g()},1500)}),()=>{i&&u()}),[t,f,l,u,i,r]);const g=()=>{u(),v(null),e()},E=async x=>{var w;const y=(w=x.target.files)==null?void 0:w[0];if(!y)return;const _=await d(y);_&&(v(_),setTimeout(()=>{r(_),g()},1500))},m=()=>{const x=prompt("Enter barcode manually:");x&&x.trim()&&(r(x.trim()),g())};return c.jsx(mr,{isOpen:t,onClose:g,title:n,size:"lg",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(L,{variant:f==="camera"?"primary":"secondary",onClick:()=>h("camera"),className:"flex items-center space-x-2 flex-1",children:[c.jsx(Kx,{className:"w-4 h-4"}),c.jsx("span",{children:"กล้อง"})]}),c.jsxs(L,{variant:f==="upload"?"primary":"secondary",onClick:()=>h("upload"),className:"flex items-center space-x-2 flex-1",children:[c.jsx(ef,{className:"w-4 h-4"}),c.jsx("span",{children:"อัปโหลดรูปภาพ"})]})]}),f==="camera"&&c.jsx(U,{className:"p-6",children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"4/3"},children:[c.jsx("video",{ref:s,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"w-64 h-64 border-2 border-white/50 rounded-lg relative",children:[c.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-blue-500 rounded-tl-lg"}),c.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-blue-500 rounded-tr-lg"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-blue-500 rounded-bl-lg"}),c.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-blue-500 rounded-br-lg"}),i&&!p&&c.jsx("div",{className:"absolute inset-0 overflow-hidden",children:c.jsx("div",{className:"w-full h-0.5 bg-gradient-to-r from-transparent via-blue-500 to-transparent animate-pulse"})})]}),p&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"bg-green-500 rounded-full p-3",children:c.jsx(st,{className:"w-8 h-8 text-white"})})})]})}),c.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:c.jsx("div",{className:"bg-black/70 backdrop-blur-sm rounded-lg p-3",children:c.jsx("p",{className:"text-white text-sm text-center",children:p?c.jsxs("span",{className:"text-green-400 flex items-center justify-center space-x-2",children:[c.jsx(st,{className:"w-4 h-4"}),c.jsx("span",{children:"สแกนบาร์โค้ดสำเร็จ!"})]}):i?c.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[c.jsx(hs,{className:"w-4 h-4 animate-pulse"}),c.jsx("span",{children:"วางบาร์โค้ดให้อยู่ในกรอบ"})]}):"กำลังเปิดกล้อง..."})})})]}),a&&c.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:c.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[c.jsx(ga,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:a})]})})]})}),f==="upload"&&c.jsx(U,{className:"p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"border-2 border-dashed border-white/30 rounded-lg p-8",children:[c.jsx(ef,{className:"w-12 h-12 text-white/60 mx-auto mb-4"}),c.jsx("p",{className:"text-white/80 mb-4",children:"อัปโหลดรูปภาพที่มีบาร์โค้ด"}),c.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden",id:"barcode-upload"}),c.jsx("label",{htmlFor:"barcode-upload",children:c.jsx(L,{variant:"secondary",className:"cursor-pointer",children:"เลือกรูปภาพ"})})]}),a&&c.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:c.jsxs("div",{className:"flex items-center justify-center space-x-2 text-red-400",children:[c.jsx(ga,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:a})]})}),p&&c.jsx("div",{className:"mt-4 p-3 bg-green-500/20 border border-green-500/30 rounded-lg",children:c.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[c.jsx(st,{className:"w-4 h-4"}),c.jsxs("span",{className:"text-sm",children:["ตรวจพบบาร์โค้ด: ",p]})]})})]})}),p&&c.jsx(U,{className:"p-4 bg-green-500/10 border-green-500/30",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-green-400 font-medium",children:"บาร์โค้ดที่สแกน:"}),c.jsx("p",{className:"text-white font-mono text-lg",children:p})]}),c.jsx(st,{className:"w-8 h-8 text-green-400"})]})}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(L,{variant:"secondary",onClick:m,className:"flex items-center space-x-2",children:c.jsx("span",{children:"ป้อนด้วยตนเอง"})}),c.jsx(L,{variant:"secondary",onClick:g,className:"flex-1",children:"ยกเลิก"})]})]})})}function p3({isOpen:t,onClose:e,onSubmit:r,initialData:n,mode:i,isSubmitting:a=!1}){const[o,s]=k.useState(!1),[l,u]=k.useState({name:(n==null?void 0:n.name)||"",barcode:(n==null?void 0:n.barcode)||"",material_code:(n==null?void 0:n.material_code)||"",category:(n==null?void 0:n.category)||"",note:(n==null?void 0:n.note)||"",unit:(n==null?void 0:n.unit)||"",initial_stock:(n==null?void 0:n.initial_stock)||0,current_stock:(n==null?void 0:n.current_stock)||0,min_stock:(n==null?void 0:n.min_stock)||0,price:(n==null?void 0:n.price)||0,location:(n==null?void 0:n.location)||"",expiry_date:(n==null?void 0:n.expiry_date)||""});Rp.useEffect(()=>{t&&u({name:(n==null?void 0:n.name)||"",barcode:(n==null?void 0:n.barcode)||"",material_code:(n==null?void 0:n.material_code)||"",category:(n==null?void 0:n.category)||"",note:(n==null?void 0:n.note)||"",unit:(n==null?void 0:n.unit)||"",initial_stock:(n==null?void 0:n.initial_stock)||0,current_stock:(n==null?void 0:n.current_stock)||0,min_stock:(n==null?void 0:n.min_stock)||0,price:(n==null?void 0:n.price)||0,location:(n==null?void 0:n.location)||"",expiry_date:(n==null?void 0:n.expiry_date)||""})},[t,n]);const d=p=>{p.preventDefault(),r(l)},f=p=>{const{name:v,value:g,type:E}=p.target;u(m=>({...m,[v]:E==="number"?parseFloat(g)||0:g}))},h=p=>{u(v=>({...v,barcode:p})),s(!1)};return c.jsxs(c.Fragment,{children:[c.jsx(mr,{isOpen:t,onClose:e,title:i==="create"?"เพิ่มวัสดุใหม่":"แก้ไขวัสดุ",size:"lg",children:c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"ชื่อวัสดุ *"}),c.jsx("input",{type:"text",name:"name",value:l.name,onChange:f,required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกชื่อวัสดุ"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"รหัสวัสดุ"}),c.jsx("input",{type:"text",name:"material_code",value:l.material_code,onChange:f,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกรหัสวัสดุ"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"บาร์โค้ด"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("input",{type:"text",name:"barcode",value:l.barcode,onChange:f,className:"flex-1 px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกหรือสแกนบาร์โค้ด"}),c.jsx(L,{type:"button",variant:"secondary",onClick:()=>s(!0),className:"px-3",children:c.jsx(hs,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"หมวดหมู่ *"}),c.jsxs("select",{name:"category",value:l.category,onChange:f,required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"เลือกหมวดหมู่"}),c.jsx("option",{value:"วัสดุสำนักงาน",children:"วัสดุสำนักงาน"}),c.jsx("option",{value:"ยา",children:"ยา"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"รายละเอียด"}),c.jsx("textarea",{name:"note",value:l.note,onChange:f,rows:3,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกรายละเอียดวัสดุ"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"หน่วย *"}),c.jsx("input",{type:"text",name:"unit",value:l.unit,onChange:f,required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"เช่น ชิ้น, กิโลกรัม, ลิตร"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"สต็อกเริ่มต้น *"}),c.jsx("input",{type:"number",name:"initial_stock",value:l.initial_stock,onChange:f,required:!0,min:"0",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกจำนวนสต็อกเริ่มต้น"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"สต็อกปัจจุบัน *"}),c.jsx("input",{type:"number",name:"current_stock",value:l.current_stock,onChange:f,required:!0,min:"0",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกจำนวนสต็อกปัจจุบัน"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"ระดับสต็อกขั้นต่ำ *"}),c.jsx("input",{type:"number",name:"min_stock",value:l.min_stock,onChange:f,required:!0,min:"0",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกระดับสต็อกขั้นต่ำ"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"ราคาต่อหน่วย *"}),c.jsx("input",{type:"number",name:"price",value:l.price,onChange:f,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกราคาต่อหน่วย"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"ตำแหน่งจัดเก็บ"}),c.jsx("input",{type:"text",name:"location",value:l.location,onChange:f,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกตำแหน่งจัดเก็บ"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-white/80 mb-1",children:["วันหมดอายุ",l.category==="ยา"&&c.jsx("span",{className:"text-red-400",children:" *"})]}),c.jsx("input",{type:"date",name:"expiry_date",value:l.expiry_date,onChange:f,required:l.category==="ยา",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.category==="ยา"&&c.jsx("p",{className:"text-white/60 text-xs mt-1",children:"* จำเป็นต้องระบุวันหมดอายุสำหรับยา"})]})]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx(L,{type:"submit",variant:"primary",className:"flex-1",disabled:a,children:a?c.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:i==="create"?"กำลังเพิ่ม...":"กำลังอัปเดต..."})]}):i==="create"?"เพิ่มวัสดุ":"อัปเดตวัสดุ"}),c.jsx(L,{type:"button",variant:"secondary",onClick:e,disabled:a,children:"ยกเลิก"})]})]})}),c.jsx(op,{isOpen:o,onClose:()=>s(!1),onScan:h,title:"สแกนบาร์โค้ดวัสดุ"})]})}function v3(){const{materials:t,loading:e,error:r,addMaterial:n,updateMaterial:i,deleteMaterial:a}=N2(),[o,s]=k.useState(!1),[l,u]=k.useState(null),[d,f]=k.useState(""),[h,p]=k.useState(""),[v,g]=k.useState(!1),E=t.filter(S=>{var O,Y;const N=S.name.toLowerCase().includes(d.toLowerCase())||((O=S.category)==null?void 0:O.toLowerCase().includes(d.toLowerCase()))||((Y=S.barcode)==null?void 0:Y.toLowerCase().includes(d.toLowerCase())),R=!h||S.category===h;return N&&R}),m=Array.from(new Set(t.map(S=>S.category).filter(Boolean))),x=async S=>{try{g(!0),await n(S),alert("เพิ่มวัสดุสำเร็จ")}catch{alert("เกิดข้อผิดพลาดในการเพิ่มวัสดุ")}finally{g(!1)}},y=async S=>{if(l)try{g(!0),await i(l.id,S),u(null),alert("อัปเดตวัสดุสำเร็จ")}catch{alert("เกิดข้อผิดพลาดในการอัปเดตวัสดุ")}finally{g(!1)}},_=async S=>{const N=t.find(R=>R.id===S);if(N&&confirm(`คุณแน่ใจหรือไม่ที่จะลบวัสดุ ${N.name}?`))try{g(!0),await a(S),alert("ลบวัสดุสำเร็จ")}catch{alert("เกิดข้อผิดพลาดในการลบวัสดุ")}finally{g(!1)}},w=S=>{u(S),s(!0)},C=()=>{s(!1),u(null)};return e?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"h-8 w-48 bg-white/10 rounded animate-pulse mb-2"}),c.jsx("div",{className:"h-4 w-64 bg-white/10 rounded animate-pulse"})]}),c.jsx("div",{className:"h-10 w-32 bg-white/10 rounded animate-pulse"})]}),c.jsx("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl p-4",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsx("div",{className:"flex-1 h-10 bg-white/10 rounded animate-pulse"}),c.jsx("div",{className:"h-10 w-32 bg-white/10 rounded animate-pulse"})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((S,N)=>c.jsx("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-lg animate-pulse"}),c.jsxs("div",{className:"flex-1 space-y-3",children:[c.jsx("div",{className:"h-6 w-3/4 bg-white/10 rounded animate-pulse"}),c.jsx("div",{className:"h-4 w-1/2 bg-white/10 rounded animate-pulse"}),c.jsx("div",{className:"h-4 w-full bg-white/10 rounded animate-pulse"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("div",{className:"h-4 bg-white/10 rounded animate-pulse"}),c.jsx("div",{className:"h-4 bg-white/10 rounded animate-pulse"})]})]})]})},N))})]}):r?c.jsx("div",{className:"text-center text-red-400 p-8",children:c.jsxs("p",{children:["เกิดข้อผิดพลาด: ",r]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"จัดการวัสดุ"}),c.jsx("p",{className:"text-white/60",children:"จัดการข้อมูลวัสดุและอุปกรณ์ในระบบ"})]}),c.jsxs(L,{onClick:()=>s(!0),className:"flex items-center space-x-2",children:[c.jsx(hr,{className:"w-4 h-4"}),c.jsx("span",{children:"เพิ่มวัสดุใหม่"})]})]}),c.jsx(U,{className:"p-4",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"ค้นหาวัสดุ...",value:d,onChange:S=>f(S.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),c.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"pl-10 pr-8 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"ทุกหมวดหมู่"}),m.map(S=>c.jsx("option",{value:S,children:S},S))]})]})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(S=>c.jsx(I2,{material:S,onEdit:w,onDelete:_},S.id))}),E.length===0&&c.jsxs(U,{className:"p-12 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(hr,{className:"w-8 h-8 text-white/40"})}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"ไม่พบวัสดุ"}),c.jsx("p",{className:"text-white/60 mb-4",children:d||h?"ไม่พบวัสดุที่ตรงกับเงื่อนไขการค้นหา":"ยังไม่มีวัสดุในระบบ"}),c.jsxs(L,{onClick:()=>s(!0),className:"flex items-center space-x-2",children:[c.jsx(hr,{className:"w-4 h-4"}),c.jsx("span",{children:"เพิ่มวัสดุแรก"})]})]}),c.jsx(p3,{isOpen:o,onClose:C,onSubmit:l?y:x,initialData:l||void 0,mode:l?"edit":"create",isSubmitting:v})]})}function Uc(){const{dispatch:t}=ar();return{addNotification:n=>{const i={...n,id:Date.now().toString(),createdAt:new Date,isRead:!1};t({type:"ADD_NOTIFICATION",payload:i}),(n.type==="success"||n.type==="info")&&setTimeout(()=>{t({type:"MARK_NOTIFICATION_READ",payload:i.id})},5e3)},markAsRead:n=>{t({type:"MARK_NOTIFICATION_READ",payload:n})}}}function x3({request:t,onView:e,onApprove:r,onReject:n,showActions:i=!1}){const a=()=>{switch(t.status){case"pending":return c.jsx(nr,{className:"w-5 h-5 text-yellow-400"});case"approved":return c.jsx(st,{className:"w-5 h-5 text-green-400"});case"rejected":return c.jsx(Cn,{className:"w-5 h-5 text-red-400"});case"partially_approved":return c.jsx(ga,{className:"w-5 h-5 text-orange-400"});case"completed":return c.jsx(st,{className:"w-5 h-5 text-blue-400"});default:return c.jsx(nr,{className:"w-5 h-5 text-gray-400"})}},o=()=>{switch(t.status){case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"approved":return"bg-green-500/20 text-green-400 border-green-500/30";case"rejected":return"bg-red-500/20 text-red-400 border-red-500/30";case"partially_approved":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"completed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},s=()=>{switch(t.urgencyLevel){case"urgent":return"bg-red-500/20 text-red-400 border-red-500/30";case"high":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"low":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return c.jsx(U,{className:"p-6 hover:scale-105 transition-transform duration-300",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:t.requestNumber}),c.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[c.jsx(xi,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white/80 text-sm",children:t.requester.name}),c.jsx("span",{className:"text-white/60",children:"•"}),t.urgencyLevel==="low"?"ต่ำ":t.urgencyLevel==="medium"?"ปานกลาง":t.urgencyLevel==="high"?"สูง":"เร่งด่วน"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${s()}`,children:t.status==="pending"?"รอดำเนินการ":t.status==="approved"?"อนุมัติแล้ว":t.status==="rejected"?"ปฏิเสธ":t.status==="completed"?"เสร็จสิ้น":"อนุมัติบางส่วน"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[a(),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${o()}`,children:t.status.replace("_"," ").toUpperCase()})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs",children:"วันที่ขอ"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Sa,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white text-sm",children:t.requestDate.toLocaleDateString()})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs",children:"รายการทั้งหมด"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(An,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white text-sm",children:t.items.length})]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs",children:"เหตุผล"}),c.jsx("p",{className:"text-white/80 text-sm",children:t.reason})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs mb-2",children:"รายการ"}),c.jsxs("div",{className:"space-y-1",children:[t.items.slice(0,3).map((l,u)=>c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-white/80",children:l.material.name}),c.jsxs("span",{className:"text-white/60",children:[l.requestedQuantity," ",l.material.unit]})]},u)),t.items.length>3&&c.jsxs("p",{className:"text-white/60 text-xs",children:["+",t.items.length-3," รายการเพิ่มเติม"]})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/10",children:[c.jsx("span",{className:"text-white/60 text-sm",children:"มูลค่ารวม"}),c.jsxs("span",{className:"text-white font-semibold",children:["₿",t.totalValue.toLocaleString()]})]}),c.jsxs("div",{className:"flex space-x-2 pt-2",children:[c.jsxs(L,{size:"sm",variant:"secondary",onClick:()=>e(t),className:"flex items-center space-x-1 flex-1",children:[c.jsx(y1,{className:"w-4 h-4"}),c.jsx("span",{children:"ดูรายละเอียด"})]}),i&&t.status==="pending"&&c.jsxs(c.Fragment,{children:[r&&c.jsx(L,{size:"sm",variant:"success",onClick:()=>r(t.id),className:"flex-1",children:"อนุมัติ"}),n&&c.jsx(L,{size:"sm",variant:"danger",onClick:()=>n(t.id),className:"flex-1",children:"ปฏิเสธ"})]})]})]})})}function g3({isOpen:t,onClose:e,onSubmit:r}){var _;const{state:n}=ar(),[i,a]=k.useState(!1),[o,s]=k.useState(!1),[l,u]=k.useState(""),[d,f]=k.useState([]),[h,p]=k.useState({department:((_=n.currentUser)==null?void 0:_.department)||"",reason:"",urgencyLevel:"medium",expectedDate:"",notes:""}),v=n.materials.filter(w=>{var C;return w.name.toLowerCase().includes(l.toLowerCase())||w.category.toLowerCase().includes(l.toLowerCase())||((C=w.barcode)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))}),g=w=>{var C,S;if(w.preventDefault(),d.length===0){alert("Please add at least one item to the request");return}r({requesterId:((C=n.currentUser)==null?void 0:C.id)||"",requester:n.currentUser,department:h.department,items:d,reason:h.reason,urgencyLevel:h.urgencyLevel,expectedDate:h.expectedDate?new Date(h.expectedDate):void 0,notes:h.notes}),f([]),p({department:((S=n.currentUser)==null?void 0:S.department)||"",reason:"",urgencyLevel:"medium",expectedDate:"",notes:""}),e()},E=w=>{if(d.find(S=>S.materialId===w.id))f(S=>S.map(N=>N.materialId===w.id?{...N,requestedQuantity:N.requestedQuantity+1}:N));else{const S={materialId:w.id,material:w,requestedQuantity:1};f(N=>[...N,S])}s(!1)},m=(w,C)=>{C<=0?f(S=>S.filter(N=>N.materialId!==w)):f(S=>S.map(N=>N.materialId===w?{...N,requestedQuantity:C}:N))},x=w=>{const C=n.materials.find(S=>S.barcode===w);C?E(C):alert(`Material with barcode ${w} not found`),a(!1)},y=d.reduce((w,C)=>w+C.requestedQuantity*C.material.pricePerUnit,0);return c.jsxs(c.Fragment,{children:[c.jsx(mr,{isOpen:t,onClose:e,title:"Create Material Request",size:"xl",children:c.jsxs("form",{onSubmit:g,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Department *"}),c.jsx("input",{type:"text",value:h.department,onChange:w=>p(C=>({...C,department:w.target.value})),required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Urgency Level *"}),c.jsxs("select",{value:h.urgencyLevel,onChange:w=>p(C=>({...C,urgencyLevel:w.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"medium",children:"Medium"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Expected Date"}),c.jsx("input",{type:"date",value:h.expectedDate,onChange:w=>p(C=>({...C,expectedDate:w.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Reason for Request *"}),c.jsx("input",{type:"text",value:h.reason,onChange:w=>p(C=>({...C,reason:w.target.value})),required:!0,placeholder:"Brief reason for this request",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Request Items"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(L,{type:"button",variant:"secondary",onClick:()=>a(!0),className:"flex items-center space-x-2",children:[c.jsx(hs,{className:"w-4 h-4"}),c.jsx("span",{children:"Scan"})]}),c.jsxs(L,{type:"button",variant:"secondary",onClick:()=>s(!0),className:"flex items-center space-x-2",children:[c.jsx(hr,{className:"w-4 h-4"}),c.jsx("span",{children:"Add Item"})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[d.map(w=>c.jsx(U,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-white font-medium",children:w.material.name}),c.jsx("p",{className:"text-white/60 text-sm",children:w.material.category}),c.jsxs("p",{className:"text-white/80 text-sm",children:["₿",w.material.pricePerUnit," per ",w.material.unit]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(L,{type:"button",size:"sm",variant:"secondary",onClick:()=>m(w.materialId,w.requestedQuantity-1),children:c.jsx(eg,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-white font-medium w-12 text-center",children:w.requestedQuantity}),c.jsx(L,{type:"button",size:"sm",variant:"secondary",onClick:()=>m(w.materialId,w.requestedQuantity+1),children:c.jsx(hr,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:"text-white font-medium",children:["₿",(w.requestedQuantity*w.material.pricePerUnit).toLocaleString()]})}),c.jsx(L,{type:"button",size:"sm",variant:"danger",onClick:()=>m(w.materialId,0),children:c.jsx(bc,{className:"w-4 h-4"})})]})]})},w.materialId)),d.length===0&&c.jsx(U,{className:"p-8 text-center",children:c.jsx("p",{className:"text-white/60",children:'No items added yet. Click "Add Item" or "Scan" to add materials.'})})]}),d.length>0&&c.jsx(U,{className:"p-4 mt-4 bg-blue-500/10 border-blue-500/30",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-white font-medium",children:"Total Request Value:"}),c.jsxs("span",{className:"text-blue-400 font-bold text-lg",children:["₿",y.toLocaleString()]})]})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Additional Notes"}),c.jsx("textarea",{value:h.notes,onChange:w=>p(C=>({...C,notes:w.target.value})),rows:3,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Any additional information or special instructions"})]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx(L,{type:"submit",variant:"primary",className:"flex-1",children:"Submit Request"}),c.jsx(L,{type:"button",variant:"secondary",onClick:e,children:"Cancel"})]})]})}),c.jsx(mr,{isOpen:o,onClose:()=>s(!1),title:"Select Materials",size:"lg",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(vi,{className:"w-5 h-5 text-white/60 absolute left-3 top-1/2 transform -translate-y-1/2"}),c.jsx("input",{type:"text",placeholder:"Search materials...",value:l,onChange:w=>u(w.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:v.map(w=>c.jsx(U,{className:"p-4 cursor-pointer hover:bg-white/15",onClick:()=>E(w),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-medium",children:w.name}),c.jsx("p",{className:"text-white/60 text-sm",children:w.category}),c.jsxs("p",{className:"text-white/80 text-sm",children:["Stock: ",w.stockQuantity," ",w.unit," | ₿",w.pricePerUnit]})]}),c.jsx(L,{size:"sm",variant:"primary",children:"Add"})]})},w.id))})]})}),c.jsx(op,{isOpen:i,onClose:()=>a(!1),onScan:x,title:"Scan Material Barcode"})]})}function m3({isOpen:t,onClose:e,request:r,onApprove:n,onReject:i,showActions:a=!1}){if(!r)return null;const o=()=>{switch(r.status){case"pending":return c.jsx(nr,{className:"w-5 h-5 text-yellow-400"});case"approved":return c.jsx(st,{className:"w-5 h-5 text-green-400"});case"rejected":return c.jsx(Cn,{className:"w-5 h-5 text-red-400"});case"partially_approved":return c.jsx(ga,{className:"w-5 h-5 text-orange-400"});case"completed":return c.jsx(st,{className:"w-5 h-5 text-blue-400"});default:return c.jsx(nr,{className:"w-5 h-5 text-gray-400"})}};return c.jsx(mr,{isOpen:t,onClose:e,title:"Request Details",size:"xl",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(U,{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:r.requestNumber}),c.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o(),c.jsx("span",{className:"text-white/80 capitalize",children:r.status.replace("_"," ")})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-white/60 text-sm",children:"Total Value"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:["₿",r.totalValue.toLocaleString()]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx(xi,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white/60 text-sm",children:"Requester"})]}),c.jsx("p",{className:"text-white font-medium",children:r.requester.name}),c.jsx("p",{className:"text-white/60 text-sm",children:r.department})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx(Sa,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white/60 text-sm",children:"Request Date"})]}),c.jsx("p",{className:"text-white",children:r.requestDate.toLocaleDateString()})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx(ga,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white/60 text-sm",children:"Urgency"})]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${r.urgencyLevel==="urgent"?"bg-red-500/20 text-red-400":r.urgencyLevel==="high"?"bg-orange-500/20 text-orange-400":r.urgencyLevel==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:r.urgencyLevel.toUpperCase()})]})]})]}),c.jsxs(U,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[c.jsx(w1,{className:"w-5 h-5 text-white/60"}),c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Request Reason"})]}),c.jsx("p",{className:"text-white/80",children:r.reason}),r.notes&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"text-white/60 text-sm mb-2",children:"Additional Notes"}),c.jsx("p",{className:"text-white/80",children:r.notes})]})]}),c.jsxs(U,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(An,{className:"w-5 h-5 text-white/60"}),c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Requested Items"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-white/70 text-sm border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2",children:"Material"}),c.jsx("th",{className:"text-left py-2",children:"Category"}),c.jsx("th",{className:"text-right py-2",children:"Requested"}),c.jsx("th",{className:"text-right py-2",children:"Unit Price"}),c.jsx("th",{className:"text-right py-2",children:"Total"}),r.status!=="pending"&&c.jsx("th",{className:"text-right py-2",children:"Approved"})]})}),c.jsx("tbody",{className:"text-white",children:r.items.map((s,l)=>c.jsxs("tr",{className:"border-b border-white/5",children:[c.jsx("td",{className:"py-3",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:s.material.name}),c.jsx("p",{className:"text-white/60 text-sm",children:s.material.description})]})}),c.jsx("td",{className:"py-3 text-white/80",children:s.material.category}),c.jsxs("td",{className:"py-3 text-right",children:[s.requestedQuantity," ",s.material.unit]}),c.jsxs("td",{className:"py-3 text-right",children:["₿",s.material.pricePerUnit]}),c.jsxs("td",{className:"py-3 text-right font-medium",children:["₿",(s.requestedQuantity*s.material.pricePerUnit).toLocaleString()]}),r.status!=="pending"&&c.jsx("td",{className:"py-3 text-right",children:s.approvedQuantity!==void 0?c.jsxs("span",{className:s.approvedQuantity===s.requestedQuantity?"text-green-400":"text-orange-400",children:[s.approvedQuantity," ",s.material.unit]}):c.jsx("span",{className:"text-white/60",children:"-"})})]},l))})]})})]}),r.approvals.length>0&&c.jsxs(U,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Approval History"}),c.jsx("div",{className:"space-y-3",children:r.approvals.map((s,l)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:s.approver.name}),c.jsxs("p",{className:"text-white/60 text-sm",children:["Level ",s.level," Approver"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[s.status==="approved"&&c.jsx(st,{className:"w-4 h-4 text-green-400"}),s.status==="rejected"&&c.jsx(Cn,{className:"w-4 h-4 text-red-400"}),s.status==="pending"&&c.jsx(nr,{className:"w-4 h-4 text-yellow-400"}),c.jsx("span",{className:`text-sm capitalize ${s.status==="approved"?"text-green-400":s.status==="rejected"?"text-red-400":"text-yellow-400"}`,children:s.status})]}),s.approvedDate&&c.jsx("p",{className:"text-white/60 text-xs",children:s.approvedDate.toLocaleDateString()})]})]},l))})]}),a&&r.status==="pending"&&c.jsxs("div",{className:"flex space-x-3",children:[n&&c.jsx(L,{variant:"success",onClick:()=>n(r.id),className:"flex-1",children:"Approve Request"}),i&&c.jsx(L,{variant:"danger",onClick:()=>i(r.id),className:"flex-1",children:"Reject Request"})]})]})})}function y3(){var m,x;const{state:t,dispatch:e}=ar(),{addNotification:r}=Uc(),[n,i]=k.useState(!1),[a,o]=k.useState(null),[s,l]=k.useState(""),[u,d]=k.useState(""),[f,h]=k.useState(""),p=t.requests.filter(y=>{const _=y.requestNumber.toLowerCase().includes(s.toLowerCase())||y.requester.name.toLowerCase().includes(s.toLowerCase())||y.department.toLowerCase().includes(s.toLowerCase()),w=!u||y.status===u,C=!f||y.urgencyLevel===f;return _&&w&&C}),v=y=>{var C;const _=y.items.reduce((S,N)=>S+N.requestedQuantity*N.material.pricePerUnit,0),w={...y,id:Date.now().toString(),requestNumber:`REQ-${String(Date.now()).slice(-6)}`,requestDate:new Date,status:"pending",approvals:[],totalValue:_};e({type:"ADD_REQUEST",payload:w}),r({userId:((C=t.currentUser)==null?void 0:C.id)||"",title:"Request Submitted",message:`Request ${w.requestNumber} has been submitted for approval`,type:"success"})},g=y=>{var C;const _=t.requests.find(S=>S.id===y);if(!_)return;const w={..._,status:"approved"};e({type:"UPDATE_REQUEST",payload:w}),r({userId:((C=t.currentUser)==null?void 0:C.id)||"",title:"Request Approved",message:`Request ${_.requestNumber} has been approved`,type:"success"})},E=y=>{var C;const _=t.requests.find(S=>S.id===y);if(!_)return;const w={..._,status:"rejected"};e({type:"UPDATE_REQUEST",payload:w}),r({userId:((C=t.currentUser)==null?void 0:C.id)||"",title:"Request Rejected",message:`Request ${_.requestNumber} has been rejected`,type:"warning"})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"คำขอเบิกวัสดุ"}),c.jsx("p",{className:"text-white/60",children:"ส่งคำขอใหม่และติดตามสถานะคำขอเบิกวัสดุ"})]}),c.jsxs(L,{onClick:()=>i(!0),className:"flex items-center space-x-2",children:[c.jsx(hr,{className:"w-5 h-5"}),c.jsx("span",{children:"คำขอใหม่"})]})]}),c.jsx(U,{className:"p-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(vi,{className:"w-5 h-5 text-white/60 absolute left-3 top-1/2 transform -translate-y-1/2"}),c.jsx("input",{type:"text",placeholder:"ค้นหาเลขที่คำขอ, ชื่อผู้ขอ หรือแผนก...",value:s,onChange:y=>l(y.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(fs,{className:"w-5 h-5 text-white/60 absolute left-3 top-1/2 transform -translate-y-1/2"}),c.jsxs("select",{value:u,onChange:y=>d(y.target.value),className:"pl-10 pr-8 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"สถานะทั้งหมด"}),c.jsx("option",{value:"pending",children:"รอดำเนินการ"}),c.jsx("option",{value:"approved",children:"อนุมัติแล้ว"}),c.jsx("option",{value:"rejected",children:"ปฏิเสธ"}),c.jsx("option",{value:"completed",children:"เสร็จสิ้น"})]})]}),c.jsx("div",{className:"relative",children:c.jsxs("select",{value:f,onChange:y=>h(y.target.value),className:"px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"ความเร่งด่วนทั้งหมด"}),c.jsx("option",{value:"low",children:"ต่ำ"}),c.jsx("option",{value:"medium",children:"ปานกลาง"}),c.jsx("option",{value:"high",children:"สูง"}),c.jsx("option",{value:"urgent",children:"เร่งด่วน"})]})})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(y=>{var _,w;return c.jsx(x3,{request:y,onView:o,onApprove:g,onReject:E,showActions:((_=t.currentUser)==null?void 0:_.role)==="manager"||((w=t.currentUser)==null?void 0:w.role)==="admin"},y.id)})}),p.length===0&&c.jsxs(U,{className:"p-12 text-center",children:[c.jsx("p",{className:"text-white/60 text-lg",children:s||u||f?"ไม่พบคำขอที่ตรงกับเงื่อนไขการค้นหา":"ยังไม่มีคำขอในระบบ"}),!s&&!u&&!f&&c.jsx(L,{onClick:()=>i(!0),className:"mt-4",children:"ส่งคำขอรายการแรก"})]}),c.jsx(g3,{isOpen:n,onClose:()=>i(!1),onSubmit:v}),c.jsx(m3,{isOpen:!!a,onClose:()=>o(null),request:a,onApprove:g,onReject:E,showActions:((m=t.currentUser)==null?void 0:m.role)==="manager"||((x=t.currentUser)==null?void 0:x.role)==="admin"})]})}function w3({isOpen:t,onClose:e,onSubmit:r,initialData:n,mode:i}){const[a,o]=k.useState({name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",role:(n==null?void 0:n.role)||"employee",department:(n==null?void 0:n.department)||"",avatar:(n==null?void 0:n.avatar)||"",isActive:(n==null?void 0:n.isActive)??!0}),s=u=>{u.preventDefault(),r(a),e()},l=u=>{const{name:d,value:f,type:h}=u.target;o(p=>({...p,[d]:h==="checkbox"?u.target.checked:f}))};return c.jsx(mr,{isOpen:t,onClose:e,title:i==="create"?"เพิ่มผู้ใช้ใหม่":"แก้ไขผู้ใช้",size:"md",children:c.jsxs("form",{onSubmit:s,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"ชื่อ-นามสกุล *"}),c.jsx("input",{type:"text",name:"name",value:a.name,onChange:l,required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกชื่อ-นามสกุล"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"อีเมล *"}),c.jsx("input",{type:"email",name:"email",value:a.email,onChange:l,required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกที่อยู่อีเมล"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"บทบาท *"}),c.jsxs("select",{name:"role",value:a.role,onChange:l,required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"employee",children:"พนักงาน"}),c.jsx("option",{value:"manager",children:"ผู้จัดการ"}),c.jsx("option",{value:"admin",children:"ผู้ดูแลระบบ"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"แผนก *"}),c.jsx("input",{type:"text",name:"department",value:a.department,onChange:l,required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกแผนก"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"URL รูปโปรไฟล์"}),c.jsx("input",{type:"url",name:"avatar",value:a.avatar,onChange:l,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอก URL รูปโปรไฟล์"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",name:"isActive",checked:a.isActive,onChange:l,className:"rounded border-white/20 bg-white/10 text-blue-500 focus:ring-blue-500"}),c.jsx("label",{className:"text-sm text-white/80",children:"ผู้ใช้สามารถใช้งานได้"})]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx(L,{type:"submit",variant:"primary",className:"flex-1",children:i==="create"?"เพิ่มผู้ใช้":"อัปเดตผู้ใช้"}),c.jsx(L,{type:"button",variant:"secondary",onClick:e,children:"ยกเลิก"})]})]})})}function _3(){const{state:t,dispatch:e}=ar(),{addNotification:r}=Uc(),[n,i]=k.useState(!1),[a,o]=k.useState(null),[s,l]=k.useState(""),[u,d]=k.useState(""),[f,h]=k.useState(""),p=t.users.filter(w=>{const C=w.name.toLowerCase().includes(s.toLowerCase())||w.email.toLowerCase().includes(s.toLowerCase()),S=!u||w.role===u,N=!f||w.department===f;return C&&S&&N}),v=Array.from(new Set(t.users.map(w=>w.department))),g=w=>{var S;const C={...w,id:Date.now().toString(),createdAt:new Date};e({type:"ADD_USER",payload:C}),r({userId:((S=t.currentUser)==null?void 0:S.id)||"",title:"User Added",message:`${C.name} has been added to the system`,type:"success"})},E=w=>{var S;if(!a)return;const C={...w,id:a.id,createdAt:a.createdAt};e({type:"UPDATE_USER",payload:C}),r({userId:((S=t.currentUser)==null?void 0:S.id)||"",title:"User Updated",message:`${C.name} has been updated`,type:"success"}),o(null)},m=w=>{var S;const C=t.users.find(N=>N.id===w);C&&confirm(`Are you sure you want to delete ${C.name}?`)&&(e({type:"DELETE_USER",payload:w}),r({userId:((S=t.currentUser)==null?void 0:S.id)||"",title:"User Deleted",message:`${C.name} has been removed from the system`,type:"info"}))},x=w=>{o(w),i(!0)},y=()=>{i(!1),o(null)},_=w=>{switch(w){case"admin":return"bg-red-500/20 text-red-400 border-red-500/30";case"manager":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"employee":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"จัดการผู้ใช้"}),c.jsx("p",{className:"text-white/60",children:"เพิ่ม แก้ไข และจัดการสิทธิ์ผู้ใช้ระบบ"})]}),c.jsxs(L,{onClick:()=>i(!0),className:"flex items-center space-x-2",children:[c.jsx(hr,{className:"w-5 h-5"}),c.jsx("span",{children:"เพิ่มผู้ใช้"})]})]}),c.jsx(U,{className:"p-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(vi,{className:"w-5 h-5 text-white/60 absolute left-3 top-1/2 transform -translate-y-1/2"}),c.jsx("input",{type:"text",placeholder:"ค้นหาชื่อผู้ใช้หรืออีเมล...",value:s,onChange:w=>l(w.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(fs,{className:"w-5 h-5 text-white/60 absolute left-3 top-1/2 transform -translate-y-1/2"}),c.jsxs("select",{value:u,onChange:w=>d(w.target.value),className:"pl-10 pr-8 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"บทบาททั้งหมด"}),c.jsx("option",{value:"admin",children:"ผู้ดูแลระบบ"}),c.jsx("option",{value:"manager",children:"ผู้จัดการ"}),c.jsx("option",{value:"employee",children:"พนักงาน"})]})]}),c.jsx("div",{className:"relative",children:c.jsxs("select",{value:f,onChange:w=>h(w.target.value),className:"px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"แผนกทั้งหมด"}),v.map(w=>c.jsx("option",{value:w,children:w},w))]})})]})}),c.jsxs(U,{className:"p-6",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-white/70 text-sm border-b border-white/10",children:[c.jsx("th",{className:"text-left py-3",children:"ผู้ใช้"}),c.jsx("th",{className:"text-left py-3",children:"บทบาท"}),c.jsx("th",{className:"text-left py-3",children:"แผนก"}),c.jsx("th",{className:"text-left py-3",children:"สถานะ"}),c.jsx("th",{className:"text-left py-3",children:"วันที่สร้าง"}),c.jsx("th",{className:"text-right py-3",children:"การดำเนินการ"})]})}),c.jsx("tbody",{className:"text-white",children:p.map(w=>c.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[c.jsx("td",{className:"py-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[w.avatar?c.jsx("img",{src:w.avatar,alt:w.name,className:"w-10 h-10 rounded-full object-cover"}):c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:c.jsx(xi,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:w.name}),c.jsx("p",{className:"text-white/60 text-sm",children:w.email})]})]})}),c.jsx("td",{className:"py-4",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${_(w.role)}`,children:w.role==="admin"?"ผู้ดูแลระบบ":w.role==="manager"?"ผู้จัดการ":"พนักงาน"})}),c.jsx("td",{className:"py-4 text-white/80",children:w.department}),c.jsx("td",{className:"py-4",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${w.isActive?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:w.isActive?"ใช้งาน":"ไม่ใช้งาน"})}),c.jsx("td",{className:"py-4 text-white/80",children:w.createdAt.toLocaleDateString()}),c.jsx("td",{className:"py-4",children:c.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[c.jsx(L,{size:"sm",variant:"secondary",onClick:()=>x(w),className:"flex items-center space-x-1",children:c.jsx(_1,{className:"w-4 h-4"})}),c.jsx(L,{size:"sm",variant:"danger",onClick:()=>m(w.id),className:"flex items-center space-x-1",children:c.jsx(ps,{className:"w-4 h-4"})})]})})]},w.id))})]})}),p.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-white/60 text-lg",children:s||u||f?"ไม่พบผู้ใช้ที่ตรงกับเงื่อนไขการค้นหา":"ยังไม่มีผู้ใช้ในระบบ"}),!s&&!u&&!f&&c.jsx(L,{onClick:()=>i(!0),className:"mt-4",children:"เพิ่มผู้ใช้รายการแรก"})]})]}),c.jsx(w3,{isOpen:n,onClose:y,onSubmit:a?E:g,initialData:a||void 0,mode:a?"edit":"create"})]})}function E3(){const{state:t}=ar(),[e,r]=k.useState("month"),[n,i]=k.useState("overview"),a=[{id:"overview",name:"Overview Report",icon:m1},{id:"materials",name:"Materials Report",icon:An},{id:"requests",name:"Requests Report",icon:Go},{id:"users",name:"Users Report",icon:ou},{id:"financial",name:"Financial Report",icon:Qd}],o=[{id:"week",name:"This Week"},{id:"month",name:"This Month"},{id:"quarter",name:"This Quarter"},{id:"year",name:"This Year"}],s=()=>{var u,d;alert(`Generating ${(u=a.find(f=>f.id===n))==null?void 0:u.name} for ${(d=o.find(f=>f.id===e))==null?void 0:d.name}`)},l=u=>{alert(`Exporting report as ${u.toUpperCase()}`)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"รายงานและการวิเคราะห์"}),c.jsx("p",{className:"text-white/60",children:"สร้างรายงานและวิเคราะห์ข้อมูลการใช้วัสดุ"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(L,{variant:"secondary",onClick:()=>l("pdf"),className:"flex items-center space-x-2",children:[c.jsx(Jd,{className:"w-4 h-4"}),c.jsx("span",{children:"ส่งออก PDF"})]}),c.jsxs(L,{variant:"secondary",onClick:()=>l("excel"),className:"flex items-center space-x-2",children:[c.jsx(Jd,{className:"w-4 h-4"}),c.jsx("span",{children:"ส่งออก Excel"})]})]})]}),c.jsxs(U,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"การตั้งค่ารายงาน"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-3",children:"ประเภทรายงาน"}),c.jsx("div",{className:"space-y-2",children:a.map(u=>{const d=u.icon;return c.jsxs("button",{onClick:()=>i(u.id),className:`w-full flex items-center space-x-3 p-3 rounded-lg transition-colors ${n===u.id?"bg-blue-500/20 border border-blue-500/30 text-blue-400":"bg-white/5 hover:bg-white/10 text-white/80"}`,children:[c.jsx(d,{className:"w-5 h-5"}),c.jsx("span",{children:u.name})]},u.id)})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-3",children:"ช่วงเวลา"}),c.jsx("div",{className:"space-y-2",children:o.map(u=>c.jsxs("button",{onClick:()=>r(u.id),className:`w-full flex items-center space-x-3 p-3 rounded-lg transition-colors ${e===u.id?"bg-blue-500/20 border border-blue-500/30 text-blue-400":"bg-white/5 hover:bg-white/10 text-white/80"}`,children:[c.jsx(Sa,{className:"w-5 h-5"}),c.jsx("span",{children:u.name})]},u.id))})]})]}),c.jsx("div",{className:"mt-6",children:c.jsx(L,{onClick:s,className:"w-full",children:"สร้างรายงาน"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(U,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-sm",children:"Total Requests"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:t.dashboardStats.totalRequests}),c.jsxs("div",{className:"flex items-center mt-1 text-green-400 text-sm",children:[c.jsx(Li,{className:"w-4 h-4 mr-1"}),c.jsx("span",{children:"+12%"})]})]}),c.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:c.jsx(Go,{className:"w-6 h-6 text-blue-400"})})]})}),c.jsx(U,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-sm",children:"Total Materials"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:t.materials.length}),c.jsxs("div",{className:"flex items-center mt-1 text-green-400 text-sm",children:[c.jsx(Li,{className:"w-4 h-4 mr-1"}),c.jsx("span",{children:"+5%"})]})]}),c.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:c.jsx(An,{className:"w-6 h-6 text-green-400"})})]})}),c.jsx(U,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-sm",children:"Active Users"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:t.users.filter(u=>u.isActive).length}),c.jsxs("div",{className:"flex items-center mt-1 text-green-400 text-sm",children:[c.jsx(Li,{className:"w-4 h-4 mr-1"}),c.jsx("span",{children:"+8%"})]})]}),c.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:c.jsx(ou,{className:"w-6 h-6 text-purple-400"})})]})}),c.jsx(U,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-sm",children:"Total Value"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:["₿",t.dashboardStats.totalValue.toLocaleString()]}),c.jsxs("div",{className:"flex items-center mt-1 text-green-400 text-sm",children:[c.jsx(Li,{className:"w-4 h-4 mr-1"}),c.jsx("span",{children:"+15%"})]})]}),c.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:c.jsx(Qd,{className:"w-6 h-6 text-yellow-400"})})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(U,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Monthly Request Trend"}),c.jsx("div",{className:"space-y-3",children:t.dashboardStats.monthlyTrend.map(u=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-white/70",children:u.month}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-32 bg-white/10 rounded-full h-2 overflow-hidden",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full transition-all duration-1000",style:{width:`${u.requests/30*100}%`}})}),c.jsx("span",{className:"text-white font-medium w-8 text-right",children:u.requests})]})]},u.month))})]}),c.jsxs(U,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Material Categories"}),c.jsx("div",{className:"space-y-3",children:Array.from(new Set(t.materials.map(u=>u.category))).map(u=>{const d=t.materials.filter(h=>h.category===u).length,f=d/t.materials.length*100;return c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-white/70",children:u}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-32 bg-white/10 rounded-full h-2 overflow-hidden",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${f}%`}})}),c.jsx("span",{className:"text-white font-medium w-8 text-right",children:d})]})]},u)})})]})]}),c.jsxs(U,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),c.jsx("span",{className:"text-white/80",children:"New material request submitted by John Doe"}),c.jsx("span",{className:"text-white/60 text-sm ml-auto",children:"2 hours ago"})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),c.jsx("span",{className:"text-white/80",children:"Material stock updated for A4 Paper"}),c.jsx("span",{className:"text-white/60 text-sm ml-auto",children:"4 hours ago"})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),c.jsx("span",{className:"text-white/80",children:"Request REQ-001 approved by manager"}),c.jsx("span",{className:"text-white/60 text-sm ml-auto",children:"6 hours ago"})]})]})]})]})}function A3(){const{state:t}=ar(),{markAsRead:e}=Uc(),r=o=>{switch(o){case"success":return c.jsx(st,{className:"w-5 h-5 text-green-400"});case"warning":return c.jsx(Cc,{className:"w-5 h-5 text-yellow-400"});case"error":return c.jsx(Cn,{className:"w-5 h-5 text-red-400"});case"info":default:return c.jsx(Zx,{className:"w-5 h-5 text-blue-400"})}},n=o=>{switch(o){case"success":return"border-green-500/30";case"warning":return"border-yellow-500/30";case"error":return"border-red-500/30";case"info":default:return"border-blue-500/30"}},i=t.notifications.filter(o=>!o.isRead),a=t.notifications.filter(o=>o.isRead);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"การแจ้งเตือน"}),c.jsx("p",{className:"text-white/60",children:"ติดตามกิจกรรมและการแจ้งเตือนของระบบ"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ma,{className:"w-5 h-5 text-white/60"}),c.jsxs("span",{className:"text-white/80",children:[i.length," ยังไม่อ่าน"]})]})]}),i.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"การแจ้งเตือนที่ยังไม่อ่าน"}),c.jsx("div",{className:"space-y-3",children:i.map(o=>c.jsx(U,{className:`p-4 border-l-4 ${n(o.type)} bg-white/5`,children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:r(o.type)}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-white font-medium",children:o.title}),c.jsx("p",{className:"text-white/70 text-sm mt-1",children:o.message}),c.jsx("p",{className:"text-white/50 text-xs mt-2",children:o.createdAt.toLocaleString()})]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsxs(L,{size:"sm",variant:"secondary",onClick:()=>e(o.id),className:"flex items-center space-x-1",children:[c.jsx(st,{className:"w-4 h-4"}),c.jsx("span",{children:"ทำเครื่องหมายว่าอ่านแล้ว"})]})})]})},o.id))})]}),a.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"การแจ้งเตือนที่อ่านแล้ว"}),c.jsx("div",{className:"space-y-3",children:a.map(o=>c.jsx(U,{className:"p-4 opacity-60 hover:opacity-80 transition-opacity",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:r(o.type)}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-white font-medium",children:o.title}),c.jsx("p",{className:"text-white/70 text-sm mt-1",children:o.message}),c.jsx("p",{className:"text-white/50 text-xs mt-2",children:o.createdAt.toLocaleString()})]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx(L,{size:"sm",variant:"danger",className:"flex items-center space-x-1",children:c.jsx(ps,{className:"w-4 h-4"})})})]})},o.id))})]}),t.notifications.length===0&&c.jsxs(U,{className:"p-12 text-center",children:[c.jsx(ma,{className:"w-16 h-16 text-white/30 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"ไม่มีการแจ้งเตือน"}),c.jsx("p",{className:"text-white/60",children:"คุณได้อ่านการแจ้งเตือนทั้งหมดแล้ว ไม่มีการแจ้งเตือนใหม่ในขณะนี้"})]}),c.jsxs(U,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"การตั้งค่าการแจ้งเตือน"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-medium",children:"คำขอวัสดุ"}),c.jsx("p",{className:"text-white/60 text-sm",children:"รับการแจ้งเตือนเมื่อมีคำขอวัสดุใหม่"})]}),c.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-white/20 bg-white/10 text-blue-500 focus:ring-blue-500"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-medium",children:"แจ้งเตือนสต็อกต่ำ"}),c.jsx("p",{className:"text-white/60 text-sm",children:"รับการแจ้งเตือนเมื่อวัสดุใกล้หมด"})]}),c.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-white/20 bg-white/10 text-blue-500 focus:ring-blue-500"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-medium",children:"อัปเดตการอนุมัติ"}),c.jsx("p",{className:"text-white/60 text-sm",children:"รับการแจ้งเตือนเมื่อคำขอได้รับการอนุมัติหรือปฏิเสธ"})]}),c.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-white/20 bg-white/10 text-blue-500 focus:ring-blue-500"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-medium",children:"อัปเดตระบบ"}),c.jsx("p",{className:"text-white/60 text-sm",children:"รับการแจ้งเตือนเกี่ยวกับการบำรุงรักษาและอัปเดตระบบ"})]}),c.jsx("input",{type:"checkbox",className:"rounded border-white/20 bg-white/10 text-blue-500 focus:ring-blue-500"})]})]})]})]})}function C3(){const{state:t}=ar(),[e,r]=k.useState("profile"),n=[{id:"profile",name:"โปรไฟล์",icon:xi},{id:"notifications",name:"การแจ้งเตือน",icon:ma},{id:"security",name:"ความปลอดภัย",icon:sg},{id:"system",name:"ระบบ",icon:Zd},{id:"appearance",name:"รูปแบบ",icon:tg},{id:"general",name:"ทั่วไป",icon:Yx}],i=()=>{var a,o,s,l,u,d,f,h;switch(e){case"profile":return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("img",{src:((a=t.currentUser)==null?void 0:a.avatar)||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&dpr=1",alt:"Profile",className:"w-20 h-20 rounded-full object-cover"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-white",children:(o=t.currentUser)==null?void 0:o.name}),c.jsx("p",{className:"text-white/60",children:(s=t.currentUser)==null?void 0:s.email}),c.jsxs("p",{className:"text-white/60 text-sm",children:[(l=t.currentUser)==null?void 0:l.department," • ",(u=t.currentUser)==null?void 0:u.role]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Full Name"}),c.jsx("input",{type:"text",defaultValue:(d=t.currentUser)==null?void 0:d.name,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Email"}),c.jsx("input",{type:"email",defaultValue:(f=t.currentUser)==null?void 0:f.email,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Department"}),c.jsx("input",{type:"text",defaultValue:(h=t.currentUser)==null?void 0:h.department,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",placeholder:"Enter phone number",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]});case"notifications":return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Notification Preferences"}),c.jsx("div",{className:"space-y-4",children:[{name:"Email Notifications",desc:"Receive notifications via email"},{name:"Push Notifications",desc:"Receive browser push notifications"},{name:"Request Updates",desc:"Get notified about request status changes"},{name:"Low Stock Alerts",desc:"Get alerted when materials are running low"},{name:"Weekly Reports",desc:"Receive weekly summary reports"}].map((p,v)=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-medium",children:p.name}),c.jsx("p",{className:"text-white/60 text-sm",children:p.desc})]}),c.jsx("input",{type:"checkbox",defaultChecked:v<3,className:"rounded border-white/20 bg-white/10 text-blue-500 focus:ring-blue-500"})]},v))})]});case"security":return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Security Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Current Password"}),c.jsx("input",{type:"password",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"New Password"}),c.jsx("input",{type:"password",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Confirm New Password"}),c.jsx("input",{type:"password",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("div",{className:"border-t border-white/10 pt-6",children:[c.jsx("h4",{className:"text-white font-medium mb-4",children:"Two-Factor Authentication"}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white",children:"Enable 2FA"}),c.jsx("p",{className:"text-white/60 text-sm",children:"Add an extra layer of security to your account"})]}),c.jsx(L,{variant:"secondary",size:"sm",children:"Enable"})]})]})]});case"system":return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"System Configuration"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Default Currency"}),c.jsxs("select",{className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"btc",children:"Bitcoin (₿)"}),c.jsx("option",{value:"usd",children:"US Dollar ($)"}),c.jsx("option",{value:"eur",children:"Euro (€)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date Format"}),c.jsxs("select",{className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),c.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),c.jsx("option",{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Time Zone"}),c.jsxs("select",{className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"utc+7",children:"UTC+7 (Bangkok)"}),c.jsx("option",{value:"utc+0",children:"UTC+0 (London)"}),c.jsx("option",{value:"utc-5",children:"UTC-5 (New York)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Language"}),c.jsxs("select",{className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"th",children:"ไทย"}),c.jsx("option",{value:"en",children:"English"}),c.jsx("option",{value:"zh",children:"中文"})]})]})]}),c.jsxs("div",{className:"border-t border-white/10 pt-6",children:[c.jsx("h4",{className:"text-white font-medium mb-4",children:"Data Management"}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs(L,{variant:"secondary",className:"flex items-center space-x-2",children:[c.jsx(Zd,{className:"w-4 h-4"}),c.jsx("span",{children:"Backup Data"})]}),c.jsxs(L,{variant:"warning",className:"flex items-center space-x-2",children:[c.jsx(ng,{className:"w-4 h-4"}),c.jsx("span",{children:"Reset System"})]})]})]})]});case"appearance":return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Appearance Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-3",children:"Theme"}),c.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Dark","Light","Auto"].map(p=>c.jsx("button",{className:`p-4 rounded-lg border transition-colors ${p==="Dark"?"bg-blue-500/20 border-blue-500/30 text-blue-400":"bg-white/5 border-white/20 text-white/80 hover:bg-white/10"}`,children:p},p))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-3",children:"Accent Color"}),c.jsx("div",{className:"flex space-x-3",children:["blue","purple","green","orange","red"].map(p=>c.jsx("button",{className:`w-8 h-8 rounded-full bg-${p}-500 ${p==="blue"?"ring-2 ring-white/50":""}`},p))})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-medium",children:"Compact Mode"}),c.jsx("p",{className:"text-white/60 text-sm",children:"Use smaller spacing and components"})]}),c.jsx("input",{type:"checkbox",className:"rounded border-white/20 bg-white/10 text-blue-500 focus:ring-blue-500"})]})]})]});case"general":return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"General Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Organization Name"}),c.jsx("input",{type:"text",defaultValue:"MaterialFlow Corp",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Contact Email"}),c.jsx("input",{type:"email",defaultValue:"admin@materialflow.com",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Support Phone"}),c.jsx("input",{type:"tel",defaultValue:"+66 2 123 4567",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"border-t border-white/10 pt-6",children:[c.jsx("h4",{className:"text-white font-medium mb-4",children:"System Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"Version"}),c.jsx("p",{className:"text-white",children:"v2.1.0"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"Last Updated"}),c.jsx("p",{className:"text-white",children:"2024-01-15"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"Database"}),c.jsx("p",{className:"text-white",children:"Connected"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"Storage"}),c.jsx("p",{className:"text-white",children:"85% Used"})]})]})]})]})]});default:return null}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"ตั้งค่าระบบ"}),c.jsx("p",{className:"text-white/60",children:"จัดการบัญชีผู้ใช้และการตั้งค่าระบบ"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsx(U,{className:"p-4 lg:col-span-1",children:c.jsx("nav",{className:"space-y-1",children:n.map(a=>{const o=a.icon;return c.jsxs("button",{onClick:()=>r(a.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${e===a.id?"bg-blue-500/20 text-blue-400":"text-white/70 hover:bg-white/10 hover:text-white"}`,children:[c.jsx(o,{className:"w-5 h-5"}),c.jsx("span",{children:a.name})]},a.id)})})}),c.jsxs(U,{className:"p-6 lg:col-span-3",children:[i(),c.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-white/10",children:[c.jsx(L,{variant:"secondary",children:"Cancel"}),c.jsxs(L,{variant:"primary",className:"flex items-center space-x-2",children:[c.jsx(ig,{className:"w-4 h-4"}),c.jsx("span",{children:"Save Changes"})]})]})]})]})]})}class Tr{static async getAllRequests(){const{data:e,error:r}=await Je.from("budget_requests").select("*").order("created_at",{ascending:!1});if(r)throw console.error("Error fetching budget requests:",r),r;return e||[]}static async createRequest(e){const r=`REQ-${Date.now().toString().slice(-6)}`,{data:n,error:i}=await Je.from("budget_requests").insert([{...e,request_no:r}]).select().single();if(i)throw console.error("Error creating budget request:",i),i;return n}static async updateRequestStatus(e,r){const{data:n,error:i}=await Je.from("budget_requests").update({status:r}).eq("id",e).select().single();if(i)throw console.error("Error updating request status:",i),i;return n}static async addApproval(e){const{data:r,error:n}=await Je.from("approvals").insert([e]).select().single();if(n)throw console.error("Error adding approval:",n),n;const i=e.decision==="APPROVE"?"APPROVED":"REJECTED";return await this.updateRequestStatus(e.request_id,i),r}static async getApprovals(e){const{data:r,error:n}=await Je.from("approvals").select("*").eq("request_id",e).order("created_at");if(n)throw console.error("Error fetching approvals:",n),n;return r||[]}static async deleteRequest(e){const{error:r}=await Je.from("budget_requests").delete().eq("id",e);if(r)throw console.error("Error deleting budget request:",r),r}}function S3(){const[t,e]=k.useState([]),[r,n]=k.useState(!0),[i,a]=k.useState(null),o=async()=>{try{n(!0),a(null);const h=await Tr.getAllRequests();e(h)}catch(h){a(h instanceof Error?h.message:"เกิดข้อผิดพลาดในการดึงข้อมูลคำขอ")}finally{n(!1)}},s=async h=>{try{a(null);const p=await Tr.createRequest(h);return e(v=>[p,...v]),p}catch(p){throw a(p instanceof Error?p.message:"เกิดข้อผิดพลาดในการสร้างคำขอ"),p}},l=async(h,p,v)=>{try{a(null),await Tr.addApproval({request_id:h,decision:"APPROVE",remark:p,approver_name:v}),await o()}catch(g){throw a(g instanceof Error?g.message:"เกิดข้อผิดพลาดในการอนุมัติคำขอ"),g}},u=async(h,p,v)=>{try{a(null),await Tr.addApproval({request_id:h,decision:"REJECT",remark:p,approver_name:v}),await o()}catch(g){throw a(g instanceof Error?g.message:"เกิดข้อผิดพลาดในการปฏิเสธคำขอ"),g}},d=async h=>{try{return a(null),await Tr.getApprovals(h)}catch(p){throw a(p instanceof Error?p.message:"เกิดข้อผิดพลาดในการดึงข้อมูลการอนุมัติ"),p}},f=async h=>{try{a(null),await Tr.deleteRequest(h),e(p=>p.filter(v=>v.id!==h))}catch(p){throw a(p instanceof Error?p.message:"เกิดข้อผิดพลาดในการลบคำขอ"),p}};return k.useEffect(()=>{o()},[]),{requests:t,loading:r,error:i,fetchRequests:o,createRequest:s,approveRequest:l,rejectRequest:u,getApprovals:d,deleteRequest:f}}class b3{static async getAllAccountCodes(){const{data:e,error:r}=await Je.from("account_codes").select("*").eq("is_active",!0).order("code");if(r)throw console.error("Error fetching account codes:",r),r;return e||[]}static async createAccountCode(e){const{data:r,error:n}=await Je.from("account_codes").insert([e]).select().single();if(n)throw console.error("Error creating account code:",n),n;return r}static async updateAccountCode(e,r){const{data:n,error:i}=await Je.from("account_codes").update(r).eq("id",e).select().single();if(i)throw console.error("Error updating account code:",i),i;return n}static async deleteAccountCode(e){const{error:r}=await Je.from("account_codes").delete().eq("id",e);if(r)throw console.error("Error deleting account code:",r),r}}function N3(){const[t,e]=k.useState([]),[r,n]=k.useState(!0),[i,a]=k.useState(null),o=async()=>{try{n(!0),a(null);const s=await b3.getAllAccountCodes();e(s)}catch(s){a(s instanceof Error?s.message:"เกิดข้อผิดพลาดในการดึงข้อมูลรหัสบัญชี")}finally{n(!1)}};return k.useEffect(()=>{o()},[]),{accountCodes:t,loading:r,error:i,fetchAccountCodes:o}}class Oa{constructor(e=0,r="Network Error"){this.status=e,this.text=r}}const I3=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},He={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:I3()},$c=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},T3=(t,e="https://api.emailjs.com")=>{if(!t)return;const r=$c(t);He.publicKey=r.publicKey,He.blockHeadless=r.blockHeadless,He.storageProvider=r.storageProvider,He.blockList=r.blockList,He.limitRate=r.limitRate,He.origin=r.origin||e},sp=async(t,e,r={})=>{const n=await fetch(He.origin+t,{method:"POST",headers:r,body:e}),i=await n.text(),a=new Oa(n.status,i);if(n.ok)return a;throw a},lp=(t,e,r)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},O3=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},up=t=>t.webdriver||!t.languages||t.languages.length===0,cp=()=>new Oa(451,"Unavailable For Headless Browser"),j3=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},R3=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},k3=(t,e)=>t instanceof FormData?t.get(e):t[e],dp=(t,e)=>{if(R3(t))return!1;j3(t.list,t.watchVariable);const r=k3(e,t.watchVariable);return typeof r!="string"?!1:t.list.includes(r)},fp=()=>new Oa(403,"Forbidden"),P3=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},D3=async(t,e,r)=>{const n=Number(await r.get(t)||0);return e-Date.now()+n},hp=async(t,e,r)=>{if(!e.throttle||!r)return!1;P3(e.throttle,e.id);const n=e.id||t;return await D3(n,e.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},pp=()=>new Oa(429,"Too Many Requests"),M3=async(t,e,r,n)=>{const i=$c(n),a=i.publicKey||He.publicKey,o=i.blockHeadless||He.blockHeadless,s=i.storageProvider||He.storageProvider,l={...He.blockList,...i.blockList},u={...He.limitRate,...i.limitRate};return o&&up(navigator)?Promise.reject(cp()):(lp(a,t,e),O3(r),r&&dp(l,r)?Promise.reject(fp()):await hp(location.pathname,u,s)?Promise.reject(pp()):sp("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"}))},L3=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},B3=t=>typeof t=="string"?document.querySelector(t):t,F3=async(t,e,r,n)=>{const i=$c(n),a=i.publicKey||He.publicKey,o=i.blockHeadless||He.blockHeadless,s=He.storageProvider||i.storageProvider,l={...He.blockList,...i.blockList},u={...He.limitRate,...i.limitRate};if(o&&up(navigator))return Promise.reject(cp());const d=B3(r);lp(a,t,e),L3(d);const f=new FormData(d);return dp(l,f)?Promise.reject(fp()):await hp(location.pathname,u,s)?Promise.reject(pp()):(f.append("lib_version","4.4.1"),f.append("service_id",t),f.append("template_id",e),f.append("user_id",a),sp("/api/v1.0/email/send-form",f))},U3={init:T3,send:M3,sendForm:F3,EmailJSResponseStatus:Oa},$3="service_f2t090t",z3="template_7xibgbq",V3="MK2OUomFmzWPrHpMW";class H3{static async sendApprovalEmail(e){if(!e.approverEmail||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.approverEmail))throw new Error("กรุณาระบุอีเมลผู้อนุมัติให้ถูกต้อง");try{const r=`
        <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
          <thead>
            <tr style="background-color: #f8f9fa;">
              <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">ลำดับ</th>
              <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">รายการ</th>
              <th style="border: 1px solid #ddd; padding: 12px; text-align: center;">จำนวน</th>
            </tr>
          </thead>
          <tbody>
            ${e.items.map((s,l)=>`
              <tr>
                <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">${l+1}</td>
                <td style="border: 1px solid #ddd; padding: 12px;">${s.item}</td>
                <td style="border: 1px solid #ddd; padding: 12px; text-align: center;">${s.quantity}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      `,n=window.location.origin,i=`${n}/approve/${e.requestNo}?action=approve`,a=`${n}/approve/${e.requestNo}?action=reject`,o={to_email:e.approverEmail,approver_name:e.approverName||"ผู้อนุมัติ",requester:e.requester,account_name:e.accountName,amount:e.amount.toLocaleString(),items_table:r,note:e.note||"ไม่มี",approve_url:i,reject_url:a};console.log("Sending approval email with params:",o),await U3.send($3,z3,o,V3),console.log("Email sent successfully")}catch(r){throw console.error("Error sending email (real detail):",r),new Error("ไม่สามารถส่งอีเมลได้: "+((r==null?void 0:r.text)||(r==null?void 0:r.message)||JSON.stringify(r)))}}}function G3({isOpen:t,onClose:e,onSuccess:r}){const{accountCodes:n,loading:i}=N3(),[a,o]=k.useState(!1),[s,l]=k.useState(!1),[u,d]=k.useState({requester:"",approverEmail:"",accountCode:"",amount:0,note:""}),[f,h]=k.useState([{item:"",quantity:1}]),p=n.find(_=>_.code===u.accountCode),v=_=>{if(_.preventDefault(),!u.approverEmail||!u.approverEmail.trim()){alert("กรุณากรอกอีเมลผู้อนุมัติ");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.approverEmail.trim())){alert("กรุณากรอกอีเมลผู้อนุมัติให้ถูกต้อง");return}if(f.some(C=>!C.item.trim())){alert("กรุณากรอกรายการให้ครบถ้วน");return}o(!0)},g=async()=>{try{l(!0);const _={requester:u.requester,request_date:new Date().toISOString().split("T")[0],account_code:u.accountCode,account_name:(p==null?void 0:p.name)||"",amount:u.amount,note:u.note,material_list:f,status:"PENDING"},w=await Tr.createRequest(_);await H3.sendApprovalEmail({requestNo:w.request_no||"",requester:u.requester,approverEmail:u.approverEmail,approverName:"ผู้อนุมัติ",accountCode:u.accountCode,accountName:(p==null?void 0:p.name)||"",amount:u.amount,requestDate:new Date().toLocaleDateString("th-TH"),items:f,note:u.note}),alert("ส่งคำขอสำเร็จ! อีเมลแจ้งเตือนได้ถูกส่งไปยังผู้อนุมัติแล้ว"),d({requester:"",approverEmail:"",accountCode:"",amount:0,note:""}),h([{item:"",quantity:1}]),o(!1),r()}catch(_){console.error("Error submitting request:",_),alert("เกิดข้อผิดพลาดในการส่งคำขอ")}finally{l(!1)}},E=()=>{h([...f,{item:"",quantity:1}])},m=_=>{f.length>1&&h(f.filter((w,C)=>C!==_))},x=(_,w,C)=>{const S=[...f];S[_]={...S[_],[w]:C},h(S)},y=()=>{o(!1),e()};return c.jsxs(c.Fragment,{children:[c.jsx(mr,{isOpen:t&&!a,onClose:y,title:"สร้างคำขอใช้งบประมาณ",size:"xl",children:c.jsxs("form",{onSubmit:v,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"เลขที่คำขอ"}),c.jsx("input",{type:"text",value:"ระบบจะสร้างให้อัตโนมัติ",disabled:!0,className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white/60"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"วันที่"}),c.jsx("input",{type:"text",value:new Date().toLocaleDateString("th-TH"),disabled:!0,className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white/60"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"ผู้ขอ *"}),c.jsx("input",{type:"text",value:u.requester,onChange:_=>d(w=>({...w,requester:_.target.value})),required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกชื่อผู้ขอ"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"อีเมล์ผู้อนุมัติ *"}),c.jsx("input",{type:"email",value:u.approverEmail,onChange:_=>d(w=>({...w,approverEmail:_.target.value})),required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกอีเมล์ผู้อนุมัติ"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"เลือกรหัสบัญชี *"}),c.jsxs("select",{value:u.accountCode,onChange:_=>d(w=>({...w,accountCode:_.target.value})),required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"เลือกรหัสบัญชี"}),n.map(_=>c.jsxs("option",{value:_.code,children:[_.code," - ",_.name]},_.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"จำนวนเงินที่ขอ (บาท) *"}),c.jsx("input",{type:"number",value:u.amount,onChange:_=>d(w=>({...w,amount:parseFloat(_.target.value)||0})),required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกจำนวนเงิน"})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"รายการที่ขอ"}),c.jsxs(L,{type:"button",variant:"secondary",onClick:E,className:"flex items-center space-x-2",children:[c.jsx(hr,{className:"w-4 h-4"}),c.jsx("span",{children:"เพิ่มรายการ"})]})]}),c.jsx(U,{className:"p-4",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-white/70 text-sm border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 w-16",children:"ลำดับ"}),c.jsx("th",{className:"text-left py-2",children:"รายการ"}),c.jsx("th",{className:"text-left py-2 w-24",children:"จำนวน"}),c.jsx("th",{className:"text-center py-2 w-16",children:"ลบ"})]})}),c.jsx("tbody",{children:f.map((_,w)=>c.jsxs("tr",{className:"border-b border-white/5",children:[c.jsx("td",{className:"py-3 text-white",children:w+1}),c.jsx("td",{className:"py-3",children:c.jsx("input",{type:"text",value:_.item,onChange:C=>x(w,"item",C.target.value),required:!0,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกรายการ"})}),c.jsx("td",{className:"py-3",children:c.jsx("input",{type:"number",value:_.quantity,onChange:C=>x(w,"quantity",parseInt(C.target.value)||1),min:"1",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})}),c.jsx("td",{className:"py-3 text-center",children:f.length>1&&c.jsx(L,{type:"button",size:"sm",variant:"danger",onClick:()=>m(w),children:c.jsx(bc,{className:"w-4 h-4"})})})]},w))})]})})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"หมายเหตุ"}),c.jsx("textarea",{value:u.note,onChange:_=>d(w=>({...w,note:_.target.value})),rows:3,className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"กรอกหมายเหตุเพิ่มเติม (ถ้ามี)"})]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx(L,{type:"submit",variant:"primary",className:"flex-1",children:"ส่งคำขอ"}),c.jsx(L,{type:"button",variant:"secondary",onClick:y,children:"ยกเลิก"})]})]})}),c.jsx(mr,{isOpen:a,onClose:()=>o(!1),title:"ตรวจสอบรายละเอียดคำขอ",size:"lg",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(U,{className:"p-6",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"ผู้ขอ:"}),c.jsx("p",{className:"text-white font-medium",children:u.requester})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"อีเมล์ผู้อนุมัติ:"}),c.jsx("p",{className:"text-white font-medium",children:u.approverEmail})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"รหัสบัญชี:"}),c.jsx("p",{className:"text-white font-medium",children:u.accountCode})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60",children:"จำนวนเงิน:"}),c.jsxs("p",{className:"text-white font-medium",children:[u.amount.toLocaleString()," บาท"]})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("p",{className:"text-white/60",children:"ชื่อบัญชี:"}),c.jsx("p",{className:"text-white font-medium",children:p==null?void 0:p.name})]})]})}),c.jsxs(U,{className:"p-6",children:[c.jsx("h4",{className:"text-white font-medium mb-3",children:"รายการที่ขอ:"}),c.jsx("div",{className:"space-y-2",children:f.map((_,w)=>c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{className:"text-white",children:[w+1,". ",_.item]}),c.jsxs("span",{className:"text-white/60",children:["จำนวน ",_.quantity]})]},w))})]}),u.note&&c.jsxs(U,{className:"p-6",children:[c.jsx("h4",{className:"text-white font-medium mb-2",children:"หมายเหตุ:"}),c.jsx("p",{className:"text-white/80 text-sm",children:u.note})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(L,{onClick:g,disabled:s,className:"flex-1 flex items-center justify-center space-x-2 min-h-[40px]",children:s?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"กำลังส่งคำขอ..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(ag,{className:"w-4 h-4"}),c.jsx("span",{children:"ยืนยันส่งคำขอ"})]})}),c.jsx(L,{variant:"secondary",onClick:()=>o(!1),disabled:s,children:"แก้ไข"})]})]})})]})}function W3({request:t,onView:e,onDelete:r}){const n=()=>{switch(t.status){case"PENDING":return c.jsx(nr,{className:"w-5 h-5 text-yellow-400"});case"APPROVED":return c.jsx(st,{className:"w-5 h-5 text-green-400"});case"REJECTED":return c.jsx(Cn,{className:"w-5 h-5 text-red-400"});default:return c.jsx(nr,{className:"w-5 h-5 text-gray-400"})}},i=()=>{switch(t.status){case"PENDING":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"APPROVED":return"bg-green-500/20 text-green-400 border-green-500/30";case"REJECTED":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},a=()=>{switch(t.status){case"PENDING":return"รอการอนุมัติ";case"APPROVED":return"อนุมัติแล้ว";case"REJECTED":return"ปฏิเสธ";default:return"ไม่ทราบสถานะ"}};return c.jsx(U,{className:"p-6 hover:scale-105 transition-transform duration-300",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:t.request_no}),c.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[c.jsx(xi,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white/80 text-sm",children:t.requester})]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[n(),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${i()}`,children:a()})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs",children:"วันที่ขอ"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Sa,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white text-sm",children:new Date(t.request_date).toLocaleDateString("th-TH")})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs",children:"รหัสบัญชี"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Sc,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white text-sm",children:t.account_code})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs",children:"ชื่อบัญชี"}),c.jsx("p",{className:"text-white/80 text-sm",children:t.account_name})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/10",children:[c.jsx("span",{className:"text-white/60 text-sm",children:"จำนวนเงิน"}),c.jsxs("span",{className:"text-white font-semibold text-lg",children:[t.amount.toLocaleString()," บาท"]})]}),c.jsxs("div",{className:"pt-2 space-y-2",children:[c.jsxs(L,{size:"sm",variant:"secondary",onClick:()=>e(t),className:"flex items-center space-x-1 w-full justify-center",children:[c.jsx(y1,{className:"w-4 h-4"}),c.jsx("span",{children:"ดูรายละเอียด"})]}),t.status==="PENDING"&&r&&c.jsxs(L,{size:"sm",variant:"danger",onClick:()=>r(t.id),className:"flex items-center space-x-1 w-full justify-center",children:[c.jsx(ps,{className:"w-4 h-4"}),c.jsx("span",{children:"ลบคำขอ"})]})]})]})})}function X3({isOpen:t,onClose:e,request:r}){const[n,i]=k.useState([]),[a,o]=k.useState(!1);k.useEffect(()=>{r&&t&&s()},[r,t]);const s=async()=>{if(r)try{o(!0);const p=await Tr.getApprovals(r.id);i(p)}catch(p){console.error("Error fetching approvals:",p)}finally{o(!1)}},l=()=>{window.print()};if(!r)return null;const u=()=>{switch(r.status){case"PENDING":return c.jsx(nr,{className:"w-5 h-5 text-yellow-400"});case"APPROVED":return c.jsx(st,{className:"w-5 h-5 text-green-400"});case"REJECTED":return c.jsx(Cn,{className:"w-5 h-5 text-red-400"});default:return c.jsx(nr,{className:"w-5 h-5 text-gray-400"})}},d=()=>{switch(r.status){case"PENDING":return"รอการอนุมัติ";case"APPROVED":return"อนุมัติแล้ว";case"REJECTED":return"ปฏิเสธ";default:return"ไม่ทราบสถานะ"}},f=r.material_list||[],h=n.length>0?n[n.length-1]:null;return c.jsxs(c.Fragment,{children:[c.jsx(mr,{isOpen:t,onClose:e,title:"รายละเอียดคำขอใช้งบประมาณ",size:"xl",children:c.jsxs("div",{className:"space-y-6 print:space-y-4",children:[c.jsx("div",{className:"print:text-black",children:c.jsxs(U,{className:"p-6 print:shadow-none print:border print:border-gray-300 print:bg-white",children:[c.jsxs("div",{className:"text-center mb-6 print:mb-4",children:[c.jsx("h1",{className:"text-2xl font-bold text-white print:text-black print:text-xl",children:"ใบขออนุมัติใช้เงินงบประมาณ"}),c.jsx("div",{className:"mt-2 print:mt-1",children:c.jsxs("span",{className:"text-lg font-semibold text-white print:text-black print:text-base",children:["เลขที่: ",r.request_no]})})]}),c.jsx("div",{className:"flex items-start justify-between mb-4 print:mb-3 print:hidden",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[u(),c.jsxs("span",{className:"text-white font-medium",children:["สถานะ: ",d()]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 print:gap-3 print:text-sm",children:[c.jsxs("div",{className:"print:border print:border-gray-300 print:p-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1 print:hidden",children:[c.jsx(xi,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white/60 text-sm",children:"ผู้ขอ"})]}),c.jsx("div",{className:"print:block hidden",children:c.jsx("span",{className:"font-medium",children:"ผู้ขอ:"})}),c.jsx("p",{className:"text-white print:text-black font-medium",children:r.requester})]}),c.jsxs("div",{className:"print:border print:border-gray-300 print:p-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1 print:hidden",children:[c.jsx(Sa,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white/60 text-sm",children:"วันที่ขอ"})]}),c.jsx("div",{className:"print:block hidden",children:c.jsx("span",{className:"font-medium",children:"วันที่ขอ:"})}),c.jsx("p",{className:"text-white print:text-black",children:new Date(r.request_date).toLocaleDateString("th-TH")})]}),c.jsxs("div",{className:"print:border print:border-gray-300 print:p-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1 print:hidden",children:[c.jsx(Sc,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white/60 text-sm",children:"รหัสบัญชี"})]}),c.jsx("div",{className:"print:block hidden",children:c.jsx("span",{className:"font-medium",children:"รหัสบัญชี:"})}),c.jsx("p",{className:"text-white print:text-black font-medium",children:r.account_code})]}),c.jsxs("div",{className:"print:border print:border-gray-300 print:p-2",children:[c.jsx("div",{className:"flex items-center space-x-2 mb-1 print:hidden",children:c.jsx("span",{className:"text-white/60 text-sm",children:"จำนวนเงิน"})}),c.jsx("div",{className:"print:block hidden",children:c.jsx("span",{className:"font-medium",children:"จำนวนเงิน:"})}),c.jsxs("p",{className:"text-white print:text-black font-bold text-lg print:text-base",children:[r.amount.toLocaleString()," บาท"]})]}),c.jsxs("div",{className:"md:col-span-2 print:border print:border-gray-300 print:p-2",children:[c.jsx("div",{className:"print:block hidden",children:c.jsx("span",{className:"font-medium",children:"ชื่อบัญชี:"})}),c.jsx("p",{className:"text-white/60 print:text-gray-600 text-sm mb-1 print:hidden",children:"ชื่อบัญชี"}),c.jsx("p",{className:"text-white print:text-black",children:r.account_name})]}),h&&c.jsxs("div",{className:"md:col-span-2 print:border print:border-gray-300 print:p-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1 print:hidden",children:[c.jsx(lg,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-white/60 text-sm",children:"ผู้อนุมัติ"})]}),c.jsx("div",{className:"print:block hidden",children:c.jsx("span",{className:"font-medium",children:"ผู้อนุมัติ:"})}),c.jsxs("p",{className:"text-white print:text-black font-medium",children:[h.approver_name||"ไม่ระบุชื่อ"," (อนุมัติเมื่อ ",new Date(h.created_at).toLocaleDateString("th-TH"),")"]})]})]})]})}),c.jsxs(U,{className:"p-6 print:shadow-none print:border print:border-gray-300 print:bg-white",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4 print:mb-3",children:[c.jsx(w1,{className:"w-5 h-5 text-white/60 print:hidden"}),c.jsx("h3",{className:"text-lg font-semibold text-white print:text-black print:text-base",children:"รายการที่ขอ"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full print:text-black print:text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-white/70 print:text-black text-sm border-b border-white/10 print:border-gray-400",children:[c.jsx("th",{className:"text-left py-2 print:py-1 print:border print:border-gray-400 print:px-2",children:"ลำดับ"}),c.jsx("th",{className:"text-left py-2 print:py-1 print:border print:border-gray-400 print:px-2",children:"รายการ"}),c.jsx("th",{className:"text-right py-2 print:py-1 print:border print:border-gray-400 print:px-2",children:"จำนวน"})]})}),c.jsx("tbody",{className:"text-white print:text-black",children:f.map((p,v)=>c.jsxs("tr",{className:"border-b border-white/5 print:border-gray-300",children:[c.jsx("td",{className:"py-3 print:py-2 print:border print:border-gray-400 print:px-2",children:v+1}),c.jsx("td",{className:"py-3 print:py-2 print:border print:border-gray-400 print:px-2",children:p.item}),c.jsx("td",{className:"py-3 print:py-2 text-right print:border print:border-gray-400 print:px-2",children:p.quantity})]},v))})]})})]}),r.note&&c.jsxs(U,{className:"p-6 print:shadow-none print:border print:border-gray-300 print:bg-white",children:[c.jsx("h3",{className:"text-lg font-semibold text-white print:text-black print:text-base mb-3",children:"หมายเหตุ"}),c.jsx("div",{className:"print:border print:border-gray-300 print:p-2",children:c.jsx("p",{className:"text-white/80 print:text-black print:text-sm",children:r.note})})]}),c.jsx("div",{className:"hidden print:block print:mt-8",children:c.jsx(U,{className:"p-6 print:shadow-none print:border print:border-gray-300 print:bg-white",children:c.jsxs("div",{className:"grid grid-cols-2 gap-8 print:text-sm",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"border-b border-gray-400 mb-2 pb-8"}),c.jsx("p",{className:"font-medium",children:"ลายเซ็นผู้ขอ"}),c.jsxs("p",{children:["(",r.requester,")"]}),c.jsx("p",{children:"วันที่ ........................."})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"border-b border-gray-400 mb-2 pb-8"}),c.jsx("p",{className:"font-medium",children:"ลายเซ็นผู้อนุมัติ"}),c.jsx("p",{children:"(...........................)"}),c.jsx("p",{children:"วันที่ ........................."})]})]})})}),n.length>0&&c.jsxs(U,{className:"p-6 print:hidden",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"ประวัติการอนุมัติ"}),c.jsx("div",{className:"space-y-3",children:n.map((p,v)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[p.decision==="APPROVE"?c.jsx(st,{className:"w-4 h-4 text-green-400"}):c.jsx(Cn,{className:"w-4 h-4 text-red-400"}),c.jsx("span",{className:`text-sm font-medium ${p.decision==="APPROVE"?"text-green-400":"text-red-400"}`,children:p.decision==="APPROVE"?"อนุมัติ":"ปฏิเสธ"})]}),p.remark&&c.jsxs("p",{className:"text-white/70 text-sm mt-1",children:["หมายเหตุ: ",p.remark]})]}),c.jsx("div",{className:"text-right",children:c.jsx("p",{className:"text-white/60 text-xs",children:new Date(p.created_at).toLocaleDateString("th-TH")})})]},v))})]}),c.jsxs("div",{className:"flex space-x-3 pt-4 print:hidden",children:[c.jsxs(L,{variant:"secondary",onClick:l,className:"flex items-center space-x-2",children:[c.jsx(rg,{className:"w-4 h-4"}),c.jsx("span",{children:"พิมพ์"})]}),c.jsx(L,{variant:"secondary",onClick:e,className:"flex-1",children:"ปิด"})]})]})}),c.jsx("style",{jsx:!0,children:`
        @media print {
          @page {
            size: A4 portrait;
            margin: 1.5cm;
          }
          
          body {
            -webkit-print-color-adjust: exact;
            color-adjust: exact;
            font-family: 'Sarabun', sans-serif;
          }
          
          .print\\:text-black {
            color: black !important;
          }
          
          .print\\:text-gray-600 {
            color: #4b5563 !important;
          }
          
          .print\\:text-gray-700 {
            color: #374151 !important;
          }
          
          .print\\:border {
            border: 1px solid #000 !important;
          }
          
          .print\\:border-gray-300 {
            border-color: #000 !important;
          }
          
          .print\\:border-gray-400 {
            border-color: #000 !important;
          }
          
          .print\\:shadow-none {
            box-shadow: none !important;
          }
          
          .print\\:bg-white {
            background-color: white !important;
          }
          
          .print\\:hidden {
            display: none !important;
          }
          
          .print\\:block {
            display: block !important;
          }
          
          .print\\:space-y-4 > * + * {
            margin-top: 1rem !important;
          }
          
          .print\\:gap-3 {
            gap: 0.75rem !important;
          }
          
          .print\\:mb-2 {
            margin-bottom: 0.5rem !important;
          }
          
          .print\\:mb-3 {
            margin-bottom: 0.75rem !important;
          }
          
          .print\\:mb-4 {
            margin-bottom: 1rem !important;
          }
          
          .print\\:mt-1 {
            margin-top: 0.25rem !important;
          }
          
          .print\\:mt-8 {
            margin-top: 2rem !important;
          }
          
          .print\\:p-2 {
            padding: 0.5rem !important;
          }
          
          .print\\:px-2 {
            padding-left: 0.5rem !important;
            padding-right: 0.5rem !important;
          }
          
          .print\\:py-1 {
            padding-top: 0.25rem !important;
            padding-bottom: 0.25rem !important;
          }
          
          .print\\:py-2 {
            padding-top: 0.5rem !important;
            padding-bottom: 0.5rem !important;
          }
          
          .print\\:text-xs {
            font-size: 0.75rem !important;
          }
          
          .print\\:text-sm {
            font-size: 0.875rem !important;
          }
          
          .print\\:text-base {
            font-size: 1rem !important;
          }
          
          .print\\:text-xl {
            font-size: 1.25rem !important;
          }
        }
      `})]})}function q3(){const{requests:t,loading:e,error:r,fetchRequests:n,deleteRequest:i}=S3(),[a,o]=k.useState(!1),[s,l]=k.useState(null),[u,d]=k.useState(""),[f,h]=k.useState(""),p=t.filter(g=>{var x;const E=((x=g.request_no)==null?void 0:x.toLowerCase().includes(u.toLowerCase()))||g.requester.toLowerCase().includes(u.toLowerCase())||g.account_code.toLowerCase().includes(u.toLowerCase()),m=!f||g.status===f;return E&&m}),v=async g=>{const E=t.find(m=>m.id===g);if(E&&confirm(`คุณแน่ใจหรือไม่ที่จะลบคำขอ ${E.request_no}?`))try{await i(g),alert("ลบคำขอสำเร็จ")}catch{alert("เกิดข้อผิดพลาดในการลบคำขอ")}};return e?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"h-8 w-56 bg-white/10 rounded animate-pulse mb-2"}),c.jsx("div",{className:"h-4 w-80 bg-white/10 rounded animate-pulse"})]}),c.jsx("div",{className:"h-10 w-36 bg-white/10 rounded animate-pulse"})]}),c.jsx("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl p-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[c.jsx("div",{className:"flex-1 h-10 bg-white/10 rounded animate-pulse"}),c.jsx("div",{className:"h-10 w-32 bg-white/10 rounded animate-pulse"})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((g,E)=>c.jsx("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl p-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-6 w-24 bg-white/10 rounded animate-pulse"}),c.jsx("div",{className:"h-4 w-32 bg-white/10 rounded animate-pulse"})]}),c.jsx("div",{className:"h-6 w-20 bg-white/10 rounded animate-pulse"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"h-4 w-full bg-white/10 rounded animate-pulse"}),c.jsx("div",{className:"h-4 w-3/4 bg-white/10 rounded animate-pulse"}),c.jsx("div",{className:"h-4 w-1/2 bg-white/10 rounded animate-pulse"})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2",children:[c.jsx("div",{className:"h-4 w-16 bg-white/10 rounded animate-pulse"}),c.jsx("div",{className:"h-6 w-24 bg-white/10 rounded animate-pulse"})]}),c.jsx("div",{className:"h-8 w-full bg-white/10 rounded animate-pulse"})]})},E))})]}):r?c.jsxs("div",{className:"text-center text-red-400 p-8",children:[c.jsxs("p",{children:["เกิดข้อผิดพลาด: ",r]}),c.jsx(L,{onClick:n,className:"mt-4",children:"ลองใหม่"})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"การขอใช้งบประมาณ"}),c.jsx("p",{className:"text-white/60",children:"จัดการคำขอใช้งบประมาณและติดตามสถานะการอนุมัติ"})]}),c.jsxs(L,{onClick:()=>o(!0),className:"flex items-center space-x-2",children:[c.jsx(hr,{className:"w-5 h-5"}),c.jsx("span",{children:"สร้างคำขอใหม่"})]})]}),c.jsx(U,{className:"p-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(vi,{className:"w-5 h-5 text-white/60 absolute left-3 top-1/2 transform -translate-y-1/2"}),c.jsx("input",{type:"text",placeholder:"ค้นหาเลขที่คำขอ, ผู้ขอ หรือรหัสบัญชี...",value:u,onChange:g=>d(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(fs,{className:"w-5 h-5 text-white/60 absolute left-3 top-1/2 transform -translate-y-1/2"}),c.jsxs("select",{value:f,onChange:g=>h(g.target.value),className:"pl-10 pr-8 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"สถานะทั้งหมด"}),c.jsx("option",{value:"PENDING",children:"รอการอนุมัติ"}),c.jsx("option",{value:"APPROVED",children:"อนุมัติแล้ว"}),c.jsx("option",{value:"REJECTED",children:"ปฏิเสธ"})]})]})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(g=>c.jsx(W3,{request:g,onView:l,onDelete:v},g.id))}),p.length===0&&c.jsxs(U,{className:"p-12 text-center",children:[c.jsx("p",{className:"text-white/60 text-lg",children:u||f?"ไม่พบคำขอที่ตรงกับเงื่อนไขการค้นหา":"ยังไม่มีคำขอในระบบ"}),!u&&!f&&c.jsx(L,{onClick:()=>o(!0),className:"mt-4",children:"สร้างคำขอรายการแรก"})]}),c.jsx(G3,{isOpen:a,onClose:()=>o(!1),onSuccess:()=>{o(!1),n()}}),c.jsx(X3,{isOpen:!!s,onClose:()=>l(null),request:s})]})}function K3(){const[t,e]=k.useState("dashboard"),[r,n]=k.useState(!1),i=()=>{switch(t){case"dashboard":return"หน้าหลัก";case"materials":return"จัดการวัสดุ";case"requests":return"คำขอเบิกวัสดุ";case"budget-requests":return"การขอใช้งบประมาณ";case"users":return"จัดการผู้ใช้";case"reports":return"รายงาน";case"notifications":return"การแจ้งเตือน";case"settings":return"ตั้งค่าระบบ";default:return"หน้าหลัก"}},a=()=>{switch(t){case"dashboard":return c.jsx(tf,{});case"materials":return c.jsx(v3,{});case"requests":return c.jsx(y3,{});case"budget-requests":return c.jsx(q3,{});case"users":return c.jsx(_3,{});case"reports":return c.jsx(E3,{});case"notifications":return c.jsx(A3,{});case"settings":return c.jsx(C3,{});default:return c.jsx(tf,{})}};return c.jsx(Wx,{children:c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:c.jsxs("div",{className:"flex h-screen",children:[c.jsx(ug,{activeView:t,onViewChange:e,isCollapsed:r}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsx(cg,{onSidebarToggle:()=>n(!r),title:i()}),c.jsx("main",{className:"flex-1 overflow-auto p-6",children:a()})]})]})})})}x1(document.getElementById("root")).render(c.jsx(k.StrictMode,{children:c.jsx(K3,{})}));
